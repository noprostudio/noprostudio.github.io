{
  "version": 3,
  "sources": ["../../build/_snowpack/env.js", "../../build/_snowpack/pkg/common/mixin-ad130ceb.js", "../../build/_snowpack/pkg/common/deferror-480a42fb.js", "../../build/_snowpack/pkg/common/illegal-state-738ff8f5.js", "../../build/_snowpack/pkg/common/is-array-a7fa88fb.js", "../../build/_snowpack/pkg/common/is-string-40d6c094.js", "../../build/_snowpack/pkg/common/atom-a88f1d55.js", "../../build/_snowpack/pkg/common/index-6d483b49.js", "../../build/_snowpack/pkg/@thi.ng/atom.js", "../../build/_snowpack/pkg/common/constants-8dfd1542.js", "../../build/_snowpack/pkg/common/is-function-b13d3e65.js", "../../build/_snowpack/pkg/common/illegal-arguments-f9331715.js", "../../build/_snowpack/pkg/common/implements-function-c507affc.js", "../../build/_snowpack/pkg/@thi.ng/hdom.js", "../../build/_snowpack/pkg/@thi.ng/interceptors.js", "../../build/_snowpack/pkg/common/illegal-arity-febf7f58.js", "../../build/_snowpack/pkg/@thi.ng/router.js", "../../build/dist/events.js", "../../build/dist/components/event-btn.js", "../../build/dist/components/debug-container.js", "../../build/_snowpack/pkg/@thi.ng/checks/is-alphanum.js", "../../build/dist/routes.js", "../../build/dist/components/icons.js", "../../build/dist/components/logo.js", "../../build/dist/api.js", "../../build/dist/components/newsletter-form.js", "../../build/dist/components/character-card.js", "../../build/dist/components/utils.js", "../../build/_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js", "../../build/dist/components/about.js", "../../build/dist/components/external-link.js", "../../build/dist/components/contact.js", "../../build/dist/components/status.js", "../../build/dist/components/search.js", "../../build/_snowpack/pkg/common/comp-6cd2ee8b.js", "../../build/_snowpack/pkg/@thi.ng/transducers.js", "../../build/_snowpack/pkg/@thi.ng/hiccup-markdown.js", "../../build/dist/components/markdown-parser.js", "../../build/dist/components/vote-zone.js", "../../build/_snowpack/pkg/@thi.ng/hdom-components.js", "../../build/dist/components/opinion-card.js", "../../build/dist/components/input-row.js", "../../build/dist/components/opinion-input.js", "../../build/dist/components/event-link.js", "../../build/dist/components/metadata.js", "../../build/dist/components/entry-header.js", "../../build/dist/components/entry-detail.js", "../../build/dist/components/entry-input-form.js", "../../build/dist/components/new-entry.js", "../../build/dist/components/edit-entry.js", "../../build/dist/components/sign-in.js", "../../build/dist/components/github-oauth.js", "../../build/dist/components/faq.js", "../../build/dist/components/donate.js", "../../build/dist/effects.js", "../../build/dist/config.js", "../../build/dist/components/route-link.js", "../../build/dist/components/search-bar.js", "../../build/dist/components/account-dropdown.js", "../../build/dist/components/notification-dropdown.js", "../../build/dist/components/nav.js", "../../build/dist/components/footer.js", "../../build/dist/components/frame.js", "../../build/dist/app.js", "../../build/dist/index.js"],
  "sourcesContent": ["export const SNOWPACK_PUBLIC_API_HOST = \"https://mencius.azurewebsites.net\";\nexport const SNOWPACK_PUBLIC_CLIENT_ID = \"2ed1b3b100d6c005d42b\";\nexport const SNOWPACK_PUBLIC_REDIRECT_URI = \"https://nopro.studio/mencius/#/github_oauth_cb\";\nexport const MODE = \"production\";\nexport const NODE_ENV = \"production\";\nexport const SSR = false;", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\n\n/**\n * Class behavior mixin based on:\n * {@link http://raganwald.com/2015/06/26/decorators-in-es7.html}\n *\n * Additionally only injects/overwrites properties in target, which are\n * NOT marked with `@nomixin` (i.e. haven't set their `configurable`\n * property descriptor flag to `false`)\n *\n * @param behaviour - to mixin\n * @param sharedBehaviour -\n * @returns decorator function\n */\nconst mixin = (behaviour, sharedBehaviour = {}) => {\n    const instanceKeys = Reflect.ownKeys(behaviour);\n    const sharedKeys = Reflect.ownKeys(sharedBehaviour);\n    const typeTag = Symbol(\"isa\");\n    function _mixin(clazz) {\n        for (let key of instanceKeys) {\n            const existing = Object.getOwnPropertyDescriptor(clazz.prototype, key);\n            if (!existing || existing.configurable) {\n                Object.defineProperty(clazz.prototype, key, {\n                    value: behaviour[key],\n                    writable: true,\n                });\n            }\n            else {\n                console.log(`not patching: ${clazz.name}.${key.toString()}`);\n            }\n        }\n        Object.defineProperty(clazz.prototype, typeTag, { value: true });\n        return clazz;\n    }\n    for (let key of sharedKeys) {\n        Object.defineProperty(_mixin, key, {\n            value: sharedBehaviour[key],\n            enumerable: sharedBehaviour.propertyIsEnumerable(key),\n        });\n    }\n    Object.defineProperty(_mixin, Symbol.hasInstance, {\n        value: (x) => !!x[typeTag],\n    });\n    return _mixin;\n};\n\nexport { __decorate as _, mixin as m };\n", "const defError = (prefix, suffix = (msg) => (msg !== undefined ? \": \" + msg : \"\")) => class extends Error {\n    constructor(msg) {\n        super(prefix(msg) + suffix(msg));\n    }\n};\n\nexport { defError as d };\n", "import { d as defError } from './deferror-480a42fb.js';\n\nconst IllegalStateError = defError(() => \"illegal state\");\nconst illegalState = (msg) => {\n    throw new IllegalStateError(msg);\n};\n\nexport { illegalState as i };\n", "const isArray = Array.isArray;\n\nexport { isArray as i };\n", "const isString = (x) => typeof x === \"string\";\n\nexport { isString as i };\n", "import { m as mixin, _ as __decorate } from './mixin-ad130ceb.js';\nimport { i as illegalState } from './illegal-state-738ff8f5.js';\nimport { i as isArray } from './is-array-a7fa88fb.js';\nimport { i as isString } from './is-string-40d6c094.js';\n\nconst IWatchMixin = mixin({\n    addWatch(id, fn) {\n        this._watches = this._watches || {};\n        if (this._watches[id]) {\n            return false;\n        }\n        this._watches[id] = fn;\n        return true;\n    },\n    removeWatch(id) {\n        if (!this._watches)\n            return;\n        if (this._watches[id]) {\n            delete this._watches[id];\n            return true;\n        }\n        return false;\n    },\n    notifyWatches(oldState, newState) {\n        if (!this._watches)\n            return;\n        const w = this._watches;\n        for (let id in w) {\n            w[id](id, oldState, newState);\n        }\n    },\n});\n\nconst isTypedArray = (x) => x &&\n    (x instanceof Float32Array ||\n        x instanceof Float64Array ||\n        x instanceof Uint32Array ||\n        x instanceof Int32Array ||\n        x instanceof Uint8Array ||\n        x instanceof Int8Array ||\n        x instanceof Uint16Array ||\n        x instanceof Int16Array ||\n        x instanceof Uint8ClampedArray);\n\n/**\n * Converts the given key path to canonical form (array).\n *\n * ```\n * toPath(\"a.b.c\");\n * // [\"a\", \"b\", \"c\"]\n *\n * toPath(0)\n * // [0]\n *\n * toPath([\"a\", \"b\", \"c\"])\n * // [\"a\", \"b\", \"c\"]\n * ```\n *\n * @param path -\n */\nconst toPath = (path) => isArray(path)\n    ? path\n    : isString(path)\n        ? path.length > 0\n            ? path.split(\".\")\n            : []\n        : path != null\n            ? [path]\n            : [];\n\n/**\n * Unchecked version of {@link defGetter}.\n *\n * @remarks\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be retrieved (default: `any`).\n *\n * Also see: {@link getIn}, {@link getInUnsafe}\n *\n * @example\n * ```ts\n * const g = defGetterUnsafe(\"a.b.c\");\n *\n * g({ a: { b: { c: 23} } }) // 23\n * g({ x: 23 }) // undefined\n * g() // undefined\n * ```\n *\n * @param path -\n */\nconst defGetterUnsafe = (path) => defGetter(path);\nfunction defGetter(path) {\n    const ks = toPath(path);\n    const [a, b, c, d] = ks;\n    switch (ks.length) {\n        case 0:\n            return (s) => s;\n        case 1:\n            return (s) => (s != null ? s[a] : undefined);\n        case 2:\n            return (s) => s != null ? ((s = s[a]) != null ? s[b] : undefined) : undefined;\n        case 3:\n            return (s) => s != null\n                ? (s = s[a]) != null\n                    ? (s = s[b]) != null\n                        ? s[c]\n                        : undefined\n                    : undefined\n                : undefined;\n        case 4:\n            return (s) => s != null\n                ? (s = s[a]) != null\n                    ? (s = s[b]) != null\n                        ? (s = s[c]) != null\n                            ? s[d]\n                            : undefined\n                        : undefined\n                    : undefined\n                : undefined;\n        default:\n            return (s) => {\n                const n = ks.length - 1;\n                let res = s;\n                for (let i = 0; res != null && i <= n; i++) {\n                    res = res[ks[i]];\n                }\n                return res;\n            };\n    }\n}\n\n/**\n * Composes a setter function for given nested update path. Optimized\n * fast execution paths are provided for path lengths less up to 4.\n *\n * @remarks\n * Supports both arrays and objects and creates intermediate shallow\n * copies at each level of the path. Thus provides structural sharing\n * with the original data for any branches not being updated by the\n * setter.\n *\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be updated (default: `any`).\n *\n * If `path` is given as string, it will be split using `.`. Returns\n * function which accepts single object and when called, **immutably**\n * updates value at given path, i.e. produces a partial deep copy of obj\n * up until given path.\n *\n * If any intermediate key is not present in the given obj, creates a\n * plain empty object for that key and descends further.\n *\n * If `path` is an empty string or array, the returned setter will\n * simply return the new value.\n *\n * Only keys in the path will be modified, all other keys present in the\n * given object retain their original values to provide efficient\n * structural sharing / re-use.\n *\n * @example\n * ```ts\n * s = defSetterUnsafe(\"a.b.c\");\n * // or\n * s = defSetterUnsafe([\"a\", \"b\", \"c\"]);\n *\n * s({ a: { b: { c: 23} } }, 24)\n * // { a: { b: { c: 24} } }\n *\n * s({ x: 23 }, 24)\n * // { x: 23, a: { b: { c: 24 } } }\n *\n * s(null, 24)\n * // { a: { b: { c: 24 } } }\n * ```\n *\n * @example\n * ```ts\n * s = defSetterUnsafe(\"a.b.c\");\n *\n * a = { x: { y: { z: 1 } } };\n * b = s(a, 2);\n * // { x: { y: { z: 1 } }, a: { b: { c: 2 } } }\n *\n * a.x === b.x // true\n * a.x.y === b.x.y // true\n * ```\n *\n * @param path -\n */\nconst defSetterUnsafe = (path) => defSetter(path);\nfunction defSetter(path) {\n    const ks = toPath(path);\n    const [a, b, c, d] = ks;\n    switch (ks.length) {\n        case 0:\n            return (_, v) => v;\n        case 1:\n            return (s, v) => ((s = copy(s)), (s[a] = v), s);\n        case 2:\n            return (s, v) => {\n                let x;\n                s = copy(s);\n                s[a] = x = copy(s[a]);\n                x[b] = v;\n                return s;\n            };\n        case 3:\n            return (s, v) => {\n                let x, y;\n                s = copy(s);\n                s[a] = x = copy(s[a]);\n                x[b] = y = copy(x[b]);\n                y[c] = v;\n                return s;\n            };\n        case 4:\n            return (s, v) => {\n                let x, y, z;\n                s = copy(s);\n                s[a] = x = copy(s[a]);\n                x[b] = y = copy(x[b]);\n                y[c] = z = copy(y[c]);\n                z[d] = v;\n                return s;\n            };\n        default:\n            let f;\n            for (let i = ks.length; --i >= 0;) {\n                f = compS(ks[i], f);\n            }\n            return f;\n    }\n}\n/**\n * Creates a shallow copy of given array, typed array or plain object.\n *\n * @param x\n */\nconst copy = (x) => isArray(x) || isTypedArray(x) ? x.slice() : Object.assign({}, x);\n/**\n * Helper for {@link defSetter}. Returns setter for a single step.\n *\n * @param k -\n * @param f -\n *\n * @internal\n */\nconst compS = (k, f) => (s, v) => ((s = copy(s)), (s[k] = f ? f(s[k], v) : v), s);\n\n/**\n * Similar to {@link setInUnsafe}, but applies given function to current\n * path value (incl. any additional/optional arguments passed to\n * `updateIn`) and uses result as new value. Does not modify original\n * state.\n *\n * @remarks\n * Unchecked version of {@link updateIn}. The type parameter `T` can be\n * used to indicate the type of the nested value to be updated (default:\n * `any`).\n *\n * @example\n * ```ts\n * add = (x: number, y: number) => x + y;\n * updateInUnsafe({ a: { b: { c: 23 } } }, \"a.b.c\", add, 10);\n * // { a: { b: { c: 33 } } }\n *\n * // type checked\n * updateIn({ a: { b: { c: 23 } } }, [\"a\",\"b\",\"c\"], add, 10);\n * // { a: { b: { c: 33 } } }\n *\n * // type error (value at \"a.b\" is not a number)\n * updateIn({ a: { b: { c: 23 } } }, [\"a\",\"b\"], add, 10);\n * ```\n *\n * @param state - state to update\n * @param path - update path\n * @param fn - update function\n * @param args - optional args for `fn`\n */\nconst updateInUnsafe = (state, path, fn, ...args) => \n// @ts-ignore\nupdateIn(state, path, fn, ...args);\nfunction updateIn(state, path, fn, ...args) {\n    return defSetter(path)(state, \n    // @ts-ignore\n    fn.apply(null, (args.unshift(defGetter(path)(state)), args)));\n}\n\n/**\n * Unchecked version of {@link setIn}.\n *\n * @remarks\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be set (default: `any`).\n *\n * @example\n * ```ts\n * setInUnsafe({}, \"a.b.c\", 23);\n * // { a: { b: { c: 23} } }\n * ```\n *\n * @param state -\n * @param path -\n */\nconst setInUnsafe = (state, path, val) => defSetter(path)(state, val);\n\n/**\n * Mutable wrapper for an (usually) immutable value. Support for\n * watches.\n */\nlet Atom = class Atom {\n    constructor(val, valid) {\n        if (valid && !valid(val)) {\n            illegalState(\"initial state value did not validate\");\n        }\n        this._value = val;\n        this.valid = valid;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(val) {\n        this.reset(val);\n    }\n    deref() {\n        return this._value;\n    }\n    equiv(o) {\n        return this === o;\n    }\n    reset(val) {\n        const old = this._value;\n        if (this.valid && !this.valid(val)) {\n            return old;\n        }\n        this._value = val;\n        this.notifyWatches(old, val);\n        return val;\n    }\n    resetIn(path, val) {\n        return this.reset(setInUnsafe(this._value, path, val));\n    }\n    resetInUnsafe(path, val) {\n        return this.reset(setInUnsafe(this._value, path, val));\n    }\n    swap(fn, ...args) {\n        return this.reset(fn.apply(null, [this._value, ...args]));\n    }\n    swapIn(path, fn, ...args) {\n        return this.reset(updateInUnsafe(this._value, path, fn, ...args));\n    }\n    swapInUnsafe(path, fn, ...args) {\n        return this.reset(updateInUnsafe(this._value, path, fn, ...args));\n    }\n    // @ts-ignore: mixin\n    addWatch(id, fn) { }\n    // @ts-ignore: mixin\n    removeWatch(id) { }\n    // @ts-ignore: mixin\n    notifyWatches(old, prev) { }\n    release() {\n        delete this._watches;\n        delete this._value;\n        return true;\n    }\n};\nAtom = __decorate([\n    IWatchMixin\n], Atom);\n\nexport { Atom as A, defGetter as a, defSetter as b, defSetterUnsafe as c, defGetterUnsafe as d, setInUnsafe as s, toPath as t, updateInUnsafe as u };\n", "const OBJP = Object.getPrototypeOf({});\nconst FN = \"function\";\nconst STR = \"string\";\nconst equiv = (a, b) => {\n    let proto;\n    if (a === b) {\n        return true;\n    }\n    if (a != null) {\n        if (typeof a.equiv === FN) {\n            return a.equiv(b);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (b != null) {\n        if (typeof b.equiv === FN) {\n            return b.equiv(a);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (typeof a === STR || typeof b === STR) {\n        return false;\n    }\n    if (((proto = Object.getPrototypeOf(a)), proto == null || proto === OBJP) &&\n        ((proto = Object.getPrototypeOf(b)), proto == null || proto === OBJP)) {\n        return equivObject(a, b);\n    }\n    if (typeof a !== FN &&\n        a.length !== undefined &&\n        typeof b !== FN &&\n        b.length !== undefined) {\n        return equivArrayLike(a, b);\n    }\n    if (a instanceof Set && b instanceof Set) {\n        return equivSet(a, b);\n    }\n    if (a instanceof Map && b instanceof Map) {\n        return equivMap(a, b);\n    }\n    if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime();\n    }\n    if (a instanceof RegExp && b instanceof RegExp) {\n        return a.toString() === b.toString();\n    }\n    // NaN\n    return a !== a && b !== b;\n};\nconst equivArrayLike = (a, b, _equiv = equiv) => {\n    let l = a.length;\n    if (l === b.length) {\n        while (--l >= 0 && _equiv(a[l], b[l]))\n            ;\n    }\n    return l < 0;\n};\nconst equivSet = (a, b, _equiv = equiv) => a.size === b.size && _equiv([...a.keys()].sort(), [...b.keys()].sort());\nconst equivMap = (a, b, _equiv = equiv) => a.size === b.size && _equiv([...a].sort(), [...b].sort());\nconst equivObject = (a, b, _equiv = equiv) => {\n    if (Object.keys(a).length !== Object.keys(b).length) {\n        return false;\n    }\n    for (let k in a) {\n        if (!b.hasOwnProperty(k) || !_equiv(a[k], b[k])) {\n            return false;\n        }\n    }\n    return true;\n};\n\nexport { equivObject as a, equivArrayLike as b, equivSet as c, equivMap as d, equiv as e };\n", "import { t as toPath, d as defGetterUnsafe } from '../common/atom-a88f1d55.js';\nexport { A as Atom } from '../common/atom-a88f1d55.js';\nimport { e as equiv } from '../common/index-6d483b49.js';\nimport '../common/mixin-ad130ceb.js';\nimport '../common/illegal-state-738ff8f5.js';\nimport '../common/deferror-480a42fb.js';\nimport '../common/is-array-a7fa88fb.js';\nimport '../common/is-string-40d6c094.js';\n\nlet NEXT_ID = 0;\nconst nextID = () => NEXT_ID++;\n\nfunction defViewUnsafe(parent, path, tx, lazy, equiv) {\n    return new View(parent, path, tx, lazy, equiv);\n}\n/**\n * This class implements readonly access to a deeply nested value with\n * in an Atom/Cursor. An optional transformer function can be supplied\n * at creation time to produce a derived/materialized view of the actual\n * value held in the atom.\n *\n * @remarks\n * Views can be created directly or via the {@link IViewable.addView}\n * method of the parent state. Views can be\n * {@link @thi.ng/api#IDeref.deref}'d like atoms and polled for value\n * changes using {@link IView.changed}. The transformer is only applied\n * once per value change and its result cached until the next change.\n *\n * If the optional `lazy` is true (default), the transformer will only\n * be executed with the first {@link @thi.ng/api#IDeref.deref} after\n * each value change. If `lazy` is false, the transformer function will\n * be executed immediately after a value change occurred and so can be\n * used like a watch which only triggers if there was an actual value\n * change (in contrast to normal watches, which execute with each\n * update, regardless of value change).\n *\n * Related, the actual value change predicate can be customized. If not\n * given, the default {@link @thi.ng/equiv#equiv} will be used.\n *\n * @example\n * ```ts\n * a = defAtom({ a: { b: 1 } });\n * v = defView(a, [\"a\", \"b\"], (x) => x * 10);\n *\n * v.deref()\n * // 10\n *\n * // update atom state\n * a.resetIn([\"a\", \"b\"], 2);\n * // { a: { b: 2 } }\n *\n * v.changed()\n * // true\n * v.deref()\n * // 20\n *\n * // remove view from parent state\n * v.release()\n * ```\n */\nclass View {\n    constructor(parent, path, tx, lazy = true, equiv$1 = equiv) {\n        this.parent = parent;\n        this.id = `view-${nextID()}`;\n        this.tx = tx || ((x) => x);\n        this.path = toPath(path);\n        this.isDirty = true;\n        this.isLazy = lazy;\n        const lookup = defGetterUnsafe(this.path);\n        const state = this.parent.deref();\n        this.unprocessed = state ? lookup(state) : undefined;\n        if (!lazy) {\n            this.state = this.tx(this.unprocessed);\n            this.unprocessed = undefined;\n        }\n        parent.addWatch(this.id, (_, prev, curr) => {\n            const pval = prev ? lookup(prev) : prev;\n            const val = curr ? lookup(curr) : curr;\n            if (!equiv$1(val, pval)) {\n                if (lazy) {\n                    this.unprocessed = val;\n                }\n                else {\n                    this.state = this.tx(val);\n                }\n                this.isDirty = true;\n            }\n        });\n    }\n    get value() {\n        return this.deref();\n    }\n    /**\n     * Returns view's value. If the view has a transformer, the\n     * transformed value is returned. The transformer is only run once\n     * per value change.\n     *\n     * @remarks\n     * See class comments about difference between lazy/eager behaviors.\n     */\n    deref() {\n        if (this.isDirty) {\n            if (this.isLazy) {\n                this.state = this.tx(this.unprocessed);\n                this.unprocessed = undefined;\n            }\n            this.isDirty = false;\n        }\n        return this.state;\n    }\n    /**\n     * Returns true, if the view's value has changed since last\n     * {@link @thi.ng/api#IDeref.deref}.\n     */\n    changed() {\n        return this.isDirty;\n    }\n    /**\n     * Like {@link @thi.ng/api#IDeref.deref}, but doesn't update view's\n     * cached state and dirty flag if value has changed.\n     *\n     * @remarks\n     * If there's an unprocessed value change, returns result of this\n     * sub's transformer or else the cached value.\n     *\n     * **Important:** Use this function only if the view has none or or\n     * a stateless transformer. Else might cause undefined/inconsistent\n     * behavior when calling `view` or {@link @thi.ng/api#IDeref.deref}\n     * subsequently.\n     */\n    view() {\n        return this.isDirty && this.isLazy\n            ? this.tx(this.unprocessed)\n            : this.state;\n    }\n    /**\n     * Disconnects this view from parent state, marks itself\n     * dirty/changed and sets its unprocessed raw value to `undefined`.\n     */\n    release() {\n        this.unprocessed = undefined;\n        if (!this.isLazy) {\n            this.state = this.tx(undefined);\n        }\n        this.isDirty = true;\n        return this.parent.removeWatch(this.id);\n    }\n}\n\nexport { defViewUnsafe };\n", "/**\n * Internal use only. **Do NOT use in user land code!**\n *\n * @internal\n */\nconst SEMAPHORE = Symbol();\n/**\n * No-effect placeholder function.\n */\nconst NO_OP = () => { };\n/**\n * Catch-all event ID\n */\nconst EVENT_ALL = \"*\";\n\nexport { EVENT_ALL as E, NO_OP as N, SEMAPHORE as S };\n", "const isFunction = (x) => typeof x === \"function\";\n\nexport { isFunction as i };\n", "import { d as defError } from './deferror-480a42fb.js';\n\nconst IllegalArgumentError = defError(() => \"illegal argument(s)\");\nconst illegalArgs = (msg) => {\n    throw new IllegalArgumentError(msg);\n};\n\nexport { illegalArgs as i };\n", "const implementsFunction = (x, fn) => x != null && typeof x[fn] === \"function\";\n\nexport { implementsFunction as i };\n", "import { e as equiv$1, a as equivObject, b as equivArrayLike, c as equivSet, d as equivMap } from '../common/index-6d483b49.js';\nimport { S as SEMAPHORE } from '../common/constants-8dfd1542.js';\nimport { i as isFunction } from '../common/is-function-b13d3e65.js';\nimport { i as isArray$3 } from '../common/is-array-a7fa88fb.js';\nimport { i as isString$1 } from '../common/is-string-40d6c094.js';\nimport { i as illegalArgs } from '../common/illegal-arguments-f9331715.js';\nimport { i as implementsFunction } from '../common/implements-function-c507affc.js';\nimport '../common/deferror-480a42fb.js';\n\n/**\n * Returns true iff `x` implements {@link IDeref}.\n *\n * @param x\n */\nconst isDeref = (x) => x != null && typeof x[\"deref\"] === \"function\";\n/**\n * If `x` implements {@link IDeref}, returns its wrapped value, else\n * returns `x` itself.\n *\n * @param x -\n */\nconst deref = (x) => (isDeref(x) ? x.deref() : x);\n\nconst isNotStringAndIterable = (x) => x != null &&\n    typeof x !== \"string\" &&\n    typeof x[Symbol.iterator] === \"function\";\n\nconst OBJP = Object.getPrototypeOf;\n/**\n * Similar to {@link isObject}, but also checks if prototype is that of\n * `Object` (or `null`).\n *\n * @param x -\n */\nconst isPlainObject = (x) => {\n    let p;\n    return (x != null &&\n        typeof x === \"object\" &&\n        ((p = OBJP(x)) === null || OBJP(p) === null));\n};\n\nlet _cachedFP;\nlet _cachedPath;\nlet _cachedEPC = [];\nlet _cachedPathPos = [];\nconst cachedFP = (size) => _cachedFP && _cachedFP.length >= size\n    ? _cachedFP\n    : (_cachedFP = new Int32Array(size));\nconst cachedPath = (size) => _cachedPath && _cachedPath.length >= size\n    ? _cachedPath\n    : (_cachedPath = new Int32Array(size));\nconst simpleDiff = (state, src, key, logDir, mode) => {\n    const n = src.length;\n    const linear = state.linear;\n    state.distance = n;\n    if (mode !== \"only-distance\") {\n        for (let i = 0, j = 0; i < n; i++, j += 3) {\n            linear[j] = logDir;\n            linear[j + 1] = i;\n            linear[j + 2] = src[i];\n        }\n        if (mode === \"full\") {\n            const _state = state[key];\n            for (let i = 0; i < n; i++) {\n                _state[i] = src[i];\n            }\n        }\n    }\n    return state;\n};\n/**\n * Based on \"An O(NP) Sequence Comparison Algorithm\"\" by Wu, Manber,\n * Myers and Miller.\n *\n * @remarks\n * Various optimizations, fixes & refactorings. By default uses\n * {@link @thi.ng/equiv#equiv} for equality checks.\n *\n * - {@link https://publications.mpi-cbg.de/Wu_1990_6334.pdf}\n * - {@link http://www.itu.dk/stud/speciale/bepjea/xwebtex/litt/an-onp-sequence-comparison-algorithm.pdf}\n * - {@link https://github.com/cubicdaiya/onp}\n *\n * @param a - \"old\" array\n * @param b - \"new\" array\n * @param mode - result mode\n * @param equiv - equality predicate function\n */\nconst diffArray = (a, b, mode = \"full\", equiv = equiv$1) => {\n    const state = {\n        distance: 0,\n        adds: {},\n        dels: {},\n        const: {},\n        linear: [],\n    };\n    if (a === b || (a == null && b == null)) {\n        return state;\n    }\n    else if (a == null || a.length === 0) {\n        return simpleDiff(state, b, \"adds\", 1, mode);\n    }\n    else if (b == null || b.length === 0) {\n        return simpleDiff(state, a, \"dels\", -1, mode);\n    }\n    const reverse = a.length >= b.length;\n    let _a, _b, na, nb;\n    if (reverse) {\n        _a = b;\n        _b = a;\n    }\n    else {\n        _a = a;\n        _b = b;\n    }\n    na = _a.length;\n    nb = _b.length;\n    const offset = na + 1;\n    const delta = nb - na;\n    const doff = delta + offset;\n    const size = na + nb + 3;\n    const path = cachedPath(size).fill(-1, 0, size);\n    const fp = cachedFP(size).fill(-1, 0, size);\n    const epc = _cachedEPC;\n    const pathPos = _cachedPathPos;\n    const snake = (k, p, pp) => {\n        let r, y;\n        if (p > pp) {\n            r = path[k - 1];\n            y = p;\n        }\n        else {\n            r = path[k + 1];\n            y = pp;\n        }\n        let x = y - (k - offset);\n        while (x < na && y < nb && equiv(_a[x], _b[y])) {\n            x++;\n            y++;\n        }\n        path[k] = pathPos.length / 3;\n        pathPos.push(x, y, r);\n        fp[k] = y;\n    };\n    let p = -1;\n    let k;\n    do {\n        p++;\n        for (k = -p + offset; k < doff; k++) {\n            snake(k, fp[k - 1] + 1, fp[k + 1]);\n        }\n        for (k = doff + p; k > doff; k--) {\n            snake(k, fp[k - 1] + 1, fp[k + 1]);\n        }\n        snake(doff, fp[doff - 1] + 1, fp[doff + 1]);\n    } while (fp[doff] !== nb);\n    state.distance = delta + 2 * p;\n    if (mode !== \"only-distance\") {\n        p = path[doff] * 3;\n        while (p >= 0) {\n            epc.push(p);\n            p = pathPos[p + 2] * 3;\n        }\n        if (mode === \"full\") {\n            buildFullLog(epc, pathPos, state, _a, _b, reverse);\n        }\n        else {\n            buildLinearLog(epc, pathPos, state, _a, _b, reverse, mode === \"only-distance-linear\");\n        }\n    }\n    epc.length = 0;\n    pathPos.length = 0;\n    return state;\n};\nconst buildFullLog = (epc, pathPos, state, a, b, reverse) => {\n    const linear = state.linear;\n    const _const = state.const;\n    let i = epc.length;\n    let px = 0;\n    let py = 0;\n    let adds;\n    let dels;\n    let aID;\n    let dID;\n    if (reverse) {\n        adds = state.dels;\n        dels = state.adds;\n        aID = -1;\n        dID = 1;\n    }\n    else {\n        adds = state.adds;\n        dels = state.dels;\n        aID = 1;\n        dID = -1;\n    }\n    for (; --i >= 0;) {\n        const e = epc[i];\n        const ppx = pathPos[e];\n        const ppy = pathPos[e + 1];\n        const d = ppy - ppx;\n        while (px < ppx || py < ppy) {\n            const dp = py - px;\n            if (d > dp) {\n                linear.push(aID, py, (adds[py] = b[py]));\n                py++;\n            }\n            else if (d < dp) {\n                linear.push(dID, px, (dels[px] = a[px]));\n                px++;\n            }\n            else {\n                linear.push(0, px, (_const[px] = a[px]));\n                px++;\n                py++;\n            }\n        }\n    }\n};\nconst buildLinearLog = (epc, pathPos, state, a, b, reverse, inclConst) => {\n    const linear = state.linear;\n    const aID = reverse ? -1 : 1;\n    const dID = reverse ? 1 : -1;\n    let i = epc.length, px = 0, py = 0;\n    for (; --i >= 0;) {\n        const e = epc[i];\n        const ppx = pathPos[e];\n        const ppy = pathPos[e + 1];\n        const d = ppy - ppx;\n        while (px < ppx || py < ppy) {\n            const dp = py - px;\n            if (d > dp) {\n                linear.push(aID, py, b[py]);\n                py++;\n            }\n            else if (d < dp) {\n                linear.push(dID, px, a[px]);\n                px++;\n            }\n            else {\n                inclConst && linear.push(0, px, a[px]);\n                px++;\n                py++;\n            }\n        }\n    }\n};\n\nconst diffObject = (a, b, mode = \"full\", _equiv = equiv$1) => a === b\n    ? { distance: 0 }\n    : mode === \"only-distance\"\n        ? diffObjectDist(a, b, _equiv)\n        : diffObjectFull(a, b, _equiv);\nconst diffObjectDist = (a, b, _equiv) => {\n    if (!a)\n        a = {};\n    if (!b)\n        b = {};\n    let d = 0;\n    for (let k in a) {\n        const vb = b[k];\n        (vb === undefined || !_equiv(a[k], vb)) && d++;\n    }\n    for (let k in b) {\n        !(k in a) && d++;\n    }\n    return { distance: d };\n};\nconst diffObjectFull = (a, b, _equiv) => {\n    if (!a)\n        a = {};\n    if (!b)\n        b = {};\n    let d = 0;\n    const adds = [];\n    const dels = [];\n    const edits = [];\n    for (let k in a) {\n        const vb = b[k];\n        if (vb === undefined) {\n            dels.push(k);\n            d++;\n        }\n        else if (!_equiv(a[k], vb)) {\n            edits.push(k, vb);\n            d++;\n        }\n    }\n    for (let k in b) {\n        if (!(k in a)) {\n            adds.push(k);\n            d++;\n        }\n    }\n    return { distance: d, adds, dels, edits };\n};\n\nconst isArray = Array.isArray;\nconst max = Math.max;\nconst OBJP$1 = Object.getPrototypeOf({});\nconst FN = \"function\";\nconst STR = \"string\";\n// child index tracking template buffer\nconst INDEX = (() => {\n    const res = new Array(2048);\n    for (let i = 2, n = res.length; i < n; i++) {\n        res[i] = i - 2;\n    }\n    return res;\n})();\nconst buildIndex = (n) => {\n    if (n <= INDEX.length) {\n        return INDEX.slice(0, n);\n    }\n    const res = new Array(n);\n    while (--n >= 2) {\n        res[n] = n - 2;\n    }\n    return res;\n};\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param impl - hdom implementation\n * @param parent - parent element (DOM node)\n * @param prev - previous tree\n * @param curr - current tree\n * @param child - child index\n */\nconst diffTree = (opts, impl, parent, prev, curr, child = 0) => {\n    const attribs = curr[1];\n    if (attribs.__skip) {\n        return;\n    }\n    // always replace element if __diff = false\n    if (attribs.__diff === false) {\n        releaseTree(prev);\n        impl.replaceChild(opts, parent, child, curr);\n        return;\n    }\n    const pattribs = prev[1];\n    if (pattribs && pattribs.__skip) {\n        impl.replaceChild(opts, parent, child, curr, false);\n        return;\n    }\n    // delegate to branch-local implementation\n    let _impl = attribs.__impl;\n    if (_impl && _impl !== impl) {\n        return _impl.diffTree(opts, _impl, parent, prev, curr, child);\n    }\n    const delta = diffArray(prev, curr, \"only-distance-linear\", equiv);\n    if (delta.distance === 0) {\n        return;\n    }\n    const edits = delta.linear;\n    const el = impl.getChild(parent, child);\n    let ii;\n    let status;\n    let val;\n    if (edits[0] !== 0 || prev[1].key !== attribs.key) {\n        // LOGGER.fine(\"replace:\", prev, curr);\n        releaseTree(prev);\n        impl.replaceChild(opts, parent, child, curr);\n        return;\n    }\n    if ((val = prev.__release) && val !== curr.__release) {\n        releaseTree(prev);\n    }\n    if (edits[3] !== 0) {\n        diffAttributes(impl, el, prev[1], curr[1]);\n        // if attribs changed & distance == 2 then we're done here...\n        if (delta.distance === 2) {\n            return;\n        }\n    }\n    const numEdits = edits.length;\n    const prevLength = prev.length - 1;\n    const equivKeys = extractEquivElements(edits);\n    const offsets = buildIndex(prevLength + 1);\n    for (ii = 6; ii < numEdits; ii += 3) {\n        status = edits[ii];\n        if (!status)\n            continue;\n        if (status === -1) {\n            diffDeleted(opts, impl, el, prev, curr, edits, ii, equivKeys, offsets, prevLength);\n        }\n        else {\n            diffAdded(opts, impl, el, edits, ii, equivKeys, offsets, prevLength);\n        }\n    }\n    // call __init after all children have been added/updated\n    if ((val = curr.__init) && val != prev.__init) {\n        val.apply(curr, [el, ...curr.__args]);\n    }\n};\nconst diffDeleted = (opts, impl, el, prev, curr, edits, ii, equivKeys, offsets, prevLength) => {\n    const val = edits[ii + 2];\n    if (isArray(val)) {\n        let k = val[1].key;\n        if (k !== undefined && equivKeys[k][2] !== undefined) {\n            const eq = equivKeys[k];\n            k = eq[0];\n            // LOGGER.fine(`diff equiv key @ ${k}:`, prev[k], curr[eq[2]]);\n            diffTree(opts, impl, el, prev[k], curr[eq[2]], offsets[k]);\n        }\n        else {\n            const idx = edits[ii + 1];\n            // LOGGER.fine(\"remove @\", offsets[idx], val);\n            releaseTree(val);\n            impl.removeChild(el, offsets[idx]);\n            incOffsets(offsets, prevLength, idx);\n        }\n    }\n    else if (typeof val === STR) {\n        impl.setContent(el, \"\");\n    }\n};\nconst diffAdded = (opts, impl, el, edits, ii, equivKeys, offsets, prevLength) => {\n    const val = edits[ii + 2];\n    if (typeof val === STR) {\n        impl.setContent(el, val);\n    }\n    else if (isArray(val)) {\n        const k = val[1].key;\n        if (k === undefined || equivKeys[k][0] === undefined) {\n            const idx = edits[ii + 1];\n            // LOGGER.fine(\"insert @\", offsets[idx], val);\n            impl.createTree(opts, el, val, offsets[idx]);\n            decOffsets(offsets, prevLength, idx);\n        }\n    }\n};\nconst incOffsets = (offsets, j, idx) => {\n    for (; j > idx; j--) {\n        offsets[j] = max(offsets[j] - 1, 0);\n    }\n};\nconst decOffsets = (offsets, j, idx) => {\n    for (; j >= idx; j--) {\n        offsets[j]++;\n    }\n};\n/**\n * Helper function for {@link diffTree} to compute & apply the difference\n * between a node's `prev` and `curr` attributes.\n *\n * @param impl - hdom implementation\n * @param el - DOM element\n * @param prev - previous attributes\n * @param curr - current attributes\n *\n * @internal\n */\nconst diffAttributes = (impl, el, prev, curr) => {\n    const delta = diffObject(prev, curr, \"full\", equiv$1);\n    impl.removeAttribs(el, delta.dels, prev);\n    let val = SEMAPHORE;\n    let i, e, edits;\n    for (edits = delta.edits, i = edits.length; (i -= 2) >= 0;) {\n        e = edits[i];\n        e[0] === \"o\" && e[1] === \"n\" && impl.removeAttribs(el, [e], prev);\n        e !== \"value\"\n            ? impl.setAttrib(el, e, edits[i + 1], curr)\n            : (val = edits[i + 1]);\n    }\n    for (edits = delta.adds, i = edits.length; --i >= 0;) {\n        e = edits[i];\n        e !== \"value\" ? impl.setAttrib(el, e, curr[e], curr) : (val = curr[e]);\n    }\n    val !== SEMAPHORE && impl.setAttrib(el, \"value\", val, curr);\n};\n/**\n * Recursively attempts to call the {@link ILifecycle.release} lifecycle\n * method on every element in given tree (branch), using depth-first\n * descent. Each element is checked for the presence of the `__release`\n * control attribute. If (and only if) it is set to `false`, further\n * descent into that element's branch is skipped.\n *\n * @param tree - hdom sub-tree\n *\n * @internal\n */\nconst releaseTree = (tree) => {\n    if (isArray(tree)) {\n        let x;\n        if ((x = tree[1]) && x.__release === false) {\n            return;\n        }\n        if (tree.__release) {\n            // LOGGER.fine(\"call __release\", tag);\n            tree.__release.apply(tree.__this, tree.__args);\n            delete tree.__release;\n        }\n        for (x = tree.length; --x >= 2;) {\n            releaseTree(tree[x]);\n        }\n    }\n};\nconst extractEquivElements = (edits) => {\n    let k;\n    let val;\n    let ek;\n    const equiv = {};\n    for (let i = edits.length; (i -= 3) >= 0;) {\n        val = edits[i + 2];\n        if (isArray(val) && (k = val[1].key) !== undefined) {\n            ek = equiv[k];\n            !ek && (equiv[k] = ek = [, ,]);\n            ek[edits[i] + 1] = edits[i + 1];\n        }\n    }\n    return equiv;\n};\n/**\n * Customized version {@link @thi.ng/equiv#equiv} which takes `__diff`\n * attributes into account (at any nesting level). If an hdom element's\n * attribute object contains `__diff: false`, the object will ALWAYS be\n * considered unequal, even if all other attributes in the object are\n * equivalent.\n *\n * @param a -\n * @param b -\n *\n * @internal\n */\nconst equiv = (a, b) => {\n    let proto;\n    if (a === b) {\n        return true;\n    }\n    if (a != null) {\n        if (typeof a.equiv === FN) {\n            return a.equiv(b);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (b != null) {\n        if (typeof b.equiv === FN) {\n            return b.equiv(a);\n        }\n    }\n    else {\n        return a == b;\n    }\n    if (typeof a === STR || typeof b === STR) {\n        return false;\n    }\n    if (((proto = Object.getPrototypeOf(a)), proto == null || proto === OBJP$1) &&\n        ((proto = Object.getPrototypeOf(b)), proto == null || proto === OBJP$1)) {\n        return (!(a.__diff === false || b.__diff === false) &&\n            equivObject(a, b, equiv));\n    }\n    if (typeof a !== FN &&\n        a.length !== undefined &&\n        typeof b !== FN &&\n        b.length !== undefined) {\n        return equivArrayLike(a, b, equiv);\n    }\n    if (a instanceof Set && b instanceof Set) {\n        return equivSet(a, b, equiv);\n    }\n    if (a instanceof Map && b instanceof Map) {\n        return equivMap(a, b, equiv);\n    }\n    if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime();\n    }\n    if (a instanceof RegExp && b instanceof RegExp) {\n        return a.toString() === b.toString();\n    }\n    // NaN\n    return a !== a && b !== b;\n};\n\n/** @internal */\n/** @internal */\nconst ENTITIES = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&apos;\",\n};\n/** @internal */\nconst RE_TAG = /^([^\\s\\.#]+)(?:#([^\\s\\.#]+))?(?:\\.([^\\s#]+))?$/;\n/** @internal */\nconst RE_ENTITY = new RegExp(`[${Object.keys(ENTITIES).join(\"\")}]`, \"g\");\n/** @internal */\nconst NO_SPANS = {\n    button: 1,\n    option: 1,\n    script: 1,\n    style: 1,\n    text: 1,\n    textarea: 1,\n    title: 1,\n};\nconst tagMap = (tags) => tags.split(\" \").reduce((acc, x) => ((acc[x] = true), acc), {});\n/** @internal */\n// tslint:disable-next-line\nconst SVG_TAGS = tagMap(\"animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view\");\n/** @internal */\n// tslint:disable-next-line\nconst VOID_TAGS = tagMap(\"area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml\");\n/** @internal */\n// tslint:disable-next-line\nconst NO_CLOSE_EMPTY = tagMap(\"animate circle ellipse line path polygon polyline rect\");\n\n/**\n * Takes a space separated string of existing CSS class names and merges\n * it with `val`, which is either another string of class names, an\n * object of booleans or an `IDeref` evaluating to either. Returns\n * updated class string.\n *\n * @remarks\n * If `val` evaluates to a string, it will be appended to `existing`.\n *\n * If `val` is an object, its keys are used as class names and their\n * values indicate if the class should be added or removed from the\n * existing set.\n *\n * @example\n * ```ts\n * mergeClasses(\"foo bar\", { foo: false, baz: true })\n * // \"bar baz\"\n *\n * mergeClasses(\"foo bar\", \"baz\");\n * // \"baz\"\n * ```\n *\n * @param existing\n * @param val\n */\nconst mergeClasses = (existing, val) => {\n    val = deref(val);\n    if (val == null)\n        return existing;\n    if (isString$1(val))\n        return existing + \" \" + val;\n    const classes = new Set(existing.split(\" \"));\n    for (let id in val) {\n        deref(val[id]) ? classes.add(id) : classes.delete(id);\n    }\n    return [...classes].join(\" \");\n};\n/**\n * Takes an attrib object and optional element ID and CSS class names from Emmet-style\n * hiccup tag, then transforms and merges definitions, returns attribs.\n *\n * @param attribs\n * @param id\n * @param classes\n */\nconst mergeEmmetAttribs = (attribs, id, classes) => {\n    id && (attribs.id = id);\n    let aclass = deref(attribs.class);\n    if (classes) {\n        classes = classes.replace(/\\./g, \" \");\n        attribs.class = aclass ? mergeClasses(classes, aclass) : classes;\n    }\n    else if (aclass) {\n        attribs.class = isString$1(aclass) ? aclass : mergeClasses(\"\", aclass);\n    }\n    return attribs;\n};\n\nconst css = (rules) => {\n    let css = \"\";\n    let v;\n    for (let r in rules) {\n        v = deref(rules[r]);\n        isFunction(v) && (v = v(rules));\n        v != null && (css += `${r}:${v};`);\n    }\n    return css;\n};\n\n/**\n * Takes an arbitrary `ctx` object and array of `keys`. Attempts to call\n * `.deref()` on all given keys' values and stores result values instead\n * of original. Returns updated copy of `ctx` or original if `ctx` is\n * `null` or no keys were given.\n *\n * @param ctx - user context object\n * @param keys - keys to deref\n *\n * @internal\n */\nconst derefContext = (ctx, keys) => {\n    if (ctx == null || !keys || !keys.length)\n        return ctx;\n    const res = Object.assign({}, ctx);\n    for (let k of keys) {\n        const v = res[k];\n        implementsFunction(v, \"deref\") && (res[k] = v.deref());\n    }\n    return res;\n};\n\n/**\n * Takes an object of RDF/XML prefixes and returns formatted string for\n * the RDFa `prefix` attribute.\n *\n * @example\n * ```ts\n * import { foaf, xsd } from \"@thi.ng/prefixes\";\n *\n * formatPrefixes({ foaf, xsd })\n * // \"foaf: http://xmlns.com/foaf/0.1/ rdf: http://www.w3.org/2001/XMLSchema#\"\n * ```\n *\n * @param prefixes -\n */\nconst formatPrefixes = (prefixes) => Object.keys(prefixes)\n    .reduce((acc, k) => (acc.push(`${k}: ${prefixes[k]}`), acc), [])\n    .join(\" \");\n\nconst XML_SVG = \"http://www.w3.org/2000/svg\";\n\nconst isArray$1 = isArray$3;\nconst isNotStringAndIterable$1 = isNotStringAndIterable;\nconst isString = isString$1;\nconst maybeInitElement = (el, tree) => tree.__init && tree.__init.apply(tree.__this, [el, ...tree.__args]);\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param parent - DOM element\n * @param tree - component tree\n * @param insert - child index\n */\nconst createTree = (opts, impl, parent, tree, insert, init = true) => {\n    if (isArray$1(tree)) {\n        const tag = tree[0];\n        if (typeof tag === \"function\") {\n            return createTree(opts, impl, parent, tag.apply(null, [opts.ctx, ...tree.slice(1)]), insert);\n        }\n        const attribs = tree[1];\n        if (attribs.__impl) {\n            return attribs.__impl.createTree(opts, parent, tree, insert, init);\n        }\n        const el = impl.createElement(parent, tag, attribs, insert);\n        if (tree.length > 2) {\n            const n = tree.length;\n            for (let i = 2; i < n; i++) {\n                createTree(opts, impl, el, tree[i], undefined, init);\n            }\n        }\n        init && maybeInitElement(el, tree);\n        return el;\n    }\n    if (isNotStringAndIterable$1(tree)) {\n        const res = [];\n        for (let t of tree) {\n            res.push(createTree(opts, impl, parent, t, insert, init));\n        }\n        return res;\n    }\n    if (tree == null) {\n        return parent;\n    }\n    return impl.createTextElement(parent, tree);\n};\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param parent - DOM element\n * @param tree - component tree\n * @param index - child index\n */\nconst hydrateTree = (opts, impl, parent, tree, index = 0) => {\n    if (isArray$1(tree)) {\n        const el = impl.getChild(parent, index);\n        if (typeof tree[0] === \"function\") {\n            hydrateTree(opts, impl, parent, tree[0].apply(null, [opts.ctx, ...tree.slice(1)]), index);\n        }\n        const attribs = tree[1];\n        if (attribs.__impl) {\n            return attribs.__impl.hydrateTree(opts, parent, tree, index);\n        }\n        maybeInitElement(el, tree);\n        for (let a in attribs) {\n            a[0] === \"o\" && a[1] === \"n\" && impl.setAttrib(el, a, attribs[a]);\n        }\n        for (let n = tree.length, i = 2; i < n; i++) {\n            hydrateTree(opts, impl, el, tree[i], i - 2);\n        }\n    }\n    else if (isNotStringAndIterable$1(tree)) {\n        for (let t of tree) {\n            hydrateTree(opts, impl, parent, t, index);\n            index++;\n        }\n    }\n};\n/**\n * Creates a new DOM element of type `tag` with optional `attribs`. If\n * `parent` is not `null`, the new element will be inserted as child at\n * given `insert` index. If `insert` is missing, the element will be\n * appended to the `parent`'s list of children. Returns new DOM node.\n *\n * If `tag` is a known SVG element name, the new element will be created\n * with the proper SVG XML namespace.\n *\n * @param parent - DOM element\n * @param tag - component tree\n * @param attribs - attributes\n * @param insert - child index\n */\nconst createElement = (parent, tag, attribs, insert) => {\n    const el = SVG_TAGS[tag]\n        ? document.createElementNS(XML_SVG, tag)\n        : document.createElement(tag);\n    attribs && setAttribs(el, attribs);\n    return addChild(parent, el, insert);\n};\nconst createTextElement = (parent, content, insert) => addChild(parent, document.createTextNode(content), insert);\nconst addChild = (parent, child, insert) => parent\n    ? insert === undefined\n        ? parent.appendChild(child)\n        : parent.insertBefore(child, parent.children[insert])\n    : child;\nconst getChild = (parent, child) => parent.children[child];\nconst replaceChild = (opts, impl, parent, child, tree, init = true) => (impl.removeChild(parent, child),\n    impl.createTree(opts, parent, tree, child, init));\nconst setContent = (el, body) => (el.textContent = body);\nconst setAttribs = (el, attribs) => {\n    for (let k in attribs) {\n        setAttrib(el, k, attribs[k], attribs);\n    }\n    return el;\n};\n/**\n * Sets a single attribute on given element. If attrib name is NOT an\n * event name (prefix: \"on\") and its value is a function, it is called\n * with given `attribs` object (usually the full attrib object passed to\n * {@link setAttribs}) and the function's return value is used as the actual\n * attrib value.\n *\n * Special rules apply for certain attributes:\n *\n * - \"style\": delegated to {@link setStyle}\n * - \"value\": delegated to {@link updateValueAttrib}\n * - attrib IDs starting with \"on\" are treated as event listeners\n *\n * If the given (or computed) attrib value is `false` or `undefined` the\n * attrib is removed from the element.\n *\n * @param el - DOM element\n * @param id - attribute name\n * @param val - attribute value\n * @param attribs - object of all attribs\n */\nconst setAttrib = (el, id, val, attribs) => {\n    if (id.startsWith(\"__\"))\n        return;\n    const isListener = id[0] === \"o\" && id[1] === \"n\";\n    if (!isListener && typeof val === \"function\") {\n        val = val(attribs);\n    }\n    if (val !== undefined && val !== false) {\n        switch (id) {\n            case \"style\":\n                setStyle(el, val);\n                break;\n            case \"value\":\n                updateValueAttrib(el, val);\n                break;\n            case \"prefix\":\n                el.setAttribute(id, isString(val) ? val : formatPrefixes(val));\n                break;\n            case \"accesskey\":\n                el.accessKey = val;\n                break;\n            case \"contenteditable\":\n                el.contentEditable = val;\n                break;\n            case \"tabindex\":\n                el.tabIndex = val;\n                break;\n            case \"align\":\n            case \"autocapitalize\":\n            case \"checked\":\n            case \"dir\":\n            case \"draggable\":\n            case \"hidden\":\n            case \"id\":\n            case \"lang\":\n            case \"namespaceURI\":\n            case \"scrollTop\":\n            case \"scrollLeft\":\n            case \"title\":\n                // TODO add more properties / enumerated attribs?\n                el[id] = val;\n                break;\n            default:\n                isListener\n                    ? setListener(el, id.substr(2), val)\n                    : el.setAttribute(id, val === true ? \"\" : val);\n        }\n    }\n    else {\n        el[id] != null ? (el[id] = null) : el.removeAttribute(id);\n    }\n    return el;\n};\n/**\n * Updates an element's `value` property. For form elements it too\n * ensures the edit cursor retains its position.\n *\n * @param el - DOM element\n * @param value - value\n */\nconst updateValueAttrib = (el, value) => {\n    let ev;\n    switch (el.type) {\n        case \"text\":\n        case \"textarea\":\n        case \"password\":\n        case \"search\":\n        case \"number\":\n        case \"email\":\n        case \"url\":\n        case \"tel\":\n        case \"date\":\n        case \"datetime-local\":\n        case \"time\":\n        case \"week\":\n        case \"month\":\n            if ((ev = el.value) !== undefined && typeof value === \"string\") {\n                const off = value.length - (ev.length - (el.selectionStart || 0));\n                el.value = value;\n                el.selectionStart = el.selectionEnd = off;\n                break;\n            }\n        default:\n            el.value = value;\n    }\n};\nconst removeAttribs = (el, attribs, prev) => {\n    for (let i = attribs.length; --i >= 0;) {\n        const a = attribs[i];\n        if (a[0] === \"o\" && a[1] === \"n\") {\n            removeListener(el, a.substr(2), prev[a]);\n        }\n        else {\n            el.hasAttribute(a) ? el.removeAttribute(a) : (el[a] = null);\n        }\n    }\n};\nconst setStyle = (el, styles) => (el.setAttribute(\"style\", css(styles)), el);\n/**\n * Adds event listener (possibly with options).\n *\n * @param el - DOM element\n * @param id - event name (w/o `on` prefix)\n * @param listener -\n */\nconst setListener = (el, id, listener) => isString(listener)\n    ? el.setAttribute(\"on\" + id, listener)\n    : isArray$1(listener)\n        ? el.addEventListener(id, ...listener)\n        : el.addEventListener(id, listener);\n/**\n * Removes event listener (possibly with options).\n *\n * @param el - DOM element\n * @param id - event name (w/o `on` prefix)\n * @param listener -\n */\nconst removeListener = (el, id, listener) => isArray$1(listener)\n    ? el.removeEventListener(id, ...listener)\n    : el.removeEventListener(id, listener);\nconst removeChild = (parent, childIdx) => {\n    const n = parent.children[childIdx];\n    n !== undefined && parent.removeChild(n);\n};\n\nconst isArray$2 = isArray$3;\nconst isNotStringAndIterable$2 = isNotStringAndIterable;\nconst isPlainObject$1 = isPlainObject;\n/**\n * Expands single hiccup element/component into its canonical form:\n *\n * ```\n * [tagname, {attribs}, ...children]\n * ```\n *\n * Emmet-style ID and class names in the original tagname are moved into\n * the attribs object, e.g.:\n *\n * ```\n * [\"div#foo.bar.baz\"] => [\"div\", {id: \"foo\", class: \"bar baz\"}]\n * ```\n *\n * If both Emmet-style classes AND a `class` attrib exists, the former\n * are appended to the latter:\n *\n * ```\n * [\"div.bar.baz\", {class: \"foo\"}] => [\"div\", {class: \"foo bar baz\"}]\n * ```\n *\n * Elements with `__skip` attrib enabled and no children, will have an\n * empty text child element injected.\n *\n * @param spec - single hdom component\n * @param keys -\n *\n * @internal\n */\nconst normalizeElement = (spec, keys) => {\n    let tag = spec[0];\n    let hasAttribs = isPlainObject$1(spec[1]);\n    let match;\n    let name;\n    let attribs;\n    if (typeof tag !== \"string\" || !(match = RE_TAG.exec(tag))) {\n        illegalArgs(`${tag} is not a valid tag name`);\n    }\n    name = match[1];\n    // return orig if already normalized and satisfies key requirement\n    if (tag === name && hasAttribs && (!keys || spec[1].key)) {\n        return spec;\n    }\n    attribs = mergeEmmetAttribs(hasAttribs ? Object.assign({}, spec[1]) : {}, match[2], match[3]);\n    return attribs.__skip && spec.length < 3\n        ? [name, attribs]\n        : [name, attribs, ...spec.slice(hasAttribs ? 2 : 1)];\n};\n/**\n * See {@link HDOMImplementation} interface for further details.\n *\n * @param opts - hdom config options\n * @param tree - component tree\n */\nconst normalizeTree = (opts, tree) => _normalizeTree(tree, opts, opts.ctx, [0], opts.keys !== false, opts.span !== false);\nconst _normalizeTree = (tree, opts, ctx, path, keys, span) => {\n    if (tree == null) {\n        return;\n    }\n    if (isArray$2(tree)) {\n        if (tree.length === 0) {\n            return;\n        }\n        let norm, nattribs = tree[1], impl;\n        // if available, use branch-local normalize implementation\n        if (nattribs &&\n            (impl = nattribs.__impl) &&\n            (impl = impl.normalizeTree)) {\n            return impl(opts, tree);\n        }\n        const tag = tree[0];\n        // use result of function call\n        // pass ctx as first arg and remaining array elements as rest args\n        if (typeof tag === \"function\") {\n            return _normalizeTree(tag.apply(null, [ctx, ...tree.slice(1)]), opts, ctx, path, keys, span);\n        }\n        // component object w/ life cycle methods\n        // (render() is the only required hook)\n        if (typeof tag.render === \"function\") {\n            const args = [ctx, ...tree.slice(1)];\n            norm = _normalizeTree(tag.render.apply(tag, args), opts, ctx, path, keys, span);\n            if (isArray$2(norm)) {\n                norm.__this = tag;\n                norm.__init = tag.init;\n                norm.__release = tag.release;\n                norm.__args = args;\n            }\n            return norm;\n        }\n        norm = normalizeElement(tree, keys);\n        nattribs = norm[1];\n        if (nattribs.__normalize === false) {\n            return norm;\n        }\n        if (keys && nattribs.key === undefined) {\n            nattribs.key = path.join(\"-\");\n        }\n        return norm.length > 2\n            ? normalizeChildren(norm, nattribs, opts, ctx, path, keys, span)\n            : norm;\n    }\n    return typeof tree === \"function\"\n        ? _normalizeTree(tree(ctx), opts, ctx, path, keys, span)\n        : typeof tree.toHiccup === \"function\"\n            ? _normalizeTree(tree.toHiccup(opts.ctx), opts, ctx, path, keys, span)\n            : typeof tree.deref === \"function\"\n                ? _normalizeTree(tree.deref(), opts, ctx, path, keys, span)\n                : span\n                    ? [\"span\", keys ? { key: path.join(\"-\") } : {}, tree.toString()]\n                    : tree.toString();\n};\nconst normalizeChildren = (norm, nattribs, opts, ctx, path, keys, span) => {\n    const tag = norm[0];\n    const res = [tag, nattribs];\n    span = span && !NO_SPANS[tag];\n    for (let i = 2, j = 2, k = 0, n = norm.length; i < n; i++) {\n        let el = norm[i];\n        if (el != null) {\n            const isarray = isArray$2(el);\n            if ((isarray && isArray$2(el[0])) ||\n                (!isarray && isNotStringAndIterable$2(el))) {\n                for (let c of el) {\n                    c = _normalizeTree(c, opts, ctx, path.concat(k), keys, span);\n                    if (c !== undefined) {\n                        res[j++] = c;\n                    }\n                    k++;\n                }\n            }\n            else {\n                el = _normalizeTree(el, opts, ctx, path.concat(k), keys, span);\n                if (el !== undefined) {\n                    res[j++] = el;\n                }\n                k++;\n            }\n        }\n    }\n    return res;\n};\n\n/**\n * Default target implementation to manipulate browser DOM.\n */\nconst DEFAULT_IMPL = {\n    createTree(opts, parent, tree, child, init) {\n        return createTree(opts, this, parent, tree, child, init);\n    },\n    hydrateTree(opts, parent, tree, child) {\n        return hydrateTree(opts, this, parent, tree, child);\n    },\n    diffTree(opts, parent, prev, curr, child) {\n        diffTree(opts, this, parent, prev, curr, child);\n    },\n    normalizeTree,\n    getElementById(id) {\n        return document.getElementById(id);\n    },\n    getChild,\n    createElement,\n    createTextElement,\n    replaceChild(opts, parent, child, tree, init) {\n        replaceChild(opts, this, parent, child, tree, init);\n    },\n    removeChild,\n    setContent,\n    removeAttribs,\n    setAttrib,\n};\n\nconst resolveRoot = (root, impl) => isString$1(root) ? impl.getElementById(root) : root;\n\n/**\n * Takes an hiccup tree (array, function or component object w/ life\n * cycle methods) and an optional object of DOM update options. Starts\n * RAF update loop, in each iteration first normalizing given tree, then\n * computing diff to previous frame's tree and applying any changes to\n * the real DOM. The `ctx` option can be used for passing arbitrary\n * config data or state down into the hiccup component tree. Any\n * embedded component function in the tree will receive this context\n * object (shallow copy) as first argument, as will life cycle methods\n * in component objects. If the `autoDerefKeys` option is given,\n * attempts to auto-expand/deref the given keys in the user supplied\n * context object (`ctx` option) prior to *each* tree normalization. All\n * of these values should implement the {@link @thi.ng/api#IDeref}\n * interface (e.g. atoms, cursors, views, rstreams etc.). This feature\n * can be used to define dynamic contexts linked to the main app state,\n * e.g. using derived views provided by {@link @thi.ng/atom# | @thi.ng/atom}.\n *\n * **Selective updates**: No updates will be applied if the given hiccup\n * tree is `undefined` or `null` or a root component function returns no\n * value. This way a given root function can do some state handling of\n * its own and implement fail-fast checks to determine no DOM updates\n * are necessary, save effort re-creating a new hiccup tree and request\n * skipping DOM updates via this function. In this case, the previous\n * DOM tree is kept around until the root function returns a tree again,\n * which then is diffed and applied against the previous tree kept as\n * usual. Any number of frames may be skipped this way.\n *\n * **Important:** Unless the `hydrate` option is enabled, the parent\n * element given is assumed to have NO children at the time when\n * `start()` is called. Since hdom does NOT track the real DOM, the\n * resulting changes will result in potentially undefined behavior if\n * the parent element wasn't empty. Likewise, if `hydrate` is enabled,\n * it is assumed that an equivalent DOM (minus listeners) already exists\n * (i.e. generated via SSR) when `start()` is called. Any other\n * discrepancies between the pre-existing DOM and the hdom trees will\n * cause undefined behavior.\n *\n * Returns a function, which when called, immediately cancels the update\n * loop.\n *\n * @param tree - hiccup DOM tree\n * @param opts - options\n * @param impl - hdom target implementation\n */\nconst start = (tree, opts = {}, impl = DEFAULT_IMPL) => {\n    const _opts = Object.assign({ root: \"app\" }, opts);\n    let prev = [];\n    let isActive = true;\n    const root = resolveRoot(_opts.root, impl);\n    const update = () => {\n        if (isActive) {\n            _opts.ctx = derefContext(opts.ctx, _opts.autoDerefKeys);\n            const curr = impl.normalizeTree(_opts, tree);\n            if (curr != null) {\n                if (_opts.hydrate) {\n                    impl.hydrateTree(_opts, root, curr);\n                    _opts.hydrate = false;\n                }\n                else {\n                    impl.diffTree(_opts, root, prev, curr);\n                }\n                prev = curr;\n            }\n            // check again in case one of the components called cancel\n            isActive && requestAnimationFrame(update);\n        }\n    };\n    requestAnimationFrame(update);\n    return () => (isActive = false);\n};\n\nexport { start };\n", "import { a as defGetter, b as defSetter, A as Atom, s as setInUnsafe, u as updateInUnsafe, c as defSetterUnsafe } from '../common/atom-a88f1d55.js';\nimport { i as implementsFunction } from '../common/implements-function-c507affc.js';\nimport { i as illegalArgs } from '../common/illegal-arguments-f9331715.js';\nimport { i as isArray } from '../common/is-array-a7fa88fb.js';\nimport { i as isFunction } from '../common/is-function-b13d3e65.js';\nimport '../common/mixin-ad130ceb.js';\nimport '../common/illegal-state-738ff8f5.js';\nimport '../common/deferror-480a42fb.js';\nimport '../common/is-string-40d6c094.js';\n\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"FINE\"] = 0] = \"FINE\";\n    LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\n    LogLevel[LogLevel[\"SEVERE\"] = 4] = \"SEVERE\";\n    LogLevel[LogLevel[\"NONE\"] = 5] = \"NONE\";\n})(LogLevel || (LogLevel = {}));\n\nconst NULL_LOGGER = Object.freeze({\n    level: LogLevel.NONE,\n    fine() { },\n    debug() { },\n    info() { },\n    warn() { },\n    severe() { },\n});\n\nconst isPromise = (x) => x instanceof Promise;\n\n/**\n * Similar to {@link defSetterUnsafe}, returns a function to update\n * values at given `path` using provided update `fn`. Paths and the\n * arguments given to the returned function are NOT type checked.\n *\n * @remarks\n * The returned function accepts a single object / array and applies\n * `fn` to given path value (incl. any additional / optional arguments\n * passed) and uses result as new value. Does not modify original state.\n *\n * The type parameter `T` can be used to indicate the type of the nested\n * value to be updated (default: `any`).\n *\n * @example\n * ```ts\n * const incB = defUpdaterUnsafe(\"a.b\", (x, n) => x + n);\n * // or\n * const incB = defUpdaterUnsafe([\"a\", \"b\"], (x, n) => x + n);\n *\n * incB({ a: { b: 10 } }, 13);\n * // { a: { b: 23 } }\n * ```\n *\n * @param path -\n * @param fn -\n */\nconst defUpdaterUnsafe = (path, fn) => defUpdater(path, fn);\nfunction defUpdater(path, fn) {\n    const g = defGetter(path);\n    const s = defSetter(path);\n    return (state, ...args) => s(state, fn.apply(null, (args.unshift(g(state)), args)));\n}\n\n// Built-in event ID constants\nconst EV_SET_VALUE = \"--set-value\";\nconst EV_UPDATE_VALUE = \"--update-value\";\nconst EV_TOGGLE_VALUE = \"--toggle-value\";\n// Built-in side effect ID constants\nconst FX_CANCEL = \"--cancel\";\nconst FX_DISPATCH = \"--dispatch\";\nconst FX_DISPATCH_ASYNC = \"--dispatch-async\";\nconst FX_DISPATCH_NOW = \"--dispatch-now\";\nconst FX_DELAY = \"--delay\";\nconst FX_FETCH = \"--fetch\";\nconst FX_STATE = \"--state\";\n/**\n * Event ID to trigger redo action.\n * See `EventBus.addBuiltIns()` for further details.\n * Also see {@link snapshot} interceptor docs.\n */\nconst EV_REDO = \"--redo\";\n/**\n * Event ID to trigger undo action.\n * See `EventBus.addBuiltIns()` for further details.\n * Also see {@link snapshot} interceptor docs.\n */\nconst EV_UNDO = \"--undo\";\nlet LOGGER = NULL_LOGGER;\n\n/**\n * Batched event processor for using composable interceptors for event\n * handling and side effects to execute the result of handled events.\n *\n * @remarks\n * Events processed by this class are simple 2-element tuples/arrays of\n * this form: `[\"event-id\", payload?]`, where the `payload` is optional\n * and can be of any type.\n *\n * Events are processed by registered handlers which transform each\n * event into a number of side effect descriptions to be executed later.\n * This separation ensures event handlers themselves are pure functions\n * and leads to more efficient reuse of side effecting operations. The\n * pure data nature until the last stage of processing (the application\n * side effects) too means that event flow can be much easier inspected\n * and debugged.\n *\n * In this model a single event handler itself is an array of objects\n * with `pre` and/or `post` keys and functions attached to each key.\n * These functions are called interceptors, since each intercepts the\n * processing of an event and can contribute their own side effects.\n * Each event's interceptor chain is processed bi-directionally (`pre`\n * in forward, `post` in reverse order) and the effects returned from\n * each interceptor are merged/collected. The outcome of this setup is a\n * more aspect-oriented, composable approach to event handling and\n * allows to inject common, re-usable behaviors for multiple event types\n * (logging, validation, undo/redo triggers etc.).\n *\n * Side effects are only processed after all event handlers have run.\n * Furthermore, their order of execution can be configured with optional\n * priorities.\n *\n * See for further details:\n *\n * - {@link StatelessEventBus.processQueue}\n * - {@link StatelessEventBus.processEvent}\n * - {@link StatelessEventBus.processEffects}\n * - {@link StatelessEventBus.mergeEffects}\n *\n * The overall approach of this type of event processing is heavily\n * based on the pattern initially pioneered by @Day8/re-frame, with the\n * following differences:\n *\n * - stateless (see {@link EventBus} for the more common stateful\n *   alternative)\n * - standalone implementation (no assumptions about surrounding\n *   context/framework)\n * - manual control over event queue processing\n * - supports event cancellation (via FX_CANCEL side effect)\n * - side effect collection (multiple side effects for same effect type\n *   per frame)\n * - side effect priorities (to control execution order)\n * - dynamic addition/removal of handlers & effects\n */\nclass StatelessEventBus {\n    /**\n     * Creates a new event bus instance with given handler and effect\n     * definitions (all optional).\n     *\n     * @remarks\n     * In addition to the user provided handlers & effects, a number of\n     * built-ins are added automatically. See\n     * {@link StatelessEventBus.addBuiltIns}. User handlers can override\n     * built-ins.\n     *\n     * @param handlers -\n     * @param effects -\n     */\n    constructor(handlers, effects) {\n        this.handlers = {};\n        this.effects = {};\n        this.eventQueue = [];\n        this.priorities = [];\n        this.addBuiltIns();\n        if (handlers) {\n            this.addHandlers(handlers);\n        }\n        if (effects) {\n            this.addEffects(effects);\n        }\n    }\n    /**\n     * Adds built-in event & side effect handlers.\n     *\n     * @remarks\n     * Also see additional built-ins defined by the stateful\n     * {@link EventBus} extension of this class, as well as comments for\n     * these class methods:\n     *\n     * - {@link StatelessEventBus.mergeEffects}\n     * - {@link StatelessEventBus.processEvent}\n     *\n     * ### Handlers\n     *\n     * currently none...\n     *\n     * ### Side effects\n     *\n     * #### `FX_CANCEL`\n     *\n     * If assigned `true`, cancels processing of current event, though\n     * still applies any side effects already accumulated.\n     *\n     * #### `FX_DISPATCH`\n     *\n     * Dispatches assigned events to be processed in next frame.\n     *\n     * #### `FX_DISPATCH_ASYNC`\n     *\n     * Async wrapper for promise based side effects.\n     *\n     * #### `FX_DISPATCH_NOW`\n     *\n     * Dispatches assigned events as part of currently processed event\n     * queue (no delay).\n     *\n     * #### `FX_DELAY`\n     *\n     * Async side effect. Only to be used in conjunction with\n     * `FX_DISPATCH_ASYNC`. Triggers given event after `x` milliseconds.\n     *\n     * ```\n     * // this triggers `[EV_SUCCESS, \"ok\"]` event after 1000 ms\n     * { [FX_DISPATCH_ASYNC]: [FX_DELAY, [1000, \"ok\"], EV_SUCCESS, EV_ERROR] }\n     * ```\n     *\n     * #### `FX_FETCH`\n     *\n     * Async side effect. Only to be used in conjunction with\n     * `FX_DISPATCH_ASYNC`. Performs `fetch()` HTTP request and triggers\n     * success with received response, or if there was an error with\n     * response's `statusText`. The error event is only triggered if the\n     * fetched response's `ok` field is non-truthy.\n     *\n     * - {@link https://developer.mozilla.org/en-US/docs/Web/API/Response/ok}\n     * - {@link https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText}\n     *\n     * ```\n     * // fetches \"foo.json\" and then dispatches EV_SUCCESS or EV_ERROR event\n     * { [FX_DISPATCH_ASYNC]: [FX_FETCH, \"foo.json\", EV_SUCCESS, EV_ERROR] }\n     * ```\n     */\n    addBuiltIns() {\n        this.addEffects({\n            [FX_DISPATCH]: [(e) => this.dispatch(e), -999],\n            [FX_DISPATCH_ASYNC]: [\n                ([id, arg, success, err], bus, ctx) => {\n                    const fx = this.effects[id];\n                    if (fx) {\n                        const p = fx(arg, bus, ctx);\n                        if (isPromise(p)) {\n                            p.then((res) => this.dispatch([success, res])).catch((e) => this.dispatch([err, e]));\n                        }\n                        else {\n                            LOGGER.warn(\"async effect did not return Promise\");\n                        }\n                    }\n                    else {\n                        LOGGER.warn(`skipping invalid async effect: ${id}`);\n                    }\n                },\n                -999,\n            ],\n            [FX_DELAY]: [\n                ([x, body]) => new Promise((res) => setTimeout(() => res(body), x)),\n                1000,\n            ],\n            [FX_FETCH]: [\n                (req) => fetch(req).then((resp) => {\n                    if (!resp.ok) {\n                        throw new Error(resp.statusText);\n                    }\n                    return resp;\n                }),\n                1000,\n            ],\n        });\n    }\n    addHandler(id, spec) {\n        const iceps = this.interceptorsFromSpec(spec);\n        if (iceps.length > 0) {\n            if (this.handlers[id]) {\n                this.removeHandler(id);\n                LOGGER.warn(`overriding handler for ID: ${id}`);\n            }\n            this.handlers[id] = iceps;\n        }\n        else {\n            illegalArgs(`no handlers in spec for ID: ${id}`);\n        }\n    }\n    addHandlers(specs) {\n        for (let id in specs) {\n            this.addHandler(id, specs[id]);\n        }\n    }\n    addEffect(id, fx, priority = 1) {\n        if (this.effects[id]) {\n            this.removeEffect(id);\n            LOGGER.warn(`overriding effect for ID: ${id}`);\n        }\n        this.effects[id] = fx;\n        const p = [id, priority];\n        const priors = this.priorities;\n        for (let i = 0; i < priors.length; i++) {\n            if (p[1] < priors[i][1]) {\n                priors.splice(i, 0, p);\n                return;\n            }\n        }\n        priors.push(p);\n    }\n    addEffects(specs) {\n        for (let id in specs) {\n            const fx = specs[id];\n            if (isArray(fx)) {\n                this.addEffect(id, fx[0], fx[1]);\n            }\n            else {\n                this.addEffect(id, fx);\n            }\n        }\n    }\n    /**\n     * Prepends given interceptors (or interceptor functions) to\n     * selected handlers. If no handler IDs are given, applies\n     * instrumentation to all currently registered handlers.\n     *\n     * @param inject -\n     * @param ids -\n     */\n    instrumentWith(inject, ids) {\n        const iceps = inject.map(asInterceptor);\n        const handlers = this.handlers;\n        for (let id of ids || Object.keys(handlers)) {\n            const h = handlers[id];\n            if (h) {\n                handlers[id] = iceps.concat(h);\n            }\n        }\n    }\n    removeHandler(id) {\n        delete this.handlers[id];\n    }\n    removeHandlers(ids) {\n        for (let id of ids) {\n            this.removeHandler(id);\n        }\n    }\n    removeEffect(id) {\n        delete this.effects[id];\n        const p = this.priorities;\n        for (let i = p.length - 1; i >= 0; i--) {\n            if (id === p[i][0]) {\n                p.splice(i, 1);\n                return;\n            }\n        }\n    }\n    removeEffects(ids) {\n        for (let id of ids) {\n            this.removeEffect(id);\n        }\n    }\n    /**\n     * If called during event processing, returns current side effect\n     * accumulator / interceptor context. Otherwise returns nothing.\n     */\n    context() {\n        return this.currCtx;\n    }\n    /**\n     * Adds given events to event queue to be processed by\n     * {@link StatelessEventBus.processQueue} later on.\n     *\n     * @remarks\n     * It's the user's responsibility to call that latter function\n     * repeatedly in a timely manner, preferably via\n     * `requestAnimationFrame()` or similar.\n     *\n     * @param e -\n     */\n    dispatch(...e) {\n        this.eventQueue.push(...e);\n    }\n    /**\n     * Adds given events to whatever is the current event queue. If\n     * triggered via the `FX_DISPATCH_NOW` side effect from an event\n     * handler / interceptor, the event will still be executed in the\n     * currently active batch / frame. If called from elsewhere, the\n     * result is the same as calling {@link dispatch}.\n     *\n     * @param e -\n     */\n    dispatchNow(...e) {\n        (this.currQueue || this.eventQueue).push(...e);\n    }\n    /**\n     * Dispatches given event after `delay` milliseconds (by default\n     * 17).\n     *\n     * @remarks\n     * Since events are only processed by calling\n     * {@link StatelessEventBus.processQueue}, it's the user's\n     * responsibility to call that latter function repeatedly in a\n     * timely manner, preferably via `requestAnimationFrame()` or\n     * similar.\n     *\n     * @param e -\n     * @param delay -\n     */\n    dispatchLater(e, delay = 17) {\n        setTimeout(() => this.dispatch(e), delay);\n    }\n    /**\n     * Triggers processing of current event queue and returns `true` if\n     * any events have been processed.\n     *\n     * @remarks\n     * If an event handler triggers the `FX_DISPATCH_NOW` side effect,\n     * the new event will be added to the currently processed batch and\n     * therefore executed in the same frame. Also see {@link dispatchNow}.\n     *\n     * An optional `ctx` (context) object can be provided, which is used\n     * to collect any side effect definitions during processing. This\n     * can be useful for debugging, inspection or post-processing\n     * purposes.\n     *\n     * @param ctx -\n     */\n    processQueue(ctx) {\n        if (this.eventQueue.length > 0) {\n            this.currQueue = [...this.eventQueue];\n            this.eventQueue.length = 0;\n            ctx = this.currCtx = ctx || {};\n            for (let e of this.currQueue) {\n                this.processEvent(ctx, e);\n            }\n            this.currQueue = this.currCtx = undefined;\n            this.processEffects(ctx);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Processes a single event using its configured handler/interceptor\n     * chain. Logs warning message and skips processing if no handler is\n     * available for the event type.\n     *\n     * @remarks\n     * The array of interceptors is processed in bi-directional order.\n     * First any `pre` interceptors are processed in forward order. Then\n     * `post` interceptors are processed in reverse.\n     *\n     * Each interceptor can return a result object of side effects,\n     * which are being merged and collected for\n     * {@link StatelessEventBus.processEffects}.\n     *\n     * Any interceptor can trigger zero or more known side effects, each\n     * (side effect) will be collected in an array to support multiple\n     * invocations of the same effect type per frame. If no side effects\n     * are requested, an interceptor can return `undefined`.\n     *\n     * Processing of the current event stops immediately, if an\n     * interceptor sets the `FX_CANCEL` side effect key to `true`.\n     * However, the results of any previous interceptors (incl. the one\n     * which cancelled) are kept and processed further as usual.\n     *\n     * @param ctx -\n     * @param e -\n     */\n    processEvent(ctx, e) {\n        const iceps = this.handlers[e[0]];\n        if (!iceps) {\n            LOGGER.warn(`missing handler for event type: ${e[0].toString()}`);\n            return;\n        }\n        if (!this.processForward(ctx, iceps, e)) {\n            return;\n        }\n        this.processReverse(ctx, iceps, e);\n    }\n    processForward(ctx, iceps, e) {\n        let hasPost = false;\n        for (let i = 0, n = iceps.length; i < n && !ctx[FX_CANCEL]; i++) {\n            const icep = iceps[i];\n            if (icep.pre) {\n                this.mergeEffects(ctx, icep.pre(ctx[FX_STATE], e, this, ctx));\n            }\n            hasPost = hasPost || !!icep.post;\n        }\n        return hasPost;\n    }\n    processReverse(ctx, iceps, e) {\n        for (let i = iceps.length; --i >= 0 && !ctx[FX_CANCEL];) {\n            const icep = iceps[i];\n            if (icep.post) {\n                this.mergeEffects(ctx, icep.post(ctx[FX_STATE], e, this, ctx));\n            }\n        }\n    }\n    /**\n     * Takes a collection of side effects generated during event\n     * processing and applies them in order of configured priorities.\n     *\n     * @param ctx -\n     */\n    processEffects(ctx) {\n        const effects = this.effects;\n        for (let p of this.priorities) {\n            const id = p[0];\n            const val = ctx[id];\n            val !== undefined && this.processEffect(ctx, effects, id, val);\n        }\n    }\n    processEffect(ctx, effects, id, val) {\n        const fn = effects[id];\n        if (id !== FX_STATE) {\n            for (let v of val) {\n                fn(v, this, ctx);\n            }\n        }\n        else {\n            fn(val, this, ctx);\n        }\n    }\n    /**\n     * Merges the new side effects returned from an interceptor into the\n     * internal effect accumulator.\n     *\n     * @remarks\n     * Any events assigned to the `FX_DISPATCH_NOW` effect key are\n     * immediately added to the currently active event batch.\n     *\n     * If an interceptor wishes to cause multiple invocations of a\n     * single side effect type (e.g. dispatch multiple other events), it\n     * MUST return an array of these values. The only exceptions to this\n     * are the following effects, which for obvious reasons can only\n     * accept a single value.\n     *\n     * **Note:** the `FX_STATE` effect is not actually defined by this\n     * class here, but is supported to avoid code duplication in\n     * {@link EventBus}.\n     *\n     * - `FX_CANCEL`\n     * - `FX_STATE`\n     *\n     * Because of this support (multiple values), the value of a single\n     * side effect MUST NOT be a nested array itself, or rather its\n     * first item can't be an array.\n     *\n     * For example:\n     *\n     * ```\n     * // interceptor result map to dispatch a single event\n     * { [FX_DISPATCH]: [\"foo\", \"bar\"]}\n     *\n     * // result map format to dispatch multiple events\n     * { [FX_DISPATCH]: [ [\"foo\", \"bar\"], [\"baz\", \"beep\"] ]}\n     * ```\n     *\n     * Any `null` / `undefined` values directly assigned to a side\n     * effect are ignored and will not trigger the effect.\n     *\n     * @param fx -\n     * @param ret -\n     */\n    mergeEffects(ctx, ret) {\n        if (!ret) {\n            return;\n        }\n        for (let k in ret) {\n            const v = ret[k];\n            if (v == null) {\n                continue;\n            }\n            if (k === FX_STATE || k === FX_CANCEL) {\n                ctx[k] = v;\n            }\n            else if (k === FX_DISPATCH_NOW) {\n                if (isArray(v[0])) {\n                    for (let e of v) {\n                        e && this.dispatchNow(e);\n                    }\n                }\n                else {\n                    this.dispatchNow(v);\n                }\n            }\n            else {\n                ctx[k] || (ctx[k] = []);\n                if (isArray(v[0])) {\n                    for (let e of v) {\n                        e !== undefined && ctx[k].push(e);\n                    }\n                }\n                else {\n                    ctx[k].push(v);\n                }\n            }\n        }\n    }\n    interceptorsFromSpec(spec) {\n        return isArray(spec)\n            ? spec.map(asInterceptor)\n            : isFunction(spec)\n                ? [{ pre: spec }]\n                : [spec];\n    }\n}\n/**\n * Stateful version of {@link StatelessEventBus}.\n *\n * @remarks\n * Wraps an {@link @thi.ng/atom#IAtom} state container (i.e.\n * `Atom`/`Cursor`/`History`) and provides additional pre-defined event\n * handlers and side effects to manipulate wrapped state. Prefer this as\n * the default implementation for most use cases.\n */\nclass EventBus extends StatelessEventBus {\n    /**\n     * Creates a new event bus instance with given parent state, handler\n     * and effect definitions (all optional).\n     *\n     * @remarks\n     * If no state is given, automatically creates an\n     * {@link @thi.ng/atom#Atom} with empty state object.\n     *\n     * In addition to the user provided handlers & effects, a number of\n     * built-ins are added automatically. See\n     * {@link EventBus.addBuiltIns}. User handlers can override\n     * built-ins.\n     *\n     * @param state -\n     * @param handlers -\n     * @param effects -\n     */\n    constructor(state, handlers, effects) {\n        super(handlers, effects);\n        this.state = state || new Atom({});\n    }\n    /**\n     * Returns value of internal state. Shorthand for:\n     * `bus.state.deref()`\n     */\n    deref() {\n        return this.state.deref();\n    }\n    /**\n     * Adds same built-in event & side effect handlers as in\n     * `StatelessEventBus.addBuiltIns()` and the following additions:\n     *\n     * ### Handlers\n     *\n     * #### `EV_SET_VALUE`\n     *\n     * Resets state path to provided value. See\n     * {@link @thi.ng/paths#setIn}.\n     *\n     * Example event definition:\n     * ```\n     * [EV_SET_VALUE, [\"path.to.value\", val]]\n     * ```\n     *\n     * #### `EV_UPDATE_VALUE`\n     *\n     * Updates a state path's value with provided function and optional\n     * extra arguments. See {@link @thi.ng/paths#updateIn}.\n     *\n     * Example event definition:\n     * ```\n     * [EV_UPDATE_VALUE, [\"path.to.value\", (x, y) => x + y, 1]]\n     * ```\n     *\n     * #### `EV_TOGGLE_VALUE`\n     *\n     * Negates a boolean state value at given path.\n     *\n     * Example event definition:\n     * ```\n     * [EV_TOGGLE_VALUE, \"path.to.value\"]\n     * ```\n     *\n     * #### `EV_UNDO`\n     *\n     * Calls `ctx[id].undo()` and uses return value as new state.\n     * Assumes `ctx[id]` is a {@link @thi.ng/atom#History} instance,\n     * provided via e.g. `processQueue({ history })`. The event can be\n     * triggered with or without ID. By default `\"history\"` is used as\n     * default key to lookup the `History` instance. Furthermore, an\n     * additional event can be triggered based on if a previous state\n     * has been restored or not (basically, if the undo was successful).\n     * This is useful for resetting/re-initializing stateful resources\n     * after a successful undo action or to notify the user that no more\n     * undo's are possible. The new event will be processed in the same\n     * frame and has access to the (possibly) restored state. The event\n     * structure for these options is shown below:\n     *\n     * ```\n     * // using default ID\n     * bus.dispatch([EV_UNDO]);\n     *\n     * // using custom history ID\n     * bus.dispatch([EV_UNDO, [\"custom\"]]);\n     *\n     * // using custom ID and dispatch another event after undo\n     * bus.dispatch([EV_UNDO, [\"custom\", [\"ev-undo-success\"], [\"ev-undo-fail\"]]]);\n     * ```\n     *\n     * #### `EV_REDO`\n     *\n     * Similar to `EV_UNDO`, but for redo actions.\n     *\n     * ### Side effects\n     *\n     * #### `FX_STATE`\n     *\n     * Resets state atom to provided value (only a single update per\n     * processing frame).\n     */\n    addBuiltIns() {\n        super.addBuiltIns();\n        // handlers\n        this.addHandlers({\n            [EV_SET_VALUE]: (state, [_, [path, val]]) => ({\n                [FX_STATE]: setInUnsafe(state, path, val),\n            }),\n            [EV_UPDATE_VALUE]: (state, [_, [path, fn, ...args]]) => ({\n                [FX_STATE]: updateInUnsafe(state, path, fn, ...args),\n            }),\n            [EV_TOGGLE_VALUE]: (state, [_, path]) => ({\n                [FX_STATE]: updateInUnsafe(state, path, (x) => !x),\n            }),\n            [EV_UNDO]: undoHandler(\"undo\"),\n            [EV_REDO]: undoHandler(\"redo\"),\n        });\n        // effects\n        this.addEffects({\n            [FX_STATE]: [(state) => this.state.reset(state), -1000],\n        });\n    }\n    /**\n     * Triggers processing of current event queue and returns `true` if\n     * the any of the processed events caused a state change.\n     *\n     * If an event handler triggers the `FX_DISPATCH_NOW` side effect,\n     * the new event will be added to the currently processed batch and\n     * therefore executed in the same frame. Also see {@link dispatchNow}.\n     *\n     * If the optional `ctx` arg is provided it will be merged into the\n     * {@link InterceptorContext} object passed to each interceptor. Since the\n     * merged object is also used to collect triggered side effects,\n     * care must be taken that there're no key name clashes.\n     *\n     * In order to use the built-in `EV_UNDO`, `EV_REDO` events, users\n     * MUST provide a {@link @thi.ng/atom#History} (or compatible undo\n     * history instance) via the `ctx` arg, e.g.\n     *\n     * ```\n     * bus.processQueue({ history });\n     * ```\n     */\n    processQueue(ctx) {\n        if (this.eventQueue.length > 0) {\n            const prev = this.state.deref();\n            this.currQueue = [...this.eventQueue];\n            this.eventQueue.length = 0;\n            ctx = this.currCtx = Object.assign(Object.assign({}, ctx), { [FX_STATE]: prev });\n            for (let e of this.currQueue) {\n                this.processEvent(ctx, e);\n            }\n            this.currQueue = this.currCtx = undefined;\n            this.processEffects(ctx);\n            return this.state.deref() !== prev;\n        }\n        return false;\n    }\n}\nconst asInterceptor = (i) => isFunction(i) ? { pre: i } : i;\nconst undoHandler = (action) => (_, [__, ev], bus, ctx) => {\n    const id = ev ? ev[0] : \"history\";\n    if (implementsFunction(ctx[id], action)) {\n        const ok = ctx[id][action]();\n        return {\n            [FX_STATE]: bus.state.deref(),\n            [FX_DISPATCH_NOW]: ev\n                ? ok !== undefined\n                    ? ev[1]\n                    : ev[2]\n                : undefined,\n        };\n    }\n    else {\n        LOGGER.warn(\"no history in context\");\n    }\n};\n\n/**\n * Debug interceptor to log the current event to the console.\n */\nconst trace = (_, e) => console.log(\"event:\", e);\n/**\n * Higher-order interceptor. Returns new interceptor to set state value\n * at provided path. This allows for dedicated events to set state\n * values more concisely, e.g. given this event definition:\n *\n * @example\n * ```ts\n * setFoo: valueSetter(\"foo.bar\")\n * ```\n *\n * ...the `setFoo` event then can be triggered like so to update the\n * state value at `foo.bar`:\n *\n * @example\n * ```ts\n * bus.dispatch([\"setFoo\", 23])\n * ```\n *\n * @param path -\n * @param tx -\n */\nconst valueSetter = (path, tx) => {\n    const $ = defSetterUnsafe(path);\n    return (state, [_, val]) => ({ [FX_STATE]: $(state, tx ? tx(val) : val) });\n};\n/**\n * Higher-order interceptor. Returns new interceptor to update state\n * value at provided path with given function. This allows for dedicated\n * events to update state values more concisely, e.g. given this event\n * definition:\n *\n * @example\n * ```ts\n * incFoo: valueUpdater(\"foo.bar\", (x, y) => x + y)\n * ```\n *\n * ...the `incFoo` event then can be triggered like so to update the\n * state value at `foo.bar` (where `1` is the extra arg provided to the\n * update fn:\n *\n * @example\n * ```ts\n * bus.dispatch([\"incFoo\", 1]) // results in value = value + 1\n * ```\n *\n * @param path -\n * @param fn -\n */\nconst valueUpdater = (path, fn) => {\n    const $ = defUpdaterUnsafe(path, fn);\n    return (state, [_, ...args]) => ({ [FX_STATE]: $(state, ...args) });\n};\n\nexport { EV_SET_VALUE, EV_UPDATE_VALUE, EventBus, FX_DELAY, FX_DISPATCH_ASYNC, FX_DISPATCH_NOW, trace, valueSetter, valueUpdater };\n", "import { d as defError } from './deferror-480a42fb.js';\n\nconst IllegalArityError = defError(() => \"illegal arity\");\nconst illegalArity = (n) => {\n    throw new IllegalArityError(n);\n};\n\nexport { illegalArity as i };\n", "import { e as equiv } from '../common/index-6d483b49.js';\nimport { m as mixin, _ as __decorate } from '../common/mixin-ad130ceb.js';\nimport { N as NO_OP, E as EVENT_ALL } from '../common/constants-8dfd1542.js';\nimport { i as illegalArity } from '../common/illegal-arity-febf7f58.js';\nimport { i as illegalArgs } from '../common/illegal-arguments-f9331715.js';\nimport { i as isString } from '../common/is-string-40d6c094.js';\nimport '../common/deferror-480a42fb.js';\n\nvar process = {};\n\n/**\n * Takes a `test` result or predicate function without args and throws\n * error with given `msg` if test failed (i.e. is falsy).\n *\n * @remarks\n * The function is only enabled if `\"production\" != \"production\"`\n * or if the `UMBRELLA_ASSERTS` env var is set to 1.\n */\nconst assert = (() => {\n    try {\n        return (\"production\" !== \"production\" ||\n            process.env.UMBRELLA_ASSERTS === \"1\");\n    }\n    catch (e) { }\n    return false;\n})()\n    ? (test, msg = \"assertion failed\") => {\n        if ((typeof test === \"function\" && !test()) || !test) {\n            throw new Error(typeof msg === \"function\" ? msg() : msg);\n        }\n    }\n    : NO_OP;\n\nconst inotify_dispatch = (listeners, e) => {\n    if (!listeners)\n        return;\n    for (let i = 0, n = listeners.length, l; i < n; i++) {\n        l = listeners[i];\n        l[0].call(l[1], e);\n        if (e.canceled) {\n            return;\n        }\n    }\n};\n/**\n * Mixin class decorator, injects INotify default implementation, incl.\n * a lazily instantiated `_listeners` property object, storing\n * registered listeners.\n */\nconst INotifyMixin = mixin({\n    addListener(id, fn, scope) {\n        let l = (this._listeners = this._listeners || {})[id];\n        !l && (l = this._listeners[id] = []);\n        if (this.__listener(l, fn, scope) === -1) {\n            l.push([fn, scope]);\n            return true;\n        }\n        return false;\n    },\n    removeListener(id, fn, scope) {\n        let listeners;\n        if (!(listeners = this._listeners))\n            return false;\n        const l = listeners[id];\n        if (l) {\n            const idx = this.__listener(l, fn, scope);\n            if (idx !== -1) {\n                l.splice(idx, 1);\n                !l.length && delete listeners[id];\n                return true;\n            }\n        }\n        return false;\n    },\n    notify(e) {\n        let listeners;\n        if (!(listeners = this._listeners))\n            return false;\n        e.target === undefined && (e.target = this);\n        inotify_dispatch(listeners[e.id], e);\n        inotify_dispatch(listeners[EVENT_ALL], e);\n    },\n    __listener(listeners, f, scope) {\n        let i = listeners.length;\n        while (--i >= 0) {\n            const l = listeners[i];\n            if (l[0] === f && l[1] === scope) {\n                break;\n            }\n        }\n        return i;\n    },\n});\n\n/**\n * ID of success event being triggered by `router.match()`\n */\nconst EVENT_ROUTE_CHANGED = \"route-changed\";\n\nlet BasicRouter = class BasicRouter {\n    constructor(config) {\n        config.authenticator =\n            config.authenticator ||\n                ((route, _, params) => ({\n                    id: route.id,\n                    title: route.title,\n                    params,\n                }));\n        config.prefix = config.prefix === undefined ? \"/\" : config.prefix;\n        config.separator = config.separator || \"/\";\n        this.config = config;\n        assert(this.routeForID(this.config.defaultRouteID) !== undefined, `missing config for default route: '${this.config.defaultRouteID}'`);\n        if (config.initialRouteID) {\n            const route = this.routeForID(config.initialRouteID);\n            assert(route !== undefined, `missing config for initial route: ${this.config.initialRouteID}`);\n            assert(!isParametricRoute(route), \"initial route MUST not be parametric\");\n        }\n    }\n    /** {@inheritDoc @thi.ng/api#INotify.addListener} */\n    // @ts-ignore: arguments\n    addListener(id, fn, scope) { }\n    /** {@inheritDoc @thi.ng/api#INotify.removeListener} */\n    // @ts-ignore: arguments\n    removeListener(id, fn, scope) { }\n    /** {@inheritDoc @thi.ng/api#INotify.notify} */\n    // @ts-ignore: arguments\n    notify(event) { }\n    start() {\n        if (this.config.initialRouteID) {\n            const route = this.routeForID(this.config.initialRouteID);\n            this.current = { id: route.id, title: route.title, params: {} };\n            this.notify({ id: EVENT_ROUTE_CHANGED, value: this.current });\n        }\n    }\n    /**\n     * Main router function. Attempts to match given input string\n     * against all configured routes. If none matches, falls back\n     * to default route. Before returning, triggers event with\n     * return value as well.\n     *\n     * @param raw - route path to match\n     */\n    route(src) {\n        if (src.charAt(0) === \"#\") {\n            src = src.substr(1);\n        }\n        src = src.substr(this.config.prefix.length);\n        let match = this.matchRoutes(src);\n        if (!match) {\n            if (!this.handleRouteFailure()) {\n                return;\n            }\n            const route = this.routeForID(this.config.defaultRouteID);\n            match = { id: route.id, title: route.title, params: {} };\n        }\n        if (!equiv(match, this.current)) {\n            this.current = match;\n            this.notify({ id: EVENT_ROUTE_CHANGED, value: match });\n        }\n        return match;\n    }\n    format(...args) {\n        let [id, params, hash] = args;\n        let match;\n        switch (args.length) {\n            case 3:\n                match = { id, params };\n                break;\n            case 2:\n                if (isString(id)) {\n                    match = { id, params };\n                }\n                else {\n                    hash = params;\n                    match = id;\n                }\n                break;\n            case 1:\n                match = isString(id) ? { id } : id;\n                break;\n            default:\n                illegalArity(args.length);\n        }\n        const route = this.routeForID(match.id);\n        if (route) {\n            const params = match.params || {};\n            return ((hash ? \"#\" : \"\") +\n                this.config.prefix +\n                route.match\n                    .map((x) => x.charAt(0) === \"?\"\n                    ? (x = params[x.substr(1)]) != null\n                        ? x\n                        : \"NULL\"\n                    : x)\n                    .join(this.config.separator));\n        }\n        else {\n            illegalArgs(`invalid route ID: ${match.id}`);\n        }\n    }\n    routeForID(id) {\n        return this.config.routes.find((route) => route.id === id);\n    }\n    matchRoutes(src) {\n        const routes = this.config.routes;\n        const curr = src.split(this.config.separator);\n        for (let i = 0, n = routes.length; i < n; i++) {\n            const match = this.matchRoute(curr, routes[i]);\n            if (match) {\n                return match;\n            }\n        }\n    }\n    matchRoute(curr, route) {\n        const match = route.match, n = match.length;\n        if (curr.length === n) {\n            const params = {};\n            for (let i = 0; i < n; i++) {\n                const m = match[i];\n                if (m.charAt(0) === \"?\") {\n                    params[m.substr(1)] = curr[i];\n                }\n                else if (curr[i] !== m) {\n                    return;\n                }\n            }\n            if (route.validate &&\n                !this.validateRouteParams(params, route.validate)) {\n                return;\n            }\n            return route.auth\n                ? this.config.authenticator(route, curr, params)\n                : { id: route.id, title: route.title, params };\n        }\n    }\n    validateRouteParams(params, validators) {\n        for (let id in validators) {\n            if (params[id] !== undefined) {\n                const val = validators[id];\n                if (val.coerce) {\n                    params[id] = val.coerce(params[id]);\n                }\n                if (val.check && !val.check(params[id])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    handleRouteFailure() {\n        return true;\n    }\n};\nBasicRouter = __decorate([\n    INotifyMixin\n], BasicRouter);\nconst isParametricRoute = (route) => route.match.some((p) => p.charAt(0) === \"?\");\n\nclass HTMLRouter extends BasicRouter {\n    constructor(config) {\n        super(config);\n        this.useFragment = config.useFragment !== false;\n        this.ignoreHashChange = false;\n    }\n    start() {\n        window.addEventListener(\"popstate\", this.handlePopChange());\n        if (this.useFragment) {\n            window.addEventListener(\"hashchange\", this.handleHashChange());\n        }\n        if (this.config.initialRouteID) {\n            const route = this.routeForID(this.config.initialRouteID);\n            this.route(this.format({\n                id: route.id,\n                title: route.title,\n            }));\n        }\n        else {\n            this.route(this.useFragment ? location.hash : location.pathname);\n        }\n    }\n    release() {\n        window.removeEventListener(\"popstate\", this.popHandler);\n        if (this.useFragment) {\n            window.removeEventListener(\"hashchange\", this.hashHandler);\n        }\n    }\n    /**\n     * Like `BasicRouter.route()`, but takes additional arg to control\n     * if this routing operation should manipulate the browser's `history`.\n     * If called from userland, this normally is true. However, we want\n     * to avoid this if called from this router's own event handlers.\n     *\n     * @param raw -\n     * @param pushState -\n     */\n    route(src, pushState = true) {\n        const old = this.current;\n        const route = super.route(src);\n        if (route && !equiv(route, old)) {\n            this.currentPath = this.format(route);\n            if (pushState) {\n                history.pushState(this.currentPath, route.title || window.document.title || \"\", this.currentPath);\n            }\n        }\n        return route;\n    }\n    routeTo(route) {\n        if (this.useFragment) {\n            location.hash = route;\n        }\n        this.route(route);\n    }\n    format(...args) {\n        let match;\n        switch (args.length) {\n            case 2:\n                match = { id: args[0], params: args[1] };\n                break;\n            case 1:\n                match = isString(args[0]) ? { id: args[0] } : args[0];\n                break;\n            default:\n                illegalArity(args.length);\n        }\n        return super.format(match, this.useFragment);\n    }\n    handlePopChange() {\n        return (this.popHandler =\n            this.popHandler ||\n                ((e) => {\n                    this.route(e.state ||\n                        (this.useFragment ? location.hash : location.pathname), false);\n                }).bind(this));\n    }\n    handleHashChange() {\n        return (this.hashHandler =\n            this.hashHandler ||\n                ((e) => {\n                    if (!this.ignoreHashChange) {\n                        const hash = e.newURL.substr(e.newURL.indexOf(\"#\"));\n                        if (hash !== this.currentPath) {\n                            this.route(hash, false);\n                        }\n                    }\n                }).bind(this));\n    }\n    handleRouteFailure() {\n        this.ignoreHashChange = true;\n        location.hash = this.format({\n            id: this.routeForID(this.config.defaultRouteID).id,\n        });\n        this.ignoreHashChange = false;\n        return true;\n    }\n}\n\nexport { EVENT_ROUTE_CHANGED, HTMLRouter };\n", "export const DONE = \"done\";\nexport const ERROR = \"error\";\nexport const SET_STATUS = \"set-status\";\nexport const ROUTE_TO = \"route-to\";\nexport const ROUTE_TO_ENTRY = \"route-to-entry\";\nexport const ROUTE_TO_NEW_ENTRY = \"route-to-new-entry\";\nexport const ROUTE_TO_EDIT_ENTRY = \"route-to-edit-entry\";\nexport const ROUTE_TO_SEARCH_ENTRY = \"route-to-search-entry\";\nexport const TOGGLE_NAV = \"toggle-nav\";\nexport const TOGGLE_ACCOUNT = \"toggle-account\";\nexport const CLOSE_ACCOUNT = \"close-account\";\nexport const TOGGLE_NOTIFICATION = \"toggle-notification\";\nexport const CLOSE_NOTIFICATION = \"close-notification\";\nexport const TOGGLE_DELETE_OPINION = \"toggle-delete-opinion\";\nexport const CLOSE_DELETE_OPINION = \"close-delete-opinion\";\nexport const TOGGLE_REPORT = \"toggle-report\";\nexport const CLOSE_REPORT = \"close-report\";\nexport const SET_REPORT = \"set-report\";\nexport const SET_OPINION_REPORT = \"set-opinion-report\";\nexport const CREATE_REPORT = \"create-report\";\nexport const CREATE_REPORT_SUCCESS = \"create-report-success\";\nexport const TOGGLE_DEBUG = \"toggle-debug\";\nexport const SET_INPUT = \"set-input\";\nexport const GET_ENTRY = \"get-entry\";\nexport const RECEIVE_ENTRY = \"receive-entry\";\nexport const GET_USER = \"get-user\";\nexport const RECEIVE_USER = \"receive-user\";\nexport const GET_TOKEN = \"get-token\";\nexport const RECEIVE_TOKEN = \"receive-token\";\nexport const SIGN_OUT = \"sign-out\";\nexport const SIGN_OUT_SUCCESS = \"sign-out-success\";\nexport const SET_OPINION_TEMPLATE = \"set-opinion-template\";\nexport const SET_OPINION = \"set-opinion\";\nexport const CREATE_OPINION = \"create-opinion\";\nexport const CREATE_OPINION_SUCCESS = \"create-opinion-success\";\nexport const APPEND_OPINION = \"append-opinion\";\nexport const REMOVE_OPINION = \"remove-opinion\";\nexport const DELETE_OPINION = \"delete-opinion\";\nexport const DELETE_OPINION_SUCCESS = \"delete-opinion-success\";\nexport const SET_TEMP_OPINION = \"set-temp-opinion\";\nexport const EDIT_OPINION = \"edit-opinion\";\nexport const CANCEL_EDIT_OPINION = \"cancel-edit-opinion\";\nexport const UPDATE_OPINION = \"update-opinion\";\nexport const UPDATE_OPINION_SUCCESS = \"update-opinion-success\";\nexport const SET_NEW_ENTRY = \"set-new-entry\";\nexport const SET_NEW_ENTRY_TEMPLATE = \"set-new-entry-template\";\nexport const GET_WIKI_NEW = \"get-wiki-new\";\nexport const RECEIVE_WIKI_NEW = \"receive-wiki-new\";\nexport const GET_WIKI_TEMP = \"get-wiki-temp\";\nexport const RECEIVE_WIKI_TEMP = \"receive-wiki-temp\";\nexport const CREATE_ENTRY = \"create-entry\";\nexport const CREATE_ENTRY_SUCCESS = \"create-entry-success\";\nexport const EDIT_ENTRY = \"edit-entry\";\nexport const UPDATE_ENTRY = \"update-entry\";\nexport const UPDATE_ENTRY_SUCCESS = \"update-entry-success\";\nexport const SET_TEMP_ENTRY = \"set-temp-entry\";\nexport const SET_TEMP_ENTRY_TEMPLATE = \"set-temp-entry-template\";\nexport const SEARCH_ENTRY = \"search-entry\";\nexport const SEARCH_ENTRY_SUCCESS = \"search-entry-success\";\nexport const ROUTE_TO_SEARCH_ENTRY_PAGE = \"route-to-search-entry-page\";\nexport const GET_VOTE = \"get-vote\";\nexport const RECEIVE_VOTE = \"receive-vote\";\nexport const CREATE_VOTE = \"create-vote\";\nexport const CREATE_VOTE_SUCCESS = \"create-vote-success\";\nexport const DELETE_VOTE = \"delete-vote\";\nexport const DELETE_VOTE_SUCCESS = \"delete-vote-success\";\nexport const APPEND_VOTE = \"append-vote\";\nexport const REMOVE_VOTE = \"remove-vote\";\nexport const GET_ENTRY_W_ACTIVITY = \"get-entry-w-activity\";\nexport const GET_NOTIFICATION = \"get-notification\";\nexport const RECEIVE_NOTIFICATION = \"receive-notification\";\nexport const UPDATE_NOTIFICATION = \"update-notification\";\nexport const UPDATE_NOTIFICATION_SUCCESS = \"update-notification-success\";\nexport const CREATE_NOTIFICATION = \"create-notification\";\nexport const CREATE_NOTIFICATION_SUCCESS = \"create-notification-success\";\nexport const DELETE_NOTIFICATION = \"delete-notification\";\nexport const DELETE_NOTIFICATION_SUCCESS = \"delete-notification-success\";\nexport const APPEND_NOTIFICATION = \"append-notification\";\nexport const REMOVE_NOTIFICATION = \"remove-notification\";\nexport const GET_NEW_NOTIFICATIONS = \"get-new-notifications\";\nexport const RECEIVE_NEW_NOTIFICATIONS = \"receive-new-notifications\";\nexport const MARK_NEW_NOTIFICATIONS = \"mark-new-notifications\";\nexport const VIEW_NEW_NOTIFICATIONS = \"view-new-notifications\";\nexport const TOGGLE_VOTE_LOCK = \"toggle-vote-lock\";\n", "export function eventBtn(ctx, event, attribs, body) {\n  return [\n    \"button\",\n    {\n      ...attribs,\n      onclick: (e) => {\n        e.preventDefault();\n        ctx.bus.dispatch(event);\n      }\n    },\n    body\n  ];\n}\n", "import {TOGGLE_DEBUG} from \"../events.js\";\nimport {eventBtn} from \"./event-btn.js\";\nexport function debugContainer(ctx, debug, json) {\n  const ui = ctx.ui.debug;\n  return [\n    \"div#debug\",\n    ui.container,\n    [eventBtn, [TOGGLE_DEBUG], ui.debugToggle, debug ? \"close▼\" : \"open▲\"],\n    [\n      \"pre\",\n      debug ? ui.open : ui.close,\n      [\n        \"div\",\n        {class: \"flex\"},\n        [\"div\", {class: \"flex-1 bg-gray-200\"}, json]\n      ]\n    ]\n  ];\n}\n", "const isNumeric = (x) => /^[0-9]+$/.test(x);\n\nexport { isNumeric };\n", "import {isNumeric} from \"../_snowpack/pkg/@thi.ng/checks/is-alphanum.js\";\nexport const ABOUT = {\n  id: \"about\",\n  match: [\"about\"]\n};\nexport const CONTACT = {\n  id: \"contact\",\n  match: [\"contact\"]\n};\nexport const SEARCH = {\n  id: \"search\",\n  match: [\"search\", \"?id\", \"?page\"],\n  validate: {\n    id: {check: (x) => x !== \"\"},\n    page: {\n      check: (x) => isNumeric(x)\n    }\n  }\n};\nexport const ENTRY_DETAIL = {\n  id: \"entry-detail\",\n  match: [\"entry\", \"?id\"],\n  validate: {\n    id: {\n      coerce: (x) => x.toLowerCase(),\n      check: (x) => x.toLowerCase() === x\n    }\n  }\n};\nexport const NEW_ENTRY = {\n  id: \"new-entry\",\n  match: [\"new_entry\", \"?id\"],\n  validate: {\n    id: {\n      coerce: (x) => x.toLowerCase(),\n      check: (x) => x.toLowerCase() === x\n    }\n  }\n};\nexport const EDIT_ENTRY = {\n  id: \"edit-entry\",\n  match: [\"edit_entry\", \"?id\"],\n  validate: {\n    id: {\n      coerce: (x) => x.toLowerCase(),\n      check: (x) => x.toLowerCase() === x\n    }\n  }\n};\nexport const SIGN_IN = {\n  id: \"sign-in\",\n  match: [\"sign_in\"]\n};\nexport const GITHUB_OAUTH_CB = {\n  id: \"github-oauth-cb\",\n  match: [\"github_oauth_cb\"]\n};\nexport const FAQ = {\n  id: \"faq\",\n  match: [\"faq\"]\n};\nexport const DONATE = {\n  id: \"donate\",\n  match: [\"donate\"]\n};\n", "export const withSize = (icon, width, height) => [\n  icon[0],\n  {...icon[1], width, height, fill: \"currentColor\"},\n  ...icon.slice(2)\n];\nexport const M_CHAR = [\n  \"svg\",\n  {viewBox: \"0 0 60 60\"},\n  [\n    \"path\",\n    {\n      d: \"M53.4082031,49.7421875 L44.3017578,49.7421875 L42.2021484,34.2880859 C42.0556633,33.1975857 41.9213873,31.9850327 41.7993164,30.6503906 C41.6772455,29.3157485 41.5673833,27.8590574 41.4697266,26.2802734 C41.2418608,27.7939529 40.7942742,29.6819548 40.1269531,31.9443359 C39.980468,32.4163435 39.8746748,32.7662749 39.8095703,32.9941406 L34.9511719,49.7421875 L28.4570312,49.7421875 L23.5986328,32.9941406 C23.5335283,32.7662749 23.435873,32.4163435 23.3056641,31.9443359 C22.6220669,29.6819548 22.1744802,27.8020908 21.9628906,26.3046875 C21.8652339,27.6556057 21.7513027,28.9942968 21.6210938,30.3208008 C21.4908848,31.6473048 21.3362639,32.96972 21.1572266,34.2880859 L19.0576172,49.7421875 L10,49.7421875 L15.5175781,14 L25.1611328,14 L30.5566406,32.4326172 C30.5891929,32.5628262 30.6542964,32.7744126 30.7519531,33.0673828 C31.2565129,34.7112712 31.5738926,36.1191348 31.7041016,37.2910156 C31.7692061,36.6562468 31.8912751,35.9523151 32.0703125,35.1791992 C32.2493499,34.4060834 32.493488,33.4742893 32.8027344,32.3837891 L38.2470703,14 L47.9150391,14 L53.4082031,49.7421875 Z\",\n      id: \"M\"\n    }\n  ]\n];\nexport const GITHUB = [\n  \"svg\",\n  {viewBox: \"0 0 16 16\"},\n  [\n    \"path\",\n    {\n      d: \"M14.0609 4.65755C13.435 3.58505 12.5859 2.73595 11.5135 2.11005C10.4409 1.48413 9.26999 1.17125 7.99989 1.17125C6.72994 1.17125 5.55864 1.48423 4.4863 2.11005C3.4138 2.73591 2.56476 3.58505 1.9388 4.65755C1.31295 5.73002 1 6.90116 1 8.17095C1 9.69625 1.44501 11.0678 2.33526 12.2861C3.22542 13.5044 4.37536 14.3474 5.78501 14.8153C5.94909 14.8457 6.07056 14.8243 6.14954 14.7516C6.22855 14.6787 6.26801 14.5875 6.26801 14.4782C6.26801 14.46 6.26644 14.296 6.26341 13.9861C6.26028 13.6761 6.25881 13.4057 6.25881 13.175L6.04917 13.2113C5.91551 13.2358 5.74689 13.2461 5.54331 13.2432C5.33983 13.2404 5.1286 13.219 4.90989 13.1794C4.69109 13.1401 4.48757 13.0489 4.29919 12.9062C4.11091 12.7634 3.97725 12.5764 3.89823 12.3457L3.80709 12.136C3.74634 11.9963 3.6507 11.8412 3.52004 11.6712C3.38937 11.501 3.25724 11.3856 3.12358 11.3249L3.05977 11.2792C3.01724 11.2488 2.97779 11.2122 2.9413 11.1697C2.90484 11.1273 2.87755 11.0847 2.85932 11.0421C2.84106 10.9995 2.85619 10.9646 2.90487 10.9371C2.95356 10.9097 3.04154 10.8964 3.1692 10.8964L3.35142 10.9236C3.47295 10.948 3.62328 11.0208 3.80259 11.1424C3.98181 11.2639 4.12914 11.4218 4.2446 11.6162C4.38443 11.8654 4.55289 12.0552 4.75046 12.1859C4.94788 12.3166 5.14692 12.3818 5.3474 12.3818C5.54788 12.3818 5.72103 12.3666 5.86692 12.3364C6.01265 12.306 6.14938 12.2603 6.27704 12.1996C6.33173 11.7923 6.48062 11.4794 6.72359 11.2607C6.37728 11.2243 6.06593 11.1695 5.78938 11.0966C5.51299 11.0236 5.22737 10.9052 4.93271 10.741C4.6379 10.577 4.39334 10.3733 4.19895 10.1304C4.00454 9.88734 3.84499 9.56824 3.72052 9.17337C3.59598 8.77835 3.5337 8.32268 3.5337 7.80622C3.5337 7.07086 3.77377 6.4451 4.2538 5.92858C4.02893 5.37573 4.05016 4.75597 4.31755 4.06936C4.49377 4.01461 4.75509 4.05569 5.1014 4.19236C5.44777 4.32909 5.70137 4.44621 5.86245 4.54332C6.02354 4.6404 6.15261 4.72267 6.24984 4.78939C6.81505 4.63147 7.39832 4.55249 7.99982 4.55249C8.60133 4.55249 9.18473 4.63147 9.74996 4.78939L10.0963 4.57075C10.3331 4.42486 10.6128 4.29116 10.9347 4.16963C11.2567 4.04816 11.503 4.0147 11.6732 4.06945C11.9465 4.75609 11.9709 5.37582 11.7459 5.92867C12.2259 6.4452 12.4661 7.07112 12.4661 7.80632C12.4661 8.32277 12.4036 8.77989 12.2793 9.17794C12.1548 9.57606 11.9938 9.89485 11.7964 10.135C11.5988 10.3751 11.3526 10.5771 11.058 10.7411C10.7633 10.9052 10.4776 11.0236 10.2012 11.0966C9.92465 11.1695 9.6133 11.2244 9.26699 11.2608C9.58284 11.5342 9.7408 11.9656 9.7408 12.555V14.478C9.7408 14.5872 9.77879 14.6784 9.85483 14.7513C9.93078 14.8241 10.0507 14.8455 10.2148 14.815C11.6246 14.3472 12.7746 13.5041 13.6647 12.2858C14.5547 11.0676 14.9999 9.69599 14.9999 8.17069C14.9996 6.90106 14.6865 5.73002 14.0609 4.65755Z\"\n    }\n  ]\n];\nexport const MENCIUS = [\n  \"svg\",\n  {viewBox: \"0 0 300 60\"},\n  [\n    \"path\",\n    {\n      d: \"M3.28,49.4 L3.28,20.88 L8.16,20.88 L8.16,49.4 L3.28,49.4 Z M4.52,14.32 L8.16,11.84 C10.16,14.12 12.88,17.24 14.12,19.32 L10.16,22.12 C9.08,20 6.52,16.68 4.52,14.32 Z M36.88,13.44 L36.88,44.04 C36.88,46.68 36.28,47.88 34.6,48.64 C32.96,49.4 30.4,49.48 26.68,49.44 C26.48,48.16 25.8,46.16 25.12,44.96 C27.44,45.08 30.2,45.08 30.96,45.04 C31.76,45.04 32.04,44.8 32.04,44 L32.04,18 L14.6,18 L14.6,13.44 L36.88,13.44 Z M48.44,12.24 L52.8,13.56 C51.96,16.04 50.96,18.64 49.84,21.12 L49.84,49.44 L45.32,49.44 L45.32,29.44 C44.52,30.64 43.68,31.8 42.8,32.8 C42.4,31.68 41.28,28.92 40.52,27.68 C43.72,23.92 46.68,18.08 48.44,12.24 Z M56.2,23.28 L56.2,28.84 C59.04,28.12 61.6,27.16 63.84,25.88 C62.72,24.88 61.72,23.84 60.88,22.8 C60.16,23.68 59.36,24.48 58.56,25.2 C58.04,24.68 57.08,23.92 56.2,23.28 Z M70.24,19.96 L63.2,19.96 C64.2,21.24 65.48,22.52 67.04,23.64 C68.32,22.56 69.36,21.36 70.24,19.96 Z M78.2,19.96 L75.2,19.96 C74.04,22.24 72.52,24.16 70.76,25.84 C73.24,27.04 76.16,28 79.48,28.52 C78.64,29.4 77.48,31.2 76.92,32.32 C73.24,31.52 70.04,30.16 67.4,28.52 C64.72,30.28 61.64,31.64 58.28,32.64 C57.92,31.92 57,30.68 56.2,29.76 L56.2,42.8 L52.08,42.8 L52.08,17.2 L56.2,17.2 L56.2,21.44 C58.8,19 60.96,15.6 62.2,12.12 L66.52,13.12 C66.12,14.12 65.68,15.16 65.2,16.12 L78.2,16.12 L78.2,19.96 Z M71.52,34.12 L74.92,35.52 C71.76,38.96 66.44,41.36 61,42.76 C60.48,41.88 59.52,40.56 58.68,39.8 C63.68,38.76 68.88,36.76 71.52,34.12 Z M67.6,30.48 L71.08,31.92 C68.6,34.44 64.64,36.32 60.92,37.52 C60.36,36.64 59.32,35.52 58.4,34.8 C61.8,33.92 65.64,32.28 67.6,30.48 Z M74.4,38.64 L78.48,40.28 C74.32,45.16 67.24,47.84 59.08,49.32 C58.56,48.16 57.6,46.6 56.68,45.56 C64.04,44.56 70.96,42.4 74.4,38.64 Z M89.12,33.12 L89.12,35.84 L94.48,35.84 L94.48,33.12 L89.12,33.12 Z M94.48,21 L89.12,21 L89.12,23.36 L94.48,23.36 L94.48,21 Z M89.12,27 L89.12,29.48 L94.48,29.48 L94.48,27 L89.12,27 Z M101.36,35.84 L101.36,40 L81.32,40 L81.32,35.84 L84.84,35.84 L84.84,21 L81.8,21 L81.8,16.84 L84.84,16.84 L84.84,12.56 L89.12,12.56 L89.12,16.84 L94.48,16.84 L94.48,12.56 L98.84,12.56 L98.84,16.84 L101.2,16.84 L101.2,21 L98.84,21 L98.84,35.84 L101.36,35.84 Z M86.32,40.28 L90.76,41.56 C89.44,44.44 87.12,47.44 85.08,49.32 C84.24,48.52 82.4,47.16 81.32,46.52 C83.28,45 85.24,42.56 86.32,40.28 Z M118.72,25.24 L118.72,29.64 L115.28,29.64 L115.28,49.44 L110.76,49.44 L110.76,29.64 L107.08,29.64 L107.08,30.96 C107.08,38.32 106.24,44.92 101.24,50.36 C100.48,49.32 99,48.04 97.92,47.28 C98.4,46.72 98.84,46.16 99.24,45.6 L95.4,47.48 C94.76,46.04 93.24,43.72 92.04,42.08 L95.84,40.32 C97.04,41.88 98.6,43.96 99.36,45.4 C102.28,41.04 102.72,36.04 102.72,30.96 L102.72,16.44 C107.12,15.32 111.96,13.64 114.84,11.92 L118.64,15.32 C115.32,16.96 111.12,18.36 107.08,19.36 L107.08,25.24 L118.72,25.24 Z M134.88,30.8 C134.88,28 137.2,25.68 140,25.68 C142.8,25.68 145.12,28 145.12,30.8 C145.12,33.6 142.8,35.92 140,35.92 C137.2,35.92 134.88,33.6 134.88,30.8 Z M161.4,46 L161.4,16.28 L166.72,16.28 L169.08,26.04 L169.92,30.68 L170.08,30.68 L170.96,26.04 L173.28,16.28 L178.6,16.28 L178.6,46 L174.04,46 L174.04,34.32 C174.04,31.32 174.8,25.04 175.08,22.08 L174.92,22.08 L173.16,29.72 L171.2,37.4 L168.68,37.4 L166.72,29.72 L164.92,22.08 L164.76,22.08 C165.04,25.04 165.88,31.32 165.88,34.32 L165.88,46 L161.4,46 Z M191.24,46.48 C185.8,46.48 181.48,42.2 181.48,34.76 C181.48,27.48 185.84,23.04 190.52,23.04 C195.76,23.04 198.44,27.48 198.44,33.72 C198.44,34.8 198.32,35.92 198.24,36.48 L187.24,36.48 C187.6,40.12 189.4,42 192,42 C193.36,42 194.44,41.6 195.64,40.88 L197.64,44.44 C195.84,45.76 193.56,46.48 191.24,46.48 Z M187.12,32.44 L193.48,32.44 C193.48,29.4 192.56,27.52 190.64,27.52 C188.92,27.52 187.4,29.2 187.12,32.44 Z M201.88,46 L201.88,23.52 L206.64,23.52 L207.04,26.24 L207.2,26.24 C208.56,24.48 210.44,23.04 213.04,23.04 C216.8,23.04 218.4,25.84 218.4,30.8 L218.4,46 L212.44,46 L212.44,31.32 C212.44,28.92 211.96,28 210.52,28 C209.48,28 208.6,28.84 207.8,30.36 L207.8,46 L201.88,46 Z M231.84,46.56 C226.24,46.56 221.84,42.2 221.84,34.76 C221.84,27.28 226.76,23 232.28,23 C234.84,23 236.64,23.92 238.12,25.36 L235.32,29.12 C234.44,28.16 233.68,27.72 232.64,27.72 C229.76,27.72 227.88,30.56 227.88,34.76 C227.88,39 229.88,41.76 232.48,41.76 C233.88,41.76 235.16,41.12 236.16,40.08 L238.48,43.92 C236.6,45.8 234.12,46.56 231.84,46.56 Z M248.8,46 L248.8,28.16 L242.32,28.16 L242.32,23.52 L254.76,23.52 L254.76,46 L248.8,46 Z M251.44,19.88 C249.36,19.88 247.88,18.56 247.88,16.64 C247.88,14.76 249.36,13.36 251.44,13.36 C253.48,13.36 254.96,14.76 254.96,16.64 C254.96,18.56 253.48,19.88 251.44,19.88 Z M266.76,46.48 C263,46.48 261.44,43.68 261.44,38.72 L261.44,23.52 L267.36,23.52 L267.36,38 C267.36,40.4 267.72,41.52 269.24,41.52 C270.28,41.52 271.08,40.68 271.84,39.16 L271.84,23.52 L277.8,23.52 L277.8,46 L273.04,46 L272.64,43.28 L272.48,43.28 C271.08,45.04 269.36,46.48 266.76,46.48 Z M289.6,46.56 C286.44,46.56 283.64,45.28 281.32,43.4 L284,39.72 C286.12,41.24 287.48,42.2 289.68,42.2 C291.76,42.2 292.68,41.16 292.68,39.8 C292.68,38.08 290.64,37.44 288.28,36.4 C285.64,35.28 282.44,33.6 282.44,29.8 C282.44,25.8 285.56,23 290.52,23 C293.88,23 295.88,24.28 297.8,25.72 L295.16,29.28 C293.48,28.12 292.44,27.36 290.64,27.36 C288.84,27.36 287.92,28.28 287.92,29.56 C287.92,31.2 289.84,31.68 292.24,32.68 C294.92,33.76 298.2,35.32 298.2,39.48 C298.2,43.4 295.16,46.56 289.6,46.56 Z\",\n      id: \"门修斯・Mencius\"\n    }\n  ]\n];\n", "import {withSize, M_CHAR, MENCIUS} from \"./icons.js\";\nexport function logo(ctx) {\n  const ui = ctx.ui.logo;\n  return [\n    \"div\",\n    ui.container,\n    [\"div\", {...ui.m}, withSize(M_CHAR, \"40px\", \"40px\")],\n    [\"div\", {...ui.mxs}, withSize(MENCIUS, \"200px\", \"40px\")]\n  ];\n}\n", "export var ActivityType;\n(function(ActivityType2) {\n  ActivityType2[\"UPVOTE\"] = \"upvote\";\n  ActivityType2[\"DOWNVOTE\"] = \"downvote\";\n  ActivityType2[\"NOTIFICATION\"] = \"notification\";\n})(ActivityType || (ActivityType = {}));\nexport var NotificationStatus;\n(function(NotificationStatus2) {\n  NotificationStatus2[\"NEW\"] = \"new\";\n  NotificationStatus2[\"VIEWED\"] = \"viewed\";\n})(NotificationStatus || (NotificationStatus = {}));\nexport var ReportType;\n(function(ReportType2) {\n  ReportType2[\"OPINION\"] = \"OPINION\";\n})(ReportType || (ReportType = {}));\nexport var StatusType;\n(function(StatusType2) {\n  StatusType2[StatusType2[\"DONE\"] = 0] = \"DONE\";\n  StatusType2[StatusType2[\"INFO\"] = 1] = \"INFO\";\n  StatusType2[StatusType2[\"SUCCESS\"] = 2] = \"SUCCESS\";\n  StatusType2[StatusType2[\"ERROR\"] = 3] = \"ERROR\";\n})(StatusType || (StatusType = {}));\n", "export function newsletterForm(ctx) {\n  const ui = ctx.ui.newsletterForm;\n  return [\n    \"div\",\n    ui.root,\n    [\"h1\", ui.title, \"加入 Newsletter 获取项目最新进展\"],\n    [\n      \"form\",\n      {\n        ...ui.form,\n        action: \"https://tinyletter.com/nopro-studio\",\n        method: \"post\",\n        target: \"popupwindow\"\n      },\n      [\n        \"div\",\n        ui.container,\n        [\n          \"input\",\n          {\n            ...ui.input,\n            type: \"email\",\n            placeholder: \"email address\",\n            name: \"email\",\n            id: \"tlemail\"\n          }\n        ],\n        [\"input\", {...ui.button, type: \"submit\", value: \"SUBSCRIBE\"}]\n      ]\n    ]\n  ];\n}\n", "export function characterCard(ctx, attribs, keyword, description, icon) {\n  const ui = ctx.ui.characterCard;\n  return [\n    \"div\",\n    {class: ui.container.class + \" \" + attribs},\n    [\n      \"div\",\n      {class: \"flex flex-grow\"},\n      [\"div\", ui.icon, icon],\n      [\n        \"div\",\n        ui.body,\n        [\"h2\", ui.content.keyword, keyword],\n        [\"p\", ui.content.description, description]\n      ]\n    ]\n  ];\n}\n", "export function cleanUrlQuery() {\n  if (!window.location.search)\n    return;\n  const url = new URL(window.location.toString());\n  const searchParams = new URLSearchParams(url.search);\n  searchParams.delete(\"code\");\n  url.search = searchParams.toString();\n  window.history.pushState({}, \"\", url.toString());\n}\n", "const ensureString = (x) => typeof x === \"string\" ? x : x + \"px\";\n/**\n * Returns shallow copy of `icon` with `width` & `height` attribs set to given\n * value(s). If either is given a number, it will be interpreted as `px`\n * (pixels). If no `height` is given, `width` is used. Additional attribs can be\n * provided via optional `attribs`.\n *\n * @param icon\n * @param width\n * @param height\n */\nconst withSize = (icon, width, height = width, attribs) => [\n    icon[0],\n    Object.assign(Object.assign(Object.assign({}, icon[1]), { width: ensureString(width), height: ensureString(height) }), attribs),\n    ...icon.slice(2),\n];\n\nconst svg = (...body) => [\n    \"svg\",\n    { viewBox: \"0 0 32 32\" },\n    ...body,\n];\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#ADD\n */\n// prettier-ignore\nconst ADD = svg([\"path\", { d: \"M17 15V8h-2v7H8v2h7v7h2v-7h7v-2z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#CHEVRON_LEFT\n */\n// prettier-ignore\nconst CHEVRON_LEFT = svg([\"path\", { d: \"M10 16L20 6l1.4 1.4-8.6 8.6 8.6 8.6L20 26z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#CHEVRON_RIGHT\n */\n// prettier-ignore\nconst CHEVRON_RIGHT = svg([\"path\", { d: \"M22 16L12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#CLOSE\n */\n// prettier-ignore\nconst CLOSE = svg([\"path\", { d: \"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#CODE\n */\n// prettier-ignore\nconst CODE = svg([\"path\", { d: \"M31 16l-7 7-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7zM1 16l7-7 1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7zM12.419 25.484L17.639 6l1.932.518L14.35 26z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#DELETE\n */\n// prettier-ignore\nconst DELETE = svg([\"path\", { d: \"M12 12h2v12h-2zM18 12h2v12h-2z\" }], [\"path\", { d: \"M4 6v2h2v20a2 2 0 002 2h16a2 2 0 002-2V8h2V6zm4 22V8h16v20zM12 2h8v2h-8z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#EDIT\n */\n// prettier-ignore\nconst EDIT = svg([\"path\", { d: \"M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10 3.6 3.6-10 10H6z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#FORUM\n */\n// prettier-ignore\nconst FORUM = svg([\"path\", { d: \"M28 6H8c-1.2 0-2 .8-2 2v14c0 1.2.8 2 2 2h8v-2H8V8h20v14h-7.2L16 28.8l1.6 1.2 4.2-6H28c1.2 0 2-.8 2-2V8c0-1.2-.8-2-2-2z\" }], [\"path\", { d: \"M4 18H2V5c0-1.7 1.3-3 3-3h13v2H5c-.6 0-1 .4-1 1v13z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#INTEGRATION\n */\n// prettier-ignore\nconst INTEGRATION = svg([\"path\", { d: \"M29.88 15.52l-6-11A1 1 0 0023 4H9a1 1 0 00-.88.52l-6 11a1 1 0 000 1l6 11A1 1 0 009 28h14a1 1 0 00.88-.52l6-11a1 1 0 000-.96zM22.93 7l4.39 8h-9.5zM16 14.14L10.82 6h10.36zM9.07 7l5.11 8h-9.5zM4.68 17h9.5l-5.11 8zm11.32.86L21.18 26H10.82zM22.93 25l-5.11-8h9.5z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#MENU\n */\n// prettier-ignore\nconst MENU = svg([\"path\", { d: \"M4 24h24v2H4zM4 12h24v2H4zM4 18h24v2H4zM4 6h24v2H4z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#NOTIFICATION\n */\n// prettier-ignore\nconst NOTIFICATION = svg([\"path\", { d: \"M28.7 20.3L26 17.6V13a10.07 10.07 0 00-9-10V1h-2v2a10.15 10.15 0 00-9 10v4.6l-2.7 2.7a.91.91 0 00-.3.7v3a.94.94 0 001 1h7a5 5 0 0010 0h7a.94.94 0 001-1v-3a.91.91 0 00-.3-.7zM16 28a3 3 0 01-3-3h6a3 3 0 01-3 3zm11-5H5v-1.6l2.7-2.7A.91.91 0 008 18v-5a8 8 0 0116 0v5a.91.91 0 00.3.7l2.7 2.7z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#SEARCH\n */\n// prettier-ignore\nconst SEARCH = svg([\"path\", { d: \"M30 28.59L22.45 21A11 11 0 1021 22.45L28.59 30zM5 14a9 9 0 119 9 9 9 0 01-9-9z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#TOOLS\n */\n// prettier-ignore\nconst TOOLS = svg([\"path\", { d: \"M12.1 2a9.8 9.8 0 00-5.4 1.6l6.4 6.4a2.1 2.1 0 01.2 3 2.1 2.1 0 01-3-.2L3.7 6.4A9.84 9.84 0 002 12.1a10.14 10.14 0 0010.1 10.1 10.9 10.9 0 002.6-.3l6.7 6.7a5 5 0 007.1-7.1l-6.7-6.7a10.9 10.9 0 00.3-2.6A10 10 0 0012.1 2zm8 10.1a7.61 7.61 0 01-.3 2.1l-.3 1.1.8.8 6.7 6.7a2.88 2.88 0 01.9 2.1A2.72 2.72 0 0127 27a2.9 2.9 0 01-4.2 0l-6.7-6.7-.8-.8-1.1.3a7.61 7.61 0 01-2.1.3 8.27 8.27 0 01-5.7-2.3A7.63 7.63 0 014 12.1a8.33 8.33 0 01.3-2.2l4.4 4.4a4.14 4.14 0 005.9.2 4.14 4.14 0 00-.2-5.9L10 4.2a6.45 6.45 0 012-.3 8.27 8.27 0 015.7 2.3 8.49 8.49 0 012.4 5.9z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#USER\n */\n// prettier-ignore\nconst USER = svg([\"path\", { d: \"M16 4a5 5 0 11-5 5 5 5 0 015-5m0-2a7 7 0 107 7 7 7 0 00-7-7zM26 30h-2v-5a5 5 0 00-5-5h-6a5 5 0 00-5 5v5H6v-5a7 7 0 017-7h6a7 7 0 017 7z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#VIEW_OFF\n */\n// prettier-ignore\nconst VIEW_OFF = svg([\"path\", { d: \"M5.24 22.51l1.43-1.42A14.06 14.06 0 013.07 16C5.1 10.93 10.7 7 16 7a12.38 12.38 0 014 .72l1.55-1.56A14.72 14.72 0 0016 5 16.69 16.69 0 001.06 15.66a1 1 0 000 .68 16 16 0 004.18 6.17z\" }], [\"path\", { d: \"M12 15.73a4 4 0 013.7-3.7l1.81-1.82a6 6 0 00-7.33 7.33zM30.94 15.66a16.4 16.4 0 00-5.74-7.44L30 3.41 28.59 2 2 28.59 3.41 30l5.1-5.1A15.29 15.29 0 0016 27a16.69 16.69 0 0014.94-10.66 1 1 0 000-.68zM20 16a4 4 0 01-6 3.44L19.44 14a4 4 0 01.56 2zm-4 9a13.05 13.05 0 01-6-1.58l2.54-2.54a6 6 0 008.35-8.35l2.87-2.87A14.54 14.54 0 0128.93 16C26.9 21.07 21.3 25 16 25z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#VIEW\n */\n// prettier-ignore\nconst VIEW = svg([\"path\", { d: \"M30.94 15.66A16.69 16.69 0 0016 5 16.69 16.69 0 001.06 15.66a1 1 0 000 .68A16.69 16.69 0 0016 27a16.69 16.69 0 0014.94-10.66 1 1 0 000-.68zM16 25c-5.3 0-10.9-3.93-12.93-9C5.1 10.93 10.7 7 16 7s10.9 3.93 12.93 9C26.9 21.07 21.3 25 16 25z\" }], [\"path\", { d: \"M16 10a6 6 0 106 6 6 6 0 00-6-6zm0 10a4 4 0 114-4 4 4 0 01-4 4z\" }]);\n\n/**\n * https://demo.thi.ng/umbrella/hiccup-carbon-icons/#WARNING\n */\n// prettier-ignore\nconst WARNING = svg([\"path\", { d: \"M16 2a14 14 0 1014 14A14 14 0 0016 2zm0 26a12 12 0 1112-12 12 12 0 01-12 12z\" }], [\"path\", { d: \"M15 8h2v11h-2zM16 22a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 22z\" }]);\n\nexport { ADD, CHEVRON_LEFT, CHEVRON_RIGHT, CLOSE, CODE, DELETE, EDIT, FORUM, INTEGRATION, MENU, NOTIFICATION, SEARCH, TOOLS, USER, VIEW, VIEW_OFF, WARNING, withSize };\n", "import {newsletterForm} from \"./newsletter-form.js\";\nimport {characterCard} from \"./character-card.js\";\nimport {cleanUrlQuery} from \"./utils.js\";\nimport {CODE, INTEGRATION, FORUM, TOOLS} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nexport function about(_ctx) {\n  cleanUrlQuery();\n  return [\n    \"div\",\n    [\n      \"div\",\n      {class: \"flex flex-col flex-grow justify-center p-6 md:p-12\"},\n      [\"div\", {class: \"flex items-center\"}],\n      [\n        \"div\",\n        {class: \"text-sm text-gray-600 leading-relaxed\"},\n        [\n          \"「门修斯」是安东尼·吉登斯（Anthony Giddens）社会学代表作之⼀《⺠族-国家与暴⼒》（The Nation-State and Violence, 1985）某中译本⾥对“孟⼦”英译“Mencius”的回译，因错得极富戏剧性⽽⼴为⼈知，后来便成为了⼀个典故式词汇，专⽤来指代⼈名地名作品名等专有名词的错译。\",\n          \"笑笑容易，避免错译却并没有想象中的简单。要做到正确⽆误的翻译，译者除了需要拥有良好的外语及⺟语⽔平之外，也必须对所译作品涉及的领域有着相当程度的熟悉，但在资讯的诞⽣不断加速化、资讯的整合愈发跨⽂化跨领域的今天，想达到这⼀点的⻔槛是越来越⾼。仅凭官⽅发布的专有名词翻译规范⼿册，早已⽆法应对每秒都在不断诞⽣着的层出不穷的各语种专有词汇，⽽⽹络上的各种百科，也⼤多仅仅将重点放在词条对象的属性和相关资讯上，并没有为词条本身的译法留下显⽽易⻅的讨论和修正的空间。在这样的⼀个情况下，专有名词的翻译对于译者、作者的⼯作以及读者的理解和交流来说都造成了不⼩的问题，也导致了不少错译和误读⻓期难以得到修正。\",\n          \"为解决这个问题，我们发起了开源项⽬「⻔修斯⽹」。在这个平台上，⼤家不但可以依据各⾃掌握的客观论据，为各专有名词提出⾃⼰的译法，也可以对他⼈提出的译法给出意⻅和建议。⽽⼤家对某词条提出的各种不同译法，会通过⽤户投票的⽅式排列次序并决定出动态的最优解。⽽后随着⾃定义列表甚⾄是细化到某作品某章节词汇汇总等功能的最终完善，相信本平台不但会对专业译者的⼯作有所帮助，对于编辑、作者等⽂字类⼯作者或读者，甚⾄是外语学习者⽽⾔，也会是⼀个⾮常有参考价值的辅助⼯具。\",\n          \"⽬前，因⼈⼒及⽹站定位所限，本平台涵盖的词条仅涉及⼈名和书影⾳游戏绘画装置概念等各类作品名，未来是否会对涵盖范围进⾏扩充，还将视具体情况⽽定。\",\n          \"同时，本⽹站为⾮盈利性开源⽹站，我们相信众⼈的智慧能够孕育出最令⼈意想不到的美好成果，所以在第⼀阶段仅仅完成了⽹站最基本层⾯功能的架构，更进⼀步的优化以及更多功能的增添和完善，还期待着未来⼤家能够共同探讨携⼿完成。\",\n          \"在这样⼀个全球性反智的⼤⽓候下，就让我们⼀起来做⼀些开放性的、具有⻓远意义的实事，也算是抵抗⼀下荒谬时代的滚滚⻋轮，或是个⼈微不⾜道的焦虑和抑郁吧。\"\n        ].map((content) => [\"p\", {class: \"mb-4\"}, content])\n      ],\n      newsletterForm\n    ],\n    [\n      \"div\",\n      {class: \"bg-gray-100 border-t-2\"},\n      [\n        \"div\",\n        {class: \"flex flex-wrap\"},\n        [\n          [\n            \"sm:border-r sm:border-b\",\n            \"开放的数据\",\n            \"所有的词条以及相关翻译都以开源的形式保存于 GitHub\",\n            CODE\n          ],\n          [\n            \"border-t-2 sm:border-t-0 sm:border-l sm:border-b\",\n            \"便利的工具\",\n            \"应对每时每刻不断诞⽣着的层出不穷的各语种专有词汇\",\n            TOOLS\n          ],\n          [\n            \"border-t-2 sm:border-r sm:border-t\",\n            \"互助的社群\",\n            \"通过⽤户投票的⽅式排列次序并决定出动态的最优翻译\",\n            FORUM\n          ],\n          [\n            \"border-t-2 sm:border-l sm:border-t\",\n            \"大家的探索\",\n            \"相信众⼈的智慧能够孕育出最令⼈意想不到的美好成果\",\n            INTEGRATION\n          ]\n        ].map((content) => [characterCard, ...content])\n      ]\n    ]\n  ];\n}\n", "export function externalLink(_, attribs, uri, body) {\n  return [\"a\", {...attribs, href: uri, target: \"_blank\"}, body];\n}\n", "import {externalLink} from \"./external-link.js\";\nexport function contact(ctx) {\n  return [\n    \"div\",\n    {class: \"flex flex-col p-6 md:p-12\"},\n    [\"p\", ctx.ui.newsletterForm.title, \"Get in touch!\"],\n    [\n      \"p\",\n      [\n        [\"mailto:townb.production@gmail.com\", \"Email\"],\n        [\"https://github.com/noprostudio\", \"GitHub\"]\n      ].map((link) => [externalLink, ctx.ui.contact.link, ...link])\n    ]\n  ];\n}\n", "export function status(ctx) {\n  const [type, msg] = ctx.views.status.deref();\n  return [\"p\", ctx.ui.status[type], msg];\n}\n", "import {\n  ROUTE_TO_ENTRY,\n  SEARCH_ENTRY,\n  ROUTE_TO_SEARCH_ENTRY_PAGE\n} from \"../events.js\";\nimport {status} from \"./status.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {CHEVRON_LEFT, CHEVRON_RIGHT} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nfunction nav(ctx, attribs) {\n  const views = ctx.views;\n  const id = decodeURI(views.route.deref().params.id);\n  const page = +views.route.deref().params.page;\n  const search2 = views.search.deref();\n  return [\n    \"div\",\n    {...attribs},\n    [\n      \"div\",\n      [\n        eventBtn,\n        [ROUTE_TO_SEARCH_ENTRY_PAGE, {id, page: page - 1}],\n        page > 1 ? {\n          class: \"block m-1\"\n        } : {\n          class: \"block m-1 disabled:opacity-50\",\n          disabled: true\n        },\n        [\n          \"div\",\n          {\n            class: \"flex flex-row items-center text-justify\"\n          },\n          [\n            \"div\",\n            {\n              class: \"w-2 object-fill object-center items-baseline m-2 fill-current\"\n            },\n            CHEVRON_LEFT\n          ],\n          \"Prev\"\n        ]\n      ]\n    ],\n    [\n      \"div\",\n      {class: \"pl-2\"},\n      [\n        eventBtn,\n        [ROUTE_TO_SEARCH_ENTRY_PAGE, {id, page: page + 1}],\n        page < Math.ceil(search2.total_count / 30) ? {\n          class: \"block m-1\"\n        } : {\n          class: \"block m-1 disabled:opacity-50\",\n          disabled: true\n        },\n        [\n          \"div\",\n          {\n            class: \"flex flex-row items-center text-justify\"\n          },\n          \"Next\",\n          [\n            \"div\",\n            {\n              class: \"w-2 object-fill object-center items-baseline m-2 fill-current\"\n            },\n            CHEVRON_RIGHT\n          ]\n        ]\n      ]\n    ]\n  ];\n}\nexport function search(ctx) {\n  const views = ctx.views;\n  const bus = ctx.bus;\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  const page = decodeURI(ctx.views.route.deref().params.page);\n  bus.dispatch([SEARCH_ENTRY, {id, page}]);\n  return () => {\n    const id2 = decodeURI(ctx.views.route.deref().params.id);\n    const page2 = +ctx.views.route.deref().params.page;\n    const search2 = views.search.deref();\n    const user = views.user.deref();\n    return [\n      \"div\",\n      status,\n      user.login ? [\n        \"div\",\n        {class: \"p-6\"},\n        [\n          \"h2\",\n          ctx.ui.newsletterForm.title,\n          `Search results for `,\n          [\"span\", {class: \"font-bold\"}, id2]\n        ],\n        [\"hr\"],\n        search2.entries ? [\n          \"div\",\n          {\n            class: \"flex flex-col text-gray-600 font-light\"\n          },\n          [\n            \"div\",\n            {\n              class: \"flex flex-row justify-between my-2 align-middle items-center\"\n            },\n            [\n              \"span\",\n              \"Showing \",\n              search2.total_count > 30 ? [\n                \"span\",\n                [\n                  \"span\",\n                  {\n                    class: \"text-black font-normal\"\n                  },\n                  `${(page2 - 1) * 30 + 1}-${Math.min(page2 * 30, search2.total_count)} `\n                ],\n                \"of \"\n              ] : [\"span\", \"all \"],\n              [\n                \"span\",\n                {class: \"text-black font-normal\"},\n                search2.total_count + \" \"\n              ],\n              \"entries\"\n            ],\n            search2.total_count > 30 ? nav(ctx, {\n              class: \"flex flex-row\"\n            }) : []\n          ],\n          [\n            \"div\",\n            {\n              class: \"flex flex-wrap\"\n            },\n            search2.entries.map((x) => [\n              \"div\",\n              [\n                eventBtn,\n                [ROUTE_TO_ENTRY, x],\n                {\n                  class: \"block m-1\"\n                },\n                [\n                  \"div\",\n                  {\n                    class: \"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\"\n                  },\n                  x\n                ]\n              ]\n            ])\n          ],\n          search2.total_count > 30 ? nav(ctx, {\n            class: \"flex flex-row px-4 justify-center my-4\"\n          }) : []\n        ] : [\n          \"div\",\n          {class: \"md:text-4xl text-xl m-auto p-6\"},\n          \"no available results\"\n        ]\n      ] : [\n        \"div\",\n        {class: \"flex flex-col p-6 md:p-12\"},\n        [\n          \"p\",\n          ctx.ui.newsletterForm.title,\n          \"Please sign in before searching any entries...\"\n        ]\n      ]\n    ];\n  };\n}\n", "import { i as implementsFunction } from './implements-function-c507affc.js';\nimport { i as illegalArity } from './illegal-arity-febf7f58.js';\nimport { N as NO_OP, S as SEMAPHORE } from './constants-8dfd1542.js';\n\nconst isArrayLike = (x) => x != null && typeof x !== \"function\" && x.length !== undefined;\n\nconst isIterable = (x) => x != null && typeof x[Symbol.iterator] === \"function\";\n\nconst ensureTransducer = (x) => implementsFunction(x, \"xform\") ? x.xform() : x;\n\nclass Reduced {\n    constructor(val) {\n        this.value = val;\n    }\n    deref() {\n        return this.value;\n    }\n}\nconst isReduced = (x) => x instanceof Reduced;\nconst ensureReduced = (x) => x instanceof Reduced ? x : new Reduced(x);\nconst unreduced = (x) => (x instanceof Reduced ? x.deref() : x);\n\nconst parseArgs = (args) => args.length === 2\n    ? [undefined, args[1]]\n    : args.length === 3\n        ? [args[1], args[2]]\n        : illegalArity(args.length);\nfunction reduce(...args) {\n    const rfn = args[0];\n    const init = rfn[0];\n    const complete = rfn[1];\n    const reduce = rfn[2];\n    args = parseArgs(args);\n    const acc = args[0] == null ? init() : args[0];\n    const xs = args[1];\n    return unreduced(complete(implementsFunction(xs, \"$reduce\")\n        ? xs.$reduce(reduce, acc)\n        : isArrayLike(xs)\n            ? reduceArray(reduce, acc, xs)\n            : reduceIterable(reduce, acc, xs)));\n}\nconst reduceArray = (rfn, acc, xs) => {\n    for (let i = 0, n = xs.length; i < n; i++) {\n        acc = rfn(acc, xs[i]);\n        if (isReduced(acc)) {\n            acc = acc.deref();\n            break;\n        }\n    }\n    return acc;\n};\nconst reduceIterable = (rfn, acc, xs) => {\n    for (let x of xs) {\n        acc = rfn(acc, x);\n        if (isReduced(acc)) {\n            acc = acc.deref();\n            break;\n        }\n    }\n    return acc;\n};\n/**\n * Convenience helper for building a full {@link Reducer} using the identity\n * function (i.e. `(x) => x`) as completion step (true for 90% of all\n * bundled transducers).\n *\n * @param init - init step of reducer\n * @param rfn - reduction step of reducer\n */\nconst reducer = (init, rfn) => [init, (acc) => acc, rfn];\nconst $$reduce = (rfn, args) => {\n    const n = args.length - 1;\n    return isIterable(args[n])\n        ? args.length > 1\n            ? reduce(rfn.apply(null, args.slice(0, n)), args[n])\n            : reduce(rfn(), args[0])\n        : undefined;\n};\n\nfunction push(xs) {\n    return xs\n        ? [...xs]\n        : reducer(() => [], (acc, x) => (acc.push(x), acc));\n}\n\n/**\n * Takes a transducer and input iterable. Returns iterator of\n * transformed results.\n *\n * @param xform -\n * @param xs -\n */\nfunction* iterator(xform, xs) {\n    const rfn = ensureTransducer(xform)(push());\n    const complete = rfn[1];\n    const reduce = rfn[2];\n    for (let x of xs) {\n        const y = reduce([], x);\n        if (isReduced(y)) {\n            yield* unreduced(complete(y.deref()));\n            return;\n        }\n        if (y.length) {\n            yield* y;\n        }\n    }\n    yield* unreduced(complete([]));\n}\n/**\n * Optimized version of {@link iterator} for transducers which are\n * guaranteed to:\n *\n * 1) Only produce none or a single result per input\n * 2) Do not require a `completion` reduction step\n *\n * @param xform -\n * @param xs -\n */\nfunction* iterator1(xform, xs) {\n    const reduce = (ensureTransducer(xform)([NO_OP, NO_OP, (_, x) => x]))[2];\n    for (let x of xs) {\n        let y = reduce(SEMAPHORE, x);\n        if (isReduced(y)) {\n            y = unreduced(y.deref());\n            if (y !== SEMAPHORE) {\n                yield y;\n            }\n            return;\n        }\n        if (y !== SEMAPHORE) {\n            yield y;\n        }\n    }\n}\n\n/**\n * Reducer composition helper, internally used by various transducers\n * during initialization. Takes existing reducer `rfn` (a 3-tuple) and a\n * reducing function `fn`. Returns a new reducer tuple.\n *\n * @remarks\n * `rfn[2]` reduces values of type `B` into an accumulator of type `A`.\n * `fn` accepts values of type `C` and produces interim results of type\n * `B`, which are then (possibly) passed to the \"inner\" `rfn[2]`\n * function. Therefore the resulting reducer takes inputs of `C` and an\n * accumulator of type `A`.\n *\n * It is assumed that `fn` internally calls `rfn[2]` to pass its own\n * results for further processing by the nested reducer `rfn`.\n *\n * @example\n * ```ts\n * compR(rfn, fn)\n * // [rfn[0], rfn[1], fn]\n * ```\n *\n * @param rfn -\n * @param fn -\n */\nconst compR = (rfn, fn) => [rfn[0], rfn[1], fn];\n\nfunction comp(...fns) {\n    let [a, b, c, d, e, f, g, h, i, j] = fns;\n    switch (fns.length) {\n        case 0:\n            illegalArity(0);\n        case 1:\n            return a;\n        case 2:\n            return (...xs) => a(b(...xs));\n        case 3:\n            return (...xs) => a(b(c(...xs)));\n        case 4:\n            return (...xs) => a(b(c(d(...xs))));\n        case 5:\n            return (...xs) => a(b(c(d(e(...xs)))));\n        case 6:\n            return (...xs) => a(b(c(d(e(f(...xs))))));\n        case 7:\n            return (...xs) => a(b(c(d(e(f(g(...xs)))))));\n        case 8:\n            return (...xs) => a(b(c(d(e(f(g(h(...xs))))))));\n        case 9:\n            return (...xs) => a(b(c(d(e(f(g(h(i(...xs)))))))));\n        case 10:\n        default:\n            const fn = (...xs) => a(b(c(d(e(f(g(h(i(j(...xs))))))))));\n            return fns.length === 10 ? fn : comp(fn, ...fns.slice(10));\n    }\n}\n\nfunction filter(pred, src) {\n    return isIterable(src)\n        ? iterator1(filter(pred), src)\n        : (rfn) => {\n            const r = rfn[2];\n            return compR(rfn, (acc, x) => (pred(x) ? r(acc, x) : acc));\n        };\n}\n\nfunction comp$1(...fns) {\n    fns = fns.map(ensureTransducer);\n    return comp.apply(null, fns);\n}\n\nexport { $$reduce as $, isReduced as a, isIterable as b, comp$1 as c, iterator1 as d, ensureReduced as e, filter as f, compR as g, ensureTransducer as h, iterator as i, reducer as j, reduce as r, unreduced as u };\n", "import { b as isIterable, d as iterator1, g as compR, h as ensureTransducer, r as reduce, $ as $$reduce, j as reducer } from '../common/comp-6cd2ee8b.js';\nexport { c as comp, f as filter, i as iterator } from '../common/comp-6cd2ee8b.js';\nimport { i as illegalArity } from '../common/illegal-arity-febf7f58.js';\nimport '../common/implements-function-c507affc.js';\nimport '../common/constants-8dfd1542.js';\nimport '../common/deferror-480a42fb.js';\n\nfunction map(fn, src) {\n    return isIterable(src)\n        ? iterator1(map(fn), src)\n        : (rfn) => {\n            const r = rfn[2];\n            return compR(rfn, (acc, x) => r(acc, fn(x)));\n        };\n}\n\nfunction transduce(...args) {\n    return $transduce(transduce, reduce, args);\n}\nconst $transduce = (tfn, rfn, args) => {\n    let acc, xs;\n    switch (args.length) {\n        case 4:\n            xs = args[3];\n            acc = args[2];\n            break;\n        case 3:\n            xs = args[2];\n            break;\n        case 2:\n            return map((x) => tfn(args[0], args[1], x));\n        default:\n            illegalArity(args.length);\n    }\n    return rfn(ensureTransducer(args[0])(args[1]), acc, xs);\n};\n\n/**\n * Higher-order reducer for math operations.\n *\n * @param rfn -\n * @param fn -\n * @param initDefault -\n * @param args -\n *\n * @internal\n */\nconst __mathop = (rfn, fn, initDefault, args) => {\n    const res = $$reduce(rfn, args);\n    if (res !== undefined) {\n        return res;\n    }\n    const init = args[0] || initDefault;\n    return reducer(() => init, fn);\n};\n\nfunction add(...args) {\n    return __mathop(add, (acc, x) => acc + x, 0, args);\n}\n\nexport { add, map, transduce };\n", "import { i as iterator, a as isReduced, e as ensureReduced, u as unreduced, c as comp, f as filter } from '../common/comp-6cd2ee8b.js';\nimport { i as illegalArgs } from '../common/illegal-arguments-f9331715.js';\nimport { i as illegalState } from '../common/illegal-state-738ff8f5.js';\nimport '../common/implements-function-c507affc.js';\nimport '../common/illegal-arity-febf7f58.js';\nimport '../common/deferror-480a42fb.js';\nimport '../common/constants-8dfd1542.js';\n\n/**\n * Returns first element of given array or `undefined` if array is empty.\n *\n * @param buf - array\n */\n/**\n * Returns last element of given array or `undefined` if array is empty.\n *\n * @param buf - array\n */\nconst peek = (buf) => buf[buf.length - 1];\n\nvar Match;\n(function (Match) {\n    /**\n     * Partial match\n     */\n    Match[Match[\"PARTIAL\"] = 0] = \"PARTIAL\";\n    /**\n     * Full match\n     */\n    Match[Match[\"FULL\"] = 1] = \"FULL\";\n    /**\n     * Full match (No Consume), i.e. didn't consume last input. The\n     * result will be treated like `FULL`, but the last input will be\n     * processed further.\n     */\n    Match[Match[\"FULL_NC\"] = 2] = \"FULL_NC\";\n    /**\n     * Failed match.\n     */\n    Match[Match[\"FAIL\"] = -1] = \"FAIL\";\n})(Match || (Match = {}));\n// prettier-ignore\nconst RES_PARTIAL = Object.freeze({ type: Match.PARTIAL });\nconst RES_FAIL = Object.freeze({ type: Match.FAIL });\n\nconst result = (body, type = Match.FULL) => ({ type, body });\n\n/**\n * Returns a composed matcher which applies inputs to all given child\n * matchers (`opts`) until either all have failed or one of them returns\n * a full match.\n *\n * @remarks\n * If successful, calls `callback` with the context, the child matcher's\n * result and an array of all processed inputs thus far. The result of\n * `alts` is the result of this callback (else undefined).\n *\n * If none of the matchers succeed the optional `fallback` callback will\n * be executed and given a chance to produce a state transition. It too\n * will be given an array of all processed inputs thus far.\n *\n * Note: Matchers are always processed in reverse order, therefore\n * attention must be paid to the given ordering of supplied matchers.\n *\n * @param opts - child matchers\n * @param fallback - fallback callback\n * @param success - success callback\n * @param fail - failure callback\n */\nconst alts = (opts, fallback, success, fail) => () => {\n    const alts = opts.map((o) => o());\n    const buf = [];\n    let active = alts.length;\n    return (ctx, x) => {\n        for (let i = alts.length, a, next; --i >= 0;) {\n            if (!(a = alts[i]))\n                continue;\n            next = a(ctx, x);\n            if (next.type >= Match.FULL) {\n                return success\n                    ? result(success(ctx, next.body, buf), next.type)\n                    : next;\n            }\n            else if (next.type === Match.FAIL) {\n                alts[i] = null;\n                active--;\n            }\n        }\n        (fallback || fail) && buf.push(x);\n        return active\n            ? RES_PARTIAL\n            : fallback\n                ? result(fallback(ctx, buf))\n                : result(fail && fail(ctx, buf), Match.FAIL);\n    };\n};\n\nconst altsLitObj = (opts, success, fail) => () => (ctx, x) => opts[x]\n    ? result(success && success(ctx, x))\n    : result(fail && fail(ctx, x), Match.FAIL);\n\nfunction fsm(states, ctx, initial = \"start\", update, src) {\n    return src\n        ? iterator(fsm(states, ctx, initial, update), src)\n        : ([init, complete, reduce]) => {\n            let currID = initial;\n            let curr = states[initial]\n                ? states[initial]()\n                : illegalArgs(`invalid initial state: ${initial}`);\n            return [\n                init,\n                complete,\n                (acc, x) => {\n                    update && update(ctx, x);\n                    while (true) {\n                        const { type, body } = curr(ctx, x);\n                        const res = body && body[1];\n                        if (type >= Match.FULL) {\n                            const next = body && states[body[0]];\n                            if (next) {\n                                currID = body[0];\n                                curr = next();\n                            }\n                            else {\n                                illegalState(`unknown tx: ${currID} -> ${body && body[0]}`);\n                            }\n                            if (res) {\n                                acc = reduceResult(reduce, acc, res);\n                                isReduced(res) && (acc = ensureReduced(acc));\n                            }\n                            if (type === Match.FULL_NC && !isReduced(acc)) {\n                                continue;\n                            }\n                        }\n                        else if (type === Match.FAIL) {\n                            if (res) {\n                                acc = reduceResult(reduce, acc, res);\n                            }\n                            return ensureReduced(acc);\n                        }\n                        break;\n                    }\n                    return acc;\n                },\n            ];\n        };\n}\nconst reduceResult = (rfn, acc, res) => {\n    for (let x of unreduced(res)) {\n        acc = rfn(acc, x);\n        if (isReduced(acc)) {\n            break;\n        }\n    }\n    return acc;\n};\n\n/**\n * Takes an existing matcher `match` and returns new matcher which\n * inverts the result of `match`. I.e. If `match` returns `Match.FULL`,\n * the new matcher returns `Match.FAIL` and vice versa. `Match.PARTIAL`\n * results remain as is.\n *\n * @param match - matcher to invert\n * @param success - success callback\n * @param fail - failure callback\n */\nconst not = (match, success, fail) => () => {\n    let m = match();\n    const buf = [];\n    return (ctx, x) => {\n        buf.push(x);\n        const { type } = m(ctx, x);\n        return type === Match.FAIL\n            ? result(success && success(ctx, buf))\n            : type !== Match.PARTIAL\n                ? // TODO Match.FULL_NC handling?\n                    result(fail && fail(ctx, buf), Match.FAIL)\n                : RES_PARTIAL;\n    };\n};\n\n/**\n * Yields iterator of characters [`from`..`to`] (inclusive). Uses\n * reverse ordering if `to` < `from`.\n *\n * @param from -\n * @param to -\n */\nfunction* charRange(from, to) {\n    let i = typeof from === \"string\" ? from.charCodeAt(0) : from;\n    const end = typeof to === \"string\" ? to.charCodeAt(0) : to;\n    if (i <= end) {\n        for (; i <= end; i++) {\n            yield String.fromCharCode(i);\n        }\n    }\n    else {\n        for (; i >= end; i--) {\n            yield String.fromCharCode(i);\n        }\n    }\n}\n\nconst defGroup = (...xs) => {\n    const acc = {};\n    for (let range of xs) {\n        for (let c of range) {\n            acc[c] = true;\n        }\n    }\n    return Object.freeze(acc);\n};\n/**\n * Object with whitespace characters as keys and their values set to\n * true. All others undefined.\n */\nconst WS = Object.freeze({\n    \"\\t\": true,\n    \"\\n\": true,\n    \"\\v\": true,\n    \"\\f\": true,\n    \"\\r\": true,\n    \" \": true,\n});\n/**\n * Object with 0-9 characters as keys and their values set to true. All\n * others undefined.\n */\nconst DIGITS = defGroup(charRange(\"0\", \"9\"));\n/**\n * Object with hex digit characters (upper & lower case versions) as\n * keys and their values set to true. All others undefined.\n */\nconst HEX = defGroup(charRange(\"0\", \"9\"), charRange(\"A\", \"F\"), charRange(\"a\", \"f\"));\n/**\n * Object with ASCII lowercase characters as keys and their values set\n * to true. All others undefined.\n */\nconst LOWER = defGroup(charRange(\"a\", \"z\"));\n/**\n * Object with ASCII uppercase characters as keys and their values set\n * to true. All others undefined.\n */\nconst UPPER = defGroup(charRange(\"A\", \"Z\"));\n/**\n * Combination of {@link UPPER} and {@link LOWER}.\n */\nconst ALPHA = Object.freeze(Object.assign(Object.assign({}, UPPER), LOWER));\n/**\n * Combination of {@link ALPHA} and {@link DIGITS} and '_'.\n */\nconst ALPHA_NUM = Object.freeze(Object.assign(Object.assign(Object.assign({}, ALPHA), DIGITS), { _: true }));\n/**\n * Object with ASCII punctuation characters as keys and their values set\n * to true. All others undefined.\n */\nconst PUNCTUATION = defGroup(charRange(\"!\", \"/\"), charRange(\":\", \"@\"), charRange(\"[\", \"`\"), charRange(\"{\", \"~\"));\n\n/**\n * Matcher for single whitespace characters.\n *\n * @param success - success callback\n * @param fail - failure callback\n */\nconst whitespace = (success, fail) => altsLitObj(WS, success, fail);\n\n/**\n * Takes a matcher and `min` / `max` repeats. Returns new matcher which\n * only returns `Match.FULL` if `match` succeeded at least `min` times\n * or once `max` repetitions have been found.\n *\n * @param match - matcher\n * @param min -min repetitions\n * @param max - max repetitions\n * @param success - success callback\n * @param fail - failure callback\n */\nconst repeat = (match, min, max, success, fail) => () => {\n    let m = match();\n    let i = 0;\n    const buf = [];\n    return (ctx, x) => {\n        buf.push(x);\n        const r = m(ctx, x);\n        if (r.type === Match.FULL) {\n            i++;\n            if (i === max) {\n                return result(success && success(ctx, buf));\n            }\n            m = match();\n            return RES_PARTIAL;\n        }\n        else if (r.type === Match.FAIL) {\n            if (i >= min) {\n                buf.pop();\n                return result(success && success(ctx, buf), Match.FULL_NC);\n            }\n            else {\n                return result(fail && fail(ctx, buf), Match.FAIL);\n            }\n        }\n        return r;\n    };\n};\n\n/**\n * Takes an array of matchers and returns new matcher which applies them\n * in sequence. If any of the given matchers fails, returns\n * `Match.FAIL`.\n *\n * @param matches - child matchers\n * @param success - success callback\n * @param fail - failure callback\n */\nconst seq = (matches, success, fail) => () => {\n    let i = 0;\n    let m = matches[i]();\n    const n = matches.length - 1;\n    const buf = [];\n    return (ctx, x) => {\n        if (i > n)\n            return result(fail && fail(ctx, buf), Match.FAIL);\n        success && buf.push(x);\n        while (i <= n) {\n            const { type } = m(ctx, x);\n            if (type >= Match.FULL) {\n                if (i === n) {\n                    return result(success && success(ctx, buf));\n                }\n                m = matches[++i]();\n                if (type === Match.FULL_NC) {\n                    continue;\n                }\n            }\n            return type === Match.FAIL\n                ? result(fail && fail(ctx, buf), Match.FAIL)\n                : RES_PARTIAL;\n        }\n        return result(fail && fail(ctx, buf), Match.FAIL);\n    };\n};\n\n/**\n * String-only version of {@link seq}. Returns `Match.FULL` once the\n * entire given string could be matched.\n *\n * @remarks\n * Unless `collect` is true (default: false), only matches given string\n * and does not collect input. Therefore then also only passes an empty\n * string to `fail` callback. If `collect` is true, the failed callback\n * will be called with the collected input.\n *\n * @param str - search string\n * @param success - success callback\n * @param fail - failure callback\n * @param collect - true, if input is to be collected/buffered\n */\nconst str = (str, success, fail, collect = false) => collect\n    ? () => {\n        let buf = \"\";\n        return (ctx, x) => (buf += x) === str\n            ? result(success && success(ctx, buf))\n            : str.indexOf(buf) === 0\n                ? RES_PARTIAL\n                : result(fail && fail(ctx, buf), Match.FAIL);\n    }\n    : () => {\n        let matched = 0;\n        let i = 0;\n        return (ctx, x) => {\n            str.charAt(i++) === x && matched++;\n            return matched === str.length\n                ? result(success && success(ctx, str))\n                : matched === i\n                    ? RES_PARTIAL\n                    : result(fail && fail(ctx, \"\"), Match.FAIL);\n        };\n    };\n\n/**\n * String version of {@link until}. Returns a matcher which consumes\n * input until the given string could be matched.\n *\n * @remarks\n * If successful, calls `callback` with string recorded so far\n * (excluding the matched terminator string) and returns `Match.FULL`\n * result. Else `Match.PARTIAL`.\n *\n * @param str - termination string\n * @param callback - result callback\n */\nconst untilStr = (str, callback) => () => {\n    let buf = \"\";\n    return (ctx, x) => {\n        buf += x;\n        return buf.endsWith(str)\n            ? result(callback &&\n                callback(ctx, buf.substr(0, buf.length - str.length)))\n            : RES_PARTIAL;\n    };\n};\n\n/**\n * Parser state IDs\n */\nvar State;\n(function (State) {\n    State[State[\"BLOCKQUOTE\"] = 0] = \"BLOCKQUOTE\";\n    State[State[\"CODE\"] = 1] = \"CODE\";\n    State[State[\"CODEBLOCK\"] = 2] = \"CODEBLOCK\";\n    State[State[\"EMPHASIS\"] = 3] = \"EMPHASIS\";\n    State[State[\"END_BLOCKQUOTE\"] = 4] = \"END_BLOCKQUOTE\";\n    State[State[\"END_LI\"] = 5] = \"END_LI\";\n    State[State[\"END_PARA\"] = 6] = \"END_PARA\";\n    State[State[\"END_HEADING\"] = 7] = \"END_HEADING\";\n    State[State[\"END_TABLE\"] = 8] = \"END_TABLE\";\n    State[State[\"HEADING\"] = 9] = \"HEADING\";\n    State[State[\"IMG\"] = 10] = \"IMG\";\n    State[State[\"LINK\"] = 11] = \"LINK\";\n    State[State[\"LI\"] = 12] = \"LI\";\n    State[State[\"PARA\"] = 13] = \"PARA\";\n    State[State[\"START\"] = 14] = \"START\";\n    State[State[\"START_CODEBLOCK\"] = 15] = \"START_CODEBLOCK\";\n    State[State[\"STRIKE\"] = 16] = \"STRIKE\";\n    State[State[\"STRONG\"] = 17] = \"STRONG\";\n    State[State[\"TABLE\"] = 18] = \"TABLE\";\n})(State || (State = {}));\n/**\n * Default hiccup element factories\n */\nconst DEFAULT_TAGS = {\n    blockquote: (xs) => [\"blockquote\", {}, ...xs],\n    code: (body) => [\"code\", {}, body],\n    codeblock: (lang, body) => [\"pre\", { lang }, body],\n    em: (body) => [\"em\", {}, body],\n    heading: (level, xs) => [level < 7 ? `h${level}` : \"p\", {}, ...xs],\n    hr: () => [\"hr\", {}],\n    img: (src, alt) => [\"img\", { src, alt }],\n    li: (xs) => [\"li\", {}, ...xs],\n    link: (href, body) => [\"a\", { href }, body],\n    list: (type, xs) => [type, {}, ...xs],\n    paragraph: (xs) => [\"p\", {}, ...xs],\n    strong: (body) => [\"strong\", {}, body],\n    strike: (body) => [\"del\", {}, body],\n    table: (rows) => [\"table\", {}, [\"tbody\", {}, ...rows]],\n    td: (_, xs) => [\"td\", {}, ...xs],\n    tr: (_, xs) => [\"tr\", {}, ...xs],\n};\nconst BQUOTE = \">\";\nconst CODE = \"`\";\nconst CODEBLOCK = \"```\";\nconst CODEBLOCK_END = \"\\n```\\n\";\nconst EM = \"_\";\nconst HD = \"#\";\nconst HR = \"-\";\nconst IMG = \"![\";\nconst LI = \"- \";\nconst LINK_LABEL = \"[\";\nconst LINK_LABEL_END = \"]\";\nconst LINK_HREF = \"(\";\nconst LINK_HREF_END = \")\";\nconst NL = \"\\n\";\nconst STRIKE = \"~~\";\nconst STRONG = \"**\";\nconst TD = \"|\";\n// state / context handling helpers\nconst transition = (ctx, id) => ((ctx.children = []), (ctx.body = \"\"), [id]);\nconst push = (id, next) => (ctx) => (ctx.stack.push({ id, children: ctx.children.concat(ctx.body) }),\n    transition(ctx, next));\nconst pop = (result) => (ctx, body) => {\n    const { id, children } = ctx.stack.pop();\n    children.push(result(ctx, body));\n    ctx.children = children;\n    ctx.body = \"\";\n    return [id];\n};\nconst collectChildren = (ctx) => (ctx.children.push(ctx.body), ctx.children);\nconst collect = (id) => (ctx, buf) => ((ctx.body += buf.join(\"\")), [id]);\nconst collectHeading = (tag) => (ctx) => [14 /* START */, [tag(ctx.hd, collectChildren(ctx))]];\nconst collectAndRestart = (tag) => (ctx) => [14 /* START */, [tag(collectChildren(ctx))]];\nconst collectBlockQuote = (ctx) => (ctx.children.push(ctx.body, [\"br\", {}]),\n    (ctx.body = \"\"),\n    [0 /* BLOCKQUOTE */]);\nconst collectCodeBlock = (tag) => (ctx, body) => [14 /* START */, [tag(ctx.lang, body)]];\nconst collectLi = (ctx, tag) => ctx.container.push(tag(collectChildren(ctx)));\nconst collectList = (type, list, item) => (ctx) => (collectLi(ctx, item), [14 /* START */, [list(type, ctx.container)]]);\nconst collectTD = (tag) => (ctx) => (ctx.children.push(ctx.body),\n    ctx.container.push(tag(peek(ctx.stack).container.length, ctx.children)),\n    transition(ctx, 18 /* TABLE */));\nconst collectTR = (tag) => (ctx) => {\n    const rows = peek(ctx.stack).container;\n    rows.push(tag(rows.length, ctx.container));\n    ctx.container = [];\n    return transition(ctx, 8 /* END_TABLE */);\n};\nconst collectTable = (tag) => (ctx) => {\n    const rows = ctx.stack.pop().container;\n    rows.splice(1, 1);\n    return [14 /* START */, [tag(rows)]];\n};\nconst collectInline = (fn) => pop((ctx, body) => fn(ctx.body + body.trim()));\nconst heading = (ctx, body) => ((ctx.hd = body.length), transition(ctx, 9 /* HEADING */));\nconst matchInline = (id) => [\n    str(\"![\", push(id, 10 /* IMG */)),\n    str(LINK_LABEL, push(id, 11 /* LINK */)),\n    str(STRIKE, push(id, 16 /* STRIKE */)),\n    str(STRONG, push(id, 17 /* STRONG */)),\n    str(EM, push(id, 3 /* EMPHASIS */)),\n    str(CODE, push(id, 1 /* CODE */)),\n];\nconst matchLink = (result) => seq([\n    untilStr(LINK_LABEL_END, (ctx, body) => ((ctx.title = body), undefined)),\n    str(LINK_HREF),\n    untilStr(LINK_HREF_END, (ctx, body) => ((ctx.href = body), undefined)),\n], pop((ctx) => result(ctx.href, ctx.title)));\nconst matchPara = (id, next) => alts([\n    ...matchInline(id),\n    str(NL, (ctx) => ((ctx.body += \" \"), [next])),\n], collect(id));\nconst newPara = (ctx, buf) => ((ctx.body = buf.join(\"\")), (ctx.children = []), [13 /* PARA */]);\nconst newParaInline = (next) => (ctx) => (ctx.stack.push({ id: 13 /* PARA */, children: [] }), transition(ctx, next));\nconst newParaCode = (ctx, x) => ((ctx.body = x[1]),\n    ctx.stack.push({ id: 13 /* PARA */, children: [] }),\n    [1 /* CODE */]);\nconst newList = (ctx) => ((ctx.container = []), transition(ctx, 12 /* LI */));\nconst newTable = (ctx) => (ctx.stack.push({ id: 18 /* TABLE */, container: [] }),\n    (ctx.container = []),\n    transition(ctx, 18 /* TABLE */));\n/**\n * Main parser / transducer. Defines state map with the various Markdown\n * syntax matchers and state transition handlers. The returned parser\n * itself is only used in `index.ts`.\n */\nconst parse = (_tags) => {\n    const tags = Object.assign(Object.assign({}, DEFAULT_TAGS), _tags);\n    return comp(filter((x) => x !== \"\\r\"), fsm({\n        [14 /* START */]: alts([\n            whitespace(() => [14 /* START */]),\n            repeat(str(HD), 1, Infinity, heading),\n            str(BQUOTE, (ctx) => transition(ctx, 0 /* BLOCKQUOTE */)),\n            str(LI, newList),\n            alts([\n                seq([str(CODE), not(str(CODE))], newParaCode),\n                str(CODEBLOCK, () => [15 /* START_CODEBLOCK */]),\n            ], undefined, (_, next) => next),\n            seq([repeat(str(HR), 3, Infinity), str(NL)], () => [\n                14 /* START */,\n                [tags.hr()],\n            ]),\n            str(IMG, newParaInline(10 /* IMG */)),\n            str(LINK_LABEL, newParaInline(11 /* LINK */)),\n            str(STRONG, newParaInline(17 /* STRONG */)),\n            str(STRIKE, newParaInline(16 /* STRIKE */)),\n            str(EM, newParaInline(3 /* EMPHASIS */)),\n            str(TD, newTable),\n        ], newPara),\n        [13 /* PARA */]: matchPara(13 /* PARA */, 6 /* END_PARA */),\n        [6 /* END_PARA */]: alts([\n            ...matchInline(13 /* PARA */),\n            str(NL, collectAndRestart(tags.paragraph)),\n        ], collect(13 /* PARA */)),\n        [0 /* BLOCKQUOTE */]: matchPara(0 /* BLOCKQUOTE */, 4 /* END_BLOCKQUOTE */),\n        [4 /* END_BLOCKQUOTE */]: alts([\n            ...matchInline(0 /* BLOCKQUOTE */),\n            str(BQUOTE, collectBlockQuote),\n            str(NL, collectAndRestart(tags.blockquote)),\n        ], collect(0 /* BLOCKQUOTE */)),\n        [9 /* HEADING */]: matchPara(9 /* HEADING */, 7 /* END_HEADING */),\n        [7 /* END_HEADING */]: alts([\n            ...matchInline(9 /* HEADING */),\n            str(NL, collectHeading(tags.heading)),\n        ], collect(9 /* HEADING */)),\n        [15 /* START_CODEBLOCK */]: untilStr(NL, (ctx, lang) => ((ctx.lang = lang), [2 /* CODEBLOCK */])),\n        [2 /* CODEBLOCK */]: untilStr(CODEBLOCK_END, collectCodeBlock(tags.codeblock)),\n        [12 /* LI */]: matchPara(12 /* LI */, 5 /* END_LI */),\n        [5 /* END_LI */]: alts([\n            str(NL, collectList(\"ul\", tags.list, tags.li)),\n            str(LI, (ctx) => (collectLi(ctx, tags.li),\n                transition(ctx, 12 /* LI */))),\n        ], collect(12 /* LI */)),\n        [11 /* LINK */]: matchLink(tags.link),\n        [10 /* IMG */]: matchLink(tags.img),\n        [17 /* STRONG */]: untilStr(STRONG, collectInline(tags.strong)),\n        [16 /* STRIKE */]: untilStr(STRIKE, collectInline(tags.strike)),\n        [3 /* EMPHASIS */]: untilStr(EM, collectInline(tags.em)),\n        [1 /* CODE */]: untilStr(CODE, collectInline(tags.code)),\n        [18 /* TABLE */]: alts([\n            ...matchInline(18 /* TABLE */),\n            str(TD, collectTD(tags.td)),\n            str(NL, collectTR(tags.tr)),\n        ], collect(18 /* TABLE */)),\n        [8 /* END_TABLE */]: alts([\n            str(NL, collectTable(tags.table)),\n            str(TD, () => [18 /* TABLE */]),\n        ]),\n    }, { stack: [] }, 14 /* START */));\n};\n\nexport { parse };\n", "import {iterator} from \"../../_snowpack/pkg/@thi.ng/transducers.js\";\nimport {parse} from \"../../_snowpack/pkg/@thi.ng/hiccup-markdown.js\";\nconst CUSTOM_TAGS = {\n  li: (children) => [\"li.list-disc.ml-4\", ...children],\n  blockquote: (xs) => [\n    \"blockquote.text-purple-600.ml-6.pl-4.border-l-4.border-purple-900\",\n    ...xs\n  ],\n  code: (body) => [\"code.bg-gray-200\", body],\n  codeblock: (lang, body) => [\n    \"pre.whitespace-pre-line.text-xs.bg-purple-100.p-2\",\n    {lang: lang || \"code\"},\n    [\"code\", body]\n  ],\n  link: (href, body) => [\n    \"a.font-bold.text-purple-900.hover:bg-purple-900.hover:text-white.transition.duration-300.ease-in-out\",\n    {href, target: \"_blank\"},\n    body\n  ],\n  strike: (body) => [\"del.line-through.bg-red-200\", body],\n  table: (xs) => [\"table.table-auto\", [\"tbody\", ...xs]],\n  tr: (i, xs) => [i % 2 === 0 ? \"tr\" : \"tr.bg-gray-100\", ...xs],\n  td: (i, xs) => [i < 1 ? \"th.px-4.py-2\" : \"td.border.px-4.py-2\", ...xs]\n};\nexport function parser(src) {\n  return [...iterator(parse(CUSTOM_TAGS), src + \"\\n\\n\")];\n}\n", "import {ActivityType} from \"../api.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {CREATE_VOTE, DELETE_VOTE} from \"../events.js\";\nconst voteSum = (vs, op, type) => vs.filter((x) => x.opinion_github_handle === op.github_handle && x.type === type).length;\nconst upvoteSum = (vs, op) => voteSum(vs, op, ActivityType.UPVOTE);\nconst downvoteSum = (vs, op) => voteSum(vs, op, ActivityType.DOWNVOTE);\nconst myVote = (user, vs, op, type) => vs.filter((x) => x.opinion_github_handle === op.github_handle && x.type === type && x.github_handle === user.login);\nconst myUpvote = (user, vs, op) => myVote(user, vs, op, ActivityType.UPVOTE);\nconst myDownvote = (user, vs, op) => myVote(user, vs, op, ActivityType.DOWNVOTE);\nfunction createBtn(ctx, id, user, opinion, type, attribs, content) {\n  const voteLock = ctx.views.voteLock.deref();\n  return [\n    eventBtn,\n    [\n      CREATE_VOTE,\n      {\n        id,\n        data: {\n          entry_id: id,\n          opinion_github_handle: opinion.github_handle,\n          github_handle: user.login,\n          type\n        }\n      }\n    ],\n    {\n      class: \"block transition ease-in-out duration-700 focus:outline-none disabled:opacity-50\",\n      disabled: voteLock\n    },\n    [\"div\", {...attribs}, content]\n  ];\n}\nfunction deleteBtn(ctx, mv, _opinion, attribs, content) {\n  const voteLock = ctx.views.voteLock.deref();\n  return [\n    eventBtn,\n    [\n      DELETE_VOTE,\n      {\n        id: mv.entry_id,\n        data: mv,\n        voteID: mv.id\n      }\n    ],\n    {\n      class: \"block transition ease-in-out duration-700 focus:outline-none disabled:opacity-50\",\n      disabled: voteLock\n    },\n    [\"div\", {...attribs}, content]\n  ];\n}\nexport function voteZone(ctx, opinion) {\n  const views = ctx.views;\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  const user = views.user.deref();\n  const votes = ctx.views.votes.deref()[id];\n  return [\n    \"div\",\n    votes != void 0 ? [\n      \"div\",\n      {class: \"flex flex-row items-center mt-4 space-x-2\"},\n      myUpvote(user, votes, opinion).length > 0 ? [\n        deleteBtn,\n        myUpvote(user, votes, opinion)[0],\n        opinion,\n        {\n          class: \"hover:bg-transparent bg-purple-300 hover:text-purple-700 text-white font-semibold py-2 px-4 border hover:border-purple-500 border-transparent rounded\"\n        },\n        \"👍 \" + upvoteSum(votes, opinion)\n      ] : [\n        createBtn,\n        id,\n        user,\n        opinion,\n        ActivityType.UPVOTE,\n        {\n          class: \"bg-transparent hover:bg-purple-300 text-purple-700 font-semibold hover:text-white py-2 px-4 border border-purple-500 hover:border-transparent rounded\"\n        },\n        \"👍 \" + upvoteSum(votes, opinion)\n      ],\n      myDownvote(user, votes, opinion).length > 0 ? [\n        deleteBtn,\n        myDownvote(user, votes, opinion)[0],\n        opinion,\n        {\n          class: \"hover:bg-transparent bg-purple-300 hover:text-purple-700 text-white font-semibold py-2 px-4 border hover:border-purple-500 border-transparent rounded\"\n        },\n        \"👎 \" + downvoteSum(votes, opinion)\n      ] : [\n        createBtn,\n        id,\n        user,\n        opinion,\n        ActivityType.DOWNVOTE,\n        {\n          class: \"bg-transparent hover:bg-purple-300 text-purple-700 font-semibold hover:text-white py-2 px-4 border border-purple-500 hover:border-transparent rounded focus:outline-none\"\n        },\n        \"👎 \" + downvoteSum(votes, opinion)\n      ]\n    ] : []\n  ];\n}\n", "const option = ([value, label, disabled], sel) => [\n    \"option\",\n    { value, disabled: !!disabled, selected: value === sel },\n    label,\n];\nconst dropdown = (_, attribs, options, sel) => [\"select\", attribs, ...options.map((o) => option(o, sel))];\n\nexport { dropdown };\n", "import {eventBtn} from \"./event-btn.js\";\nimport {\n  DELETE_OPINION,\n  EDIT_OPINION,\n  TOGGLE_DELETE_OPINION,\n  CLOSE_DELETE_OPINION,\n  CLOSE_REPORT,\n  SET_REPORT,\n  SET_OPINION_REPORT,\n  CREATE_REPORT\n} from \"../events.js\";\nimport {parser} from \"./markdown-parser.js\";\nimport {voteZone} from \"./vote-zone.js\";\nimport {withSize, EDIT, DELETE, WARNING} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nimport {dropdown} from \"../../_snowpack/pkg/@thi.ng/hdom-components.js\";\nfunction modalFrame(_ctx, content, cancelBtn) {\n  return [\n    \"div\",\n    {class: \"fixed inset-0 flex items-center justify-center z-30\"},\n    [\n      \"div\",\n      {\n        class: \"fixed flex flex-col items-center justify-between mt-2 pt-2 lg:w-1/3 md:w-1/2 w-3/4 bg-white rounded-lg shadow-xl z-40\"\n      },\n      content\n    ],\n    cancelBtn\n  ];\n}\nfunction modal(_ctx, content, cancelBtn) {\n  return [modalFrame, content, cancelBtn];\n}\nfunction deleteModal(ctx, opinion) {\n  const views = ctx.views;\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  const user = views.user.deref();\n  return [\n    modal,\n    [\n      [\n        \"div\",\n        {\n          class: \"block font-medium text-gray-800 text-lg p-4 border-b border-b-2 w-full\"\n        },\n        [\"div\", {class: \"mb-2\"}, \"Delete opinion\"],\n        [\n          \"div\",\n          {\n            class: \"text-sm text-gray-500\"\n          },\n          \"Are you sure you want to delete your opinion? This action cannot be undone.\"\n        ]\n      ],\n      [\n        \"div\",\n        {\n          class: \"flex flex-row self-end m-2\"\n        },\n        [\n          eventBtn,\n          [CLOSE_DELETE_OPINION],\n          {\n            class: \"block px-4 py-2 text-black text-left font-medium\"\n          },\n          \"CANCEL\"\n        ],\n        [\n          eventBtn,\n          [\n            DELETE_OPINION,\n            {\n              id,\n              data: opinion,\n              userName: user.login\n            }\n          ],\n          {\n            class: \"block px-4 py-2 text-white text-left bg-red-600 rounded-lg font-medium hover:bg-red-500 transition ease-in-out duration-150\"\n          },\n          \"DELETE\"\n        ]\n      ]\n    ],\n    [\n      eventBtn,\n      [CLOSE_DELETE_OPINION],\n      {\n        tabindex: \"-1\",\n        class: \"fixed inset-0 h-full w-full cursor-default bg-black bg-opacity-50 z-20\"\n      }\n    ]\n  ];\n}\nfunction reportModal(ctx) {\n  const bus = ctx.bus;\n  const report = ctx.views.report.deref();\n  return [\n    modal,\n    [\n      [\n        \"div\",\n        {\n          class: \"block font-medium text-gray-800 text-lg p-4 border-b border-b-2 w-full\"\n        },\n        [\"div\", {class: \"mb-2\"}, \"Report opinion\"],\n        [\n          dropdown,\n          {\n            class: \"shadow-inner appearance-none border rounded w-full py-2 px-3 bg-gray-200 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:bg-white\",\n            onchange: (e) => bus.dispatch([\n              SET_REPORT,\n              {\n                key: \"reason\",\n                value: e.target.value\n              }\n            ])\n          },\n          LANG_OPTS,\n          report.reason\n        ]\n      ],\n      [\n        \"div\",\n        {\n          class: \"flex flex-row self-end m-2\"\n        },\n        [\n          eventBtn,\n          [CLOSE_REPORT],\n          {\n            class: \"block px-4 py-2 text-black text-left font-medium\"\n          },\n          \"CANCEL\"\n        ],\n        [\n          eventBtn,\n          [CREATE_REPORT, {data: report}],\n          {\n            class: \"block px-4 py-2 text-black text-left font-medium disabled:opacity-50 transition ease-in-out duration-300\",\n            disabled: report.reason ? false : true\n          },\n          \"REPORT\"\n        ]\n      ]\n    ],\n    [\n      eventBtn,\n      [CLOSE_REPORT],\n      {\n        tabindex: \"-1\",\n        class: \"fixed inset-0 h-full w-full cursor-default bg-black bg-opacity-50\"\n      }\n    ]\n  ];\n}\nconst LANG_OPTS = [\n  [\"\", \"Select reason...\"],\n  [\n    \"Unwanted commercial content or spam\",\n    \"Unwanted commercial content or spam\"\n  ],\n  [\n    \"Pornography or sexually explicit material\",\n    \"Pornography or sexually explicit material\"\n  ],\n  [\"Child abuse\", \"Child abuse\"],\n  [\"Hate speech or graphic violence\", \"Hate speech or graphic violence\"],\n  [\"Harassment or bullying\", \"Harassment or bullying\"]\n];\nexport function opinionCard(ctx, opinion) {\n  const views = ctx.views;\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  const user = views.user.deref();\n  const deleteOpinionOpen = ctx.views.deleteOpinionOpen.deref();\n  const reportOpen = ctx.views.reportOpen.deref();\n  return [\n    \"div\",\n    {\n      class: \"flex flex-col px-4 md:px-12 py-10 w-full border-t-2 border-gray-200\"\n    },\n    [\n      \"div\",\n      {class: \"flex flex-col ml-4 md:ml-6\"},\n      [\n        \"div\",\n        {class: \"my-3 flex flex-row justify-between items-center\"},\n        [\n          \"div\",\n          {class: \"flex flex-row justify-start items-center\"},\n          [\n            \"img\",\n            {\n              class: \"h-8 w-8 md:h-10 md:w-10 rounded-full\",\n              src: opinion.user_avatar_url ? opinion.user_avatar_url : \"https://subjpop.com/images/sidebar-logo.png\"\n            }\n          ],\n          [\n            \"div\",\n            {class: \"ml-3 flex flex-col\"},\n            [\n              \"div\",\n              {class: \"font-semibold\"},\n              opinion.user_name ? opinion.user_name : opinion.github_handle\n            ],\n            [\n              \"div\",\n              {class: \"text-gray-700 text-sm\"},\n              `@${opinion.github_handle.toLowerCase()}`\n            ]\n          ]\n        ],\n        user.login == opinion.github_handle ? [\n          \"div\",\n          {class: \"flex flex-row items-top text-gray-500\"},\n          [\n            eventBtn,\n            [\n              EDIT_OPINION,\n              {\n                id,\n                data: {\n                  ...opinion,\n                  ...{\n                    user_avatar_url: user.avatar_url,\n                    user_name: user.name\n                  }\n                }\n              }\n            ],\n            {\n              class: \"ml-2 focus:outline-none hover:text-gray-700 p-2\"\n            },\n            [\n              \"div\",\n              {class: \"flex flex-row\"},\n              [\n                \"div\",\n                {\n                  class: \"inline-block w-full fill-current pr-2\"\n                },\n                withSize(EDIT, \"20\")\n              ],\n              [\"div\", \"edit\"]\n            ]\n          ],\n          [\n            eventBtn,\n            [TOGGLE_DELETE_OPINION],\n            {\n              class: \"focus:outline-none hover:text-gray-700 fill-current p-2\"\n            },\n            [\n              \"div\",\n              {class: \"flex flex-row\"},\n              [\n                \"div\",\n                {class: \"pr-2\"},\n                withSize(DELETE, \"20\")\n              ],\n              [\"div\", \"delete\"]\n            ]\n          ],\n          deleteOpinionOpen ? [deleteModal, opinion] : []\n        ] : [\n          \"div\",\n          {class: \"flex flex-row items-top text-gray-500\"},\n          [\n            eventBtn,\n            [\n              SET_OPINION_REPORT,\n              opinion,\n              window.location.origin + window.location.pathname + `#/entry/${decodeURI(ctx.views.route.deref().params.id)}`\n            ],\n            {\n              class: \"ml-2 focus:outline-none hover:text-gray-700 p-2\"\n            },\n            [\n              \"div\",\n              {class: \"flex flex-row\"},\n              [\n                \"div\",\n                {\n                  class: \"inline-block w-full fill-current pr-2\"\n                },\n                withSize(WARNING, \"20\")\n              ],\n              [\"div\", \"report\"]\n            ]\n          ],\n          reportOpen ? [reportModal] : []\n        ]\n      ],\n      [\n        \"div\",\n        {class: \"leading-relaxed flex flex-col\"},\n        [\n          \"h2\",\n          {class: \"font-bold text-gray-800 text-xl md:text-2xl\"},\n          opinion.translation\n        ],\n        [\n          \"div\",\n          {\n            class: \"text-gray-700 mt-1 text-sm md:text-base break-all sm:break-words\"\n          },\n          parser(opinion.details)\n        ]\n      ],\n      [voteZone, opinion]\n    ]\n  ];\n}\n", "import {SET_OPINION} from \"../events.js\";\nfunction row(_ctx, title, description, attribs, tag) {\n  return [\n    \"div\",\n    {class: \"block font-medium text-gray-800 text-lg mb-2\"},\n    [\n      \"div\",\n      {class: \"flex flex-col\"},\n      title,\n      description ? [\"div\", {class: \"text-xs text-gray-500\"}, description] : []\n    ],\n    [\n      tag,\n      {\n        ...attribs,\n        class: \"shadow-inner appearance-none border rounded w-full py-2 px-3 bg-gray-200 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:bg-white\"\n      }\n    ]\n  ];\n}\nfunction inputRow(ctx, title, description, attribs) {\n  return row(ctx, title, description, attribs, \"input\");\n}\nfunction textareaRow(ctx, title, description, attribs) {\n  return row(ctx, title, description, attribs, \"textarea\");\n}\nexport function opinionInputRow(ctx, title, description, key, id, attribs) {\n  const bus = ctx.bus;\n  const cb = (e) => bus.dispatch([\n    SET_OPINION,\n    {\n      id,\n      key,\n      value: e.target.value\n    }\n  ]);\n  return inputRow(ctx, title, description, {...attribs, oninput: cb});\n}\nexport function opinionTextareaRow(ctx, title, description, key, id, attribs) {\n  const bus = ctx.bus;\n  const cb = (e) => bus.dispatch([\n    SET_OPINION,\n    {\n      id,\n      key,\n      value: e.target.value\n    }\n  ]);\n  return textareaRow(ctx, title, description, {...attribs, oninput: cb});\n}\nexport function entryInputRow(ctx, title, description, key, setEvent, attribs) {\n  const bus = ctx.bus;\n  const cb = (e) => {\n    bus.dispatch([\n      setEvent,\n      {key, value: e.target.value}\n    ]);\n    key === \"name\" ? bus.dispatch([\n      setEvent,\n      {\n        key: \"id\",\n        value: e.target.value.toLowerCase()\n      }\n    ]) : null;\n  };\n  return inputRow(ctx, title, description, {...attribs, oninput: cb});\n}\n", "import {\n  SET_OPINION_TEMPLATE,\n  CREATE_OPINION,\n  CANCEL_EDIT_OPINION,\n  UPDATE_OPINION\n} from \"../events.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {opinionInputRow, opinionTextareaRow} from \"./input-row.js\";\nimport {parser} from \"./markdown-parser.js\";\nconst isEmpty = (x) => Object.keys(x).length === 0;\nexport function opinionInput(ctx) {\n  const bus = ctx.bus;\n  const views = ctx.views;\n  const user = views.user.deref();\n  const id = decodeURI(views.route.deref().params.id);\n  const opinions = views.opinions.deref();\n  const tempOpinion = views.tempOpinion.deref();\n  if (!opinions[id]) {\n    const data = {\n      github_handle: user.login,\n      user_avatar_url: user.avatar_url,\n      user_bio: user.bio,\n      user_name: user.name,\n      translation: \"\",\n      details: \"\"\n    };\n    bus.dispatch([SET_OPINION_TEMPLATE, {id, data}]);\n  }\n  return () => {\n    const opinion = views.opinions.deref()[id];\n    return opinion ? [\n      \"div\",\n      {\n        class: \"flex flex-col px-4 md:px-12 py-10 w-full border-t-2 border-gray-200\"\n      },\n      [\n        \"div\",\n        {class: \"flex flex-col ml-4 md:ml-6\"},\n        [\n          \"div\",\n          {\n            class: \"my-3 flex flex-row justify-start items-center\"\n          },\n          [\n            \"img\",\n            {\n              class: \"h-8 w-8 md:h-10 md:w-10 rounded-full\",\n              src: user.avatar_url\n            }\n          ],\n          [\n            \"div\",\n            {class: \"ml-3 flex flex-col\"},\n            [\n              \"div\",\n              {class: \"font-semibold\"},\n              user.name ? user.name : user.login\n            ],\n            [\n              \"div\",\n              {class: \"text-gray-700 text-sm\"},\n              `@${user.login.toLowerCase()}`\n            ]\n          ]\n        ],\n        [\n          \"div\",\n          {class: \"leading-relaxed flex flex-col\"},\n          opinionInputRow(ctx, \"翻译:\", \"\", \"translation\", id, {\n            value: opinion.translation,\n            placeholder: id\n          }),\n          opinionTextareaRow(ctx, \"论据:\", \"\", \"details\", id, {\n            value: opinion.details,\n            placeholder: \"* Markdown supported\",\n            rows: \"5\"\n          }),\n          [\n            \"div\",\n            {class: \"leading-relaxed\"},\n            [\"div\", \"preview:\"],\n            [\n              \"div\",\n              {\n                class: \"leading-relaxed text-gray-700 mt-1 text-sm md:text-base break-all sm:break-words\"\n              },\n              parser(views.opinions.deref()[id].details)\n            ]\n          ],\n          [\n            eventBtn,\n            isEmpty(tempOpinion) ? [\n              CREATE_OPINION,\n              {id, data: opinion}\n            ] : [\n              UPDATE_OPINION,\n              {id, data: opinion}\n            ],\n            opinion.translation ? {\n              class: \"block mt-4 transition ease-in-out duration-700\"\n            } : {\n              class: \"block mt-4 transition ease-in-out duration-700 disabled:opacity-50\",\n              disabled: true\n            },\n            [\n              \"div\",\n              {\n                class: \"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\"\n              },\n              isEmpty(tempOpinion) ? \"CREATE\" : \"UPDATE\"\n            ]\n          ],\n          isEmpty(tempOpinion) ? [] : [\n            eventBtn,\n            [\n              CANCEL_EDIT_OPINION,\n              {\n                id,\n                data: tempOpinion\n              }\n            ],\n            {class: \"block mt-4\"},\n            [\n              \"div\",\n              {\n                class: \"shadow bg-gray-500 hover:bg-gray-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\"\n              },\n              \"CANCEL\"\n            ]\n          ]\n        ]\n      ]\n    ] : [];\n  };\n}\n", "export function eventLink(ctx, event, attribs, body) {\n  return [\n    \"a\",\n    {\n      ...attribs,\n      onclick: (e) => {\n        e.preventDefault();\n        ctx.bus.dispatch(event);\n      }\n    },\n    body\n  ];\n}\n", "import {eventLink} from \"./event-link.js\";\nimport {ROUTE_TO_SEARCH_ENTRY_PAGE} from \"../events.js\";\nfunction tag(_, x) {\n  return [\n    \"div\",\n    {class: \"cursor-pointer\"},\n    [\n      eventLink,\n      [ROUTE_TO_SEARCH_ENTRY_PAGE, {id: x, page: 1}],\n      {},\n      [\n        \"span\",\n        {\n          class: \" py-2, bg-purple-200 text-sm sm:text-base text-gray-700 subpixel-antialiased px-1 rounded mr-2\"\n        },\n        `# ${x}`\n      ]\n    ]\n  ];\n}\nexport function metadata(_ctx, entry) {\n  return [\n    \"div\",\n    {class: \"flex flex-col justify-center px-4 md:px-12 pb-10\"},\n    [\n      \"div\",\n      {class: \"ml-4 md:ml-6\"},\n      [\n        \"h3\",\n        {\n          class: \"sm:font-light text-xl sm:text-2xl md:text-3xl text-gray-900 mt-2\"\n        },\n        [\"span\", entry.name]\n      ],\n      [\n        \"div\",\n        {class: \"flex flex-wrap\"},\n        [\n          entry.alias,\n          entry.author,\n          entry.category,\n          entry.date,\n          entry.group,\n          entry.language,\n          entry.romanization,\n          entry.album\n        ].map((x) => x ? [tag, x] : [])\n      ],\n      entry.wikipedia?.pageid ? wikipedia(entry) : []\n    ]\n  ];\n}\nfunction wikipedia(entry) {\n  return [\n    \"div\",\n    {\n      class: \" sm:text-xl text-gray-600 mt-3 leading-relaxed\"\n    },\n    [\"p\", {class: \"font-light text-base\"}, entry.wikipedia?.extract],\n    [\n      \"div\",\n      {\n        class: \"pt-2 mt-auto text-lg font-medium inline-flex items-center text-purple-600 hover:text-purple-800\"\n      },\n      [\n        \"a\",\n        {\n          href: `https://${entry.language}.wikipedia.org/?curid=${entry.wikipedia?.pageid}`,\n          target: \"_blank\"\n        },\n        \"Surf the Wikipedia 🌊\"\n      ]\n    ]\n  ];\n}\n", "import {eventBtn} from \"./event-btn.js\";\nimport {\n  ROUTE_TO_EDIT_ENTRY,\n  CREATE_NOTIFICATION,\n  DELETE_NOTIFICATION\n} from \"../events.js\";\nimport {withSize, EDIT, VIEW, VIEW_OFF} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nexport function entryHeader(ctx, entry) {\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  const user = ctx.views.user.deref();\n  const notifications = ctx.views.notifications.deref()[id];\n  const myNotification = notifications ? notifications.filter((x) => x.github_handle === user.login) : null;\n  return [\n    \"div\",\n    {class: \"ml-4 md:ml-6 px-4 md:px-12\"},\n    [\n      \"div\",\n      {\n        class: \"flex flex-col md:flex-row md:justify-between space-y-2\"\n      },\n      [\n        \"div\",\n        {\n          class: \"item-center content-center md:self-center align-center space-x-1 font-semibold text-lg\"\n        },\n        [\"span\", \"entry\"],\n        [\"span\", \"/\"],\n        [\"span\", entry.id]\n      ],\n      [\n        \"div\",\n        {class: \"flex flex-row space-x-2\"},\n        [\n          \"div\",\n          {class: \"flex flex-row\"},\n          myNotification && myNotification[0] && myNotification[0].entry_id ? [\n            \"div\",\n            {class: \"flex flex-row\"},\n            [\n              eventBtn,\n              [\n                DELETE_NOTIFICATION,\n                {\n                  id,\n                  data: myNotification[0]\n                }\n              ],\n              {\n                class: \"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded-l focus:outline-none\"\n              },\n              [\n                \"div\",\n                {class: \"flex flex-row\"},\n                [\n                  \"div\",\n                  {\n                    class: \"inline-block w-full fill-current pr-2 self-center\"\n                  },\n                  withSize(VIEW_OFF, \"20\")\n                ],\n                [\"div\", \"unwatch\"]\n              ]\n            ]\n          ] : [\n            \"div\",\n            {class: \"flex flex-row\"},\n            [\n              eventBtn,\n              [\n                CREATE_NOTIFICATION,\n                {\n                  id,\n                  data: {github_handle: user.login}\n                }\n              ],\n              {\n                class: \"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded-l focus:outline-none\"\n              },\n              [\n                \"div\",\n                {class: \"flex flex-row\"},\n                [\n                  \"div\",\n                  {\n                    class: \"inline-block w-full fill-current pr-2 self-center\"\n                  },\n                  withSize(VIEW, \"20\")\n                ],\n                [\"div\", \"watch\"]\n              ]\n            ]\n          ],\n          [\n            \"div\",\n            {\n              class: \"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded-r focus:outline-none cursor-default\"\n            },\n            notifications ? notifications.length : null\n          ]\n        ],\n        [\n          eventBtn,\n          [ROUTE_TO_EDIT_ENTRY, id],\n          {\n            class: \"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded focus:outline-none\"\n          },\n          [\n            \"div\",\n            {class: \"flex flex-row\"},\n            [\n              \"div\",\n              {\n                class: \"inline-block w-full fill-current pr-2\"\n              },\n              withSize(EDIT, \"20\")\n            ],\n            [\"div\", \"edit\"]\n          ]\n        ]\n      ]\n    ]\n  ];\n}\n", "import {StatusType, ActivityType} from \"../api.js\";\nimport {\n  GET_ENTRY_W_ACTIVITY,\n  SET_STATUS,\n  ROUTE_TO_NEW_ENTRY\n} from \"../events.js\";\nimport {opinionCard} from \"./opinion-card.js\";\nimport {opinionInput} from \"./opinion-input.js\";\nimport {metadata} from \"./metadata.js\";\nimport {status} from \"./status.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {entryHeader} from \"./entry-header.js\";\nimport {transduce, comp, map, add, filter} from \"../../_snowpack/pkg/@thi.ng/transducers.js\";\nconst getVoteSum = (ogh, votes) => transduce(comp(filter((x) => x.opinion_github_handle === ogh), map((x) => x.type === ActivityType.UPVOTE ? 1 : -1)), add(0), votes);\nexport function entryDetail(ctx) {\n  const views = ctx.views;\n  const bus = ctx.bus;\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  bus.dispatch(views.entries.deref()[id] ? [SET_STATUS, [StatusType.SUCCESS, \"loaded from cache\", true]] : [GET_ENTRY_W_ACTIVITY, id]);\n  return () => {\n    const id2 = decodeURI(views.route.deref().params.id);\n    const entry = views.entries.deref()[id2];\n    const votes = views.votes.deref()[id2];\n    const sortByVotes = (a, b) => getVoteSum(b.github_handle, votes) - getVoteSum(a.github_handle, votes);\n    const user = views.user.deref();\n    return [\n      \"div\",\n      status,\n      entry && entry.id && votes ? [\n        \"div\",\n        {class: \"flex flex-col\"},\n        [entryHeader, entry],\n        [metadata, entry],\n        entry.opinions.sort(sortByVotes).map((x) => [opinionCard, x]),\n        user.login && entry.opinions.map((x) => x.github_handle.toLowerCase()).indexOf(user.login.toLowerCase()) < 0 ? opinionInput : []\n      ] : [\n        \"div\",\n        [\n          \"div\",\n          {class: \"text-4xl m-auto p-6\"},\n          \"no available data...\"\n        ],\n        [\n          \"div\",\n          {class: \"flex flex-row items-top text-gray-500\"},\n          [\n            eventBtn,\n            [ROUTE_TO_NEW_ENTRY, id2],\n            {\n              class: \"block m-4 w-full\"\n            },\n            [\n              \"div\",\n              {\n                class: \"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\"\n              },\n              \"CREATE\"\n            ]\n          ]\n        ]\n      ]\n    ];\n  };\n}\n", "import {entryInputRow} from \"./input-row.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {dropdown} from \"../../_snowpack/pkg/@thi.ng/hdom-components.js\";\nconst LANG_OPTS = [\n  [\"en\", \"英语\"],\n  [\"jp\", \"日语\"],\n  [\"ko\", \"韩语\"],\n  [\"fr\", \"法语\"],\n  [\"de\", \"德语\"]\n];\nexport function entryInputForm(ctx, entryType, setEvent, wikiEvent, mainEvent) {\n  const views = ctx.views;\n  const bus = ctx.bus;\n  return () => {\n    const entry = views[entryType].deref();\n    return [\n      \"div\",\n      {class: \"flex flex-col p-6 md:p-12\"},\n      [\n        \"h2\",\n        ctx.ui.newsletterForm.title,\n        entryType === \"newEntry\" ? \"Add new entry\" : \"Edit entry\"\n      ],\n      entryInputRow(ctx, \"原文\", \"\", \"name\", setEvent, {\n        value: entry.name,\n        placeholder: \"Mencius\",\n        disabled: entryType !== \"newEntry\"\n      }),\n      [\n        \"div\",\n        {\n          class: \"block font-medium text-gray-800 text-lg mb-2\"\n        },\n        \"语言\",\n        [\n          dropdown,\n          {\n            class: \"shadow-inner appearance-none border rounded w-full py-2 px-3 bg-gray-200 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:bg-white\",\n            onchange: (e) => bus.dispatch([\n              setEvent,\n              {\n                key: \"language\",\n                value: e.target.value\n              }\n            ])\n          },\n          LANG_OPTS,\n          entry.language\n        ]\n      ],\n      entryInputRow(ctx, \"亦名\", \"\", \"alias\", setEvent, {\n        value: entry.alias,\n        placeholder: \"Mengzi\"\n      }),\n      entryInputRow(ctx, \"罗马化转写\", \"\", \"romanization\", setEvent, {\n        value: entry.romanization,\n        placeholder: \"Mengzi\"\n      }),\n      entryInputRow(ctx, \"作品年份\", \"\", \"date\", setEvent, {\n        value: entry.date,\n        placeholder: \"372-289 BC\"\n      }),\n      entryInputRow(ctx, \"属性\", \"如：乐人、影人、专辑、歌曲、著作、影片、哲学家……\", \"category\", setEvent, {\n        value: entry.category,\n        placeholder: \"哲学家\"\n      }),\n      entryInputRow(ctx, \"团体\", \"当“原文“为个人且该人从属于某团体时\", \"group\", setEvent, {\n        value: entry.group\n      }),\n      entryInputRow(ctx, \"作者\", \"当“原文“为某件创作作品时\", \"author\", setEvent, {\n        value: entry.author\n      }),\n      entryInputRow(ctx, \"专辑\", \"当“原文“为收录在某张专辑中的歌曲时\", \"album\", setEvent, {\n        value: entry.album\n      }),\n      entry.wikipedia ? [\n        \"div\",\n        [\n          \"div\",\n          {\n            class: \"block font-medium text-gray-800 text-lg mb-2\"\n          },\n          \"维基\"\n        ],\n        [\n          \"div\",\n          {\n            class: \"block font-light text-base text-gray-600\"\n          },\n          entry.wikipedia.extract\n        ]\n      ] : [],\n      [\n        eventBtn,\n        [\n          wikiEvent,\n          {\n            titles: entry.name,\n            language: entry.language\n          }\n        ],\n        entry.name && entry.language ? {\n          class: \"block mt-4 transition ease-in-out duration-700\"\n        } : {\n          class: \"block mt-4 transition ease-in-out duration-700 disabled:opacity-50\",\n          disabled: true\n        },\n        [\n          \"div\",\n          {\n            class: \"shadow bg-gray-500 hover:bg-gray-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\"\n          },\n          \"RETRIEVE FROM WIKIPEDIA\"\n        ]\n      ],\n      [\n        eventBtn,\n        [mainEvent, {id: entry.id, data: entry}],\n        entry.name ? {\n          class: \"block mt-4 transition ease-in-out duration-700\"\n        } : {\n          class: \"block mt-4 transition ease-in-out duration-700 disabled:opacity-50\",\n          disabled: true\n        },\n        [\n          \"div\",\n          {\n            class: \"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded\"\n          },\n          \"SUBMIT\"\n        ]\n      ]\n    ];\n  };\n}\n", "import {status} from \"./status.js\";\nimport {\n  SET_NEW_ENTRY_TEMPLATE,\n  SET_NEW_ENTRY,\n  CREATE_ENTRY,\n  GET_WIKI_NEW\n} from \"../events.js\";\nimport {entryInputForm} from \"./entry-input-form.js\";\nexport function newEntry(ctx) {\n  const views = ctx.views;\n  const bus = ctx.bus;\n  const id = decodeURI(views.route.deref().params.id);\n  const newEntry2 = views.newEntry.deref();\n  const data = id === \"null\" || id === \"\" ? newEntry2 : {...newEntry2, ...{id, name: id}};\n  bus.dispatch([SET_NEW_ENTRY_TEMPLATE, {data}]);\n  return () => {\n    const user = views.user.deref();\n    return [\n      \"div\",\n      status,\n      user.login ? [\n        entryInputForm,\n        \"newEntry\",\n        SET_NEW_ENTRY,\n        GET_WIKI_NEW,\n        CREATE_ENTRY\n      ] : [\n        \"div\",\n        {class: \"flex flex-col p-6 md:p-12\"},\n        [\n          \"p\",\n          ctx.ui.newsletterForm.title,\n          \"Please sign in before adding new entry...\"\n        ]\n      ]\n    ];\n  };\n}\n", "import {status} from \"./status.js\";\nimport {\n  ROUTE_TO_ENTRY,\n  SET_TEMP_ENTRY_TEMPLATE,\n  SET_TEMP_ENTRY,\n  UPDATE_ENTRY,\n  GET_WIKI_TEMP\n} from \"../events.js\";\nimport {entryInputForm} from \"./entry-input-form.js\";\nexport function editEntry(ctx) {\n  const views = ctx.views;\n  const bus = ctx.bus;\n  const id = decodeURI(ctx.views.route.deref().params.id);\n  const data = views.entries.deref()[id];\n  if (!data) {\n    return bus.dispatch([ROUTE_TO_ENTRY, id]);\n  }\n  bus.dispatch([SET_TEMP_ENTRY_TEMPLATE, {data}]);\n  return () => {\n    const user = views.user.deref();\n    return [\n      \"div\",\n      status,\n      user.login ? [\n        entryInputForm,\n        \"tempEntry\",\n        SET_TEMP_ENTRY,\n        GET_WIKI_TEMP,\n        UPDATE_ENTRY\n      ] : [\n        \"div\",\n        {class: \"flex flex-col p-6 md:p-12\"},\n        [\n          \"p\",\n          ctx.ui.newsletterForm.title,\n          \"Please sign in before editing entry...\"\n        ]\n      ]\n    ];\n  };\n}\n", "import * as __SNOWPACK_ENV__ from '../../_snowpack/env.js';\n\nimport {externalLink} from \"./external-link.js\";\nimport {status} from \"./status.js\";\nconst {\n  SNOWPACK_PUBLIC_CLIENT_ID,\n  SNOWPACK_PUBLIC_REDIRECT_URI\n} = __SNOWPACK_ENV__;\nconst CLIENT_ID = SNOWPACK_PUBLIC_CLIENT_ID;\nconst REDIRECT_URI = SNOWPACK_PUBLIC_REDIRECT_URI;\nexport function signIn(ctx) {\n  return [\n    \"div\",\n    status,\n    [\n      \"div\",\n      {class: \"flex flex-col p-6 md:p-12\"},\n      [\"p\", ctx.ui.newsletterForm.title, \"Mencius\"],\n      [\n        \"p\",\n        [\n          [\n            `https://github.com/login/oauth/authorize?client_id=${CLIENT_ID}&scope=user%20public_repo&redirect_uri=${REDIRECT_URI}`,\n            \"Sign in with GitHub\"\n          ]\n        ].map((link) => [externalLink, ctx.ui.contact.link, ...link])\n      ]\n    ]\n  ];\n}\n", "import {GET_TOKEN} from \"../events.js\";\nimport {status} from \"./status.js\";\nexport function githubOauth(ctx) {\n  const urlParams = new URLSearchParams(window.location.search);\n  const code = urlParams.get(\"code\");\n  ctx.bus.dispatch([GET_TOKEN, code]);\n  return [\n    \"div\",\n    status,\n    [\"div\", {class: \"text-4xl m-auto p-6\"}, \"Signing-in with GitHub...\"]\n  ];\n}\n", "const aqs = {\n  en: [\n    {\n      question: \"Why I cannot login?\",\n      answer: \"We are using third-party cookies to store your login state, which helps us to verity the communications between your browser and our servers.\"\n    },\n    {\n      question: \"Why I cannot search abbreviations?\",\n      answer: \"Due to the complexity of searching entries, short keywords and abbreviations, especially with . (dot), sometimes can not be searchable, but you can try the full name or related keywords, such as Dr. Dre for N.W.A, to find the entry.\"\n    }\n  ],\n  zh: [\n    {\n      question: \"为何无法登陆？\",\n      answer: \"Mencius 使用第三方 cookie 来保存并验证用户登陆状态，请在当前页面允许使用第三方 cookie。\"\n    },\n    {\n      question: \"为何无法检索缩略语？\",\n      answer: \"由于检索词条的复杂性，有些时候带有 .（点）的缩略语无法被搜索，但是可以通过搜索全名或者相关信息来找到目标词条：比如用 Dr. Dre 找到 N.W.A。\"\n    }\n  ]\n};\nexport function faq(_ctx) {\n  return [\n    \"div\",\n    [\n      \"div\",\n      {class: \"flex flex-col pt-6 text-gray-800\"},\n      [\n        \"header\",\n        [\n          \"div\",\n          {class: \"px-4 md:px-12 pb-6\"},\n          [\n            \"h1\",\n            {\n              class: \"text-5xl font-bold text-center\"\n            },\n            \"FAQ\"\n          ],\n          [\n            \"h2\",\n            {\n              class: \"text-2xl font-semibold text-center\"\n            },\n            \"Answers to common questions about Mencius.\"\n          ]\n        ]\n      ],\n      [\"hr\", {class: \"pb-2\"}],\n      [\n        \"section\",\n        [\n          \"div\",\n          {class: \"flex flex-col items-start px-4 md:px-12\"},\n          aqs.zh.map((x) => [\n            \"article\",\n            [\n              \"h2\",\n              {class: \"text-2xl md:text-3xl font-bold py-2\"},\n              x.question\n            ],\n            [\"p\", {class: \"font-light pb-8\"}, x.answer]\n          ])\n        ]\n      ]\n    ]\n  ];\n}\n", "import {externalLink} from \"./external-link.js\";\nexport function donate(_ctx) {\n  return [\n    \"div\",\n    [\n      \"div\",\n      {class: \"flex flex-col pt-6 text-gray-800\"},\n      [\n        \"header\",\n        [\n          \"div\",\n          {class: \"px-4 md:px-12 pb-6\"},\n          [\n            \"h1\",\n            {\n              class: \"text-5xl font-bold text-center\"\n            },\n            \"Donate\"\n          ]\n        ]\n      ],\n      [\"hr\", {class: \"pb-2\"}],\n      [\n        \"section\",\n        [\n          \"div\",\n          {class: \"flex flex-col items-start px-4 md:px-12\"},\n          [\n            \"article\",\n            {class: \"mb-4\"},\n            [\n              \"h2\",\n              {class: \"text-2xl md:text-3xl font-bold py-2\"},\n              \"PayPal\"\n            ],\n            [\n              \"div\",\n              \"请点击[\",\n              [\n                externalLink,\n                {\n                  class: \"font-bold text-purple-900 hover:bg-purple-900 hover:text-white transition duration-300 ease-in-out border-dotted border-b-2\"\n                },\n                \"https://www.paypal.me/yifanwu0/5\",\n                \"付款链接\"\n              ],\n              \"]\"\n            ]\n          ]\n        ]\n      ],\n      [\n        \"section\",\n        [\n          \"div\",\n          {class: \"flex flex-col items-start px-4 md:px-12 w-full\"},\n          [\n            \"article\",\n            {class: \"mb-8 w-full\"},\n            [\n              \"h2\",\n              {class: \"text-2xl md:text-3xl font-bold py-2\"},\n              \"支付宝\"\n            ],\n            [\n              \"div\",\n              {\n                class: \"flex justify-center content-center w-full\"\n              },\n              [\n                \"img\",\n                {\n                  class: \"rounded-lg shadow-2xl sm:shadow-none\",\n                  src: \"assets/alipay.png\"\n                }\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]\n  ];\n}\n", "export const ROUTE_TO = \"route-to\";\nexport const GET_USER = \"get-user\";\nexport const GET_TOKEN = \"get-token\";\nexport const SIGN_OUT = \"sign-out\";\nexport const CREATE_OPINION = \"create-opinion\";\nexport const DELETE_OPINION = \"delete-opinion\";\nexport const UPDATE_OPINION = \"update-opinion\";\nexport const GET_WIKI = \"get-wiki\";\nexport const GET_ENTRY = \"get-entry\";\nexport const CREATE_ENTRY = \"create-entry\";\nexport const UPDATE_ENTRY = \"update-entry\";\nexport const SEARCH_ENTRY = \"search-entry\";\nexport const CREATE_REPORT = \"create-report\";\nexport const GET_VOTE = \"get-vote\";\nexport const CREATE_VOTE = \"create-vote\";\nexport const DELETE_VOTE = \"delete-vote\";\nexport const GET_NOTIFICATION = \"get-notification\";\nexport const CREATE_NOTIFICATION = \"create-notification\";\nexport const UPDATE_NOTIFICATION = \"update-notification\";\nexport const DELETE_NOTIFICATION = \"delete-notification\";\nexport const GET_NEW_NOTIFICATIONS = \"get-new-notifications\";\nexport const GET_ALL_NOTIFICATIONS = \"get-all-notifications\";\n", "import * as __SNOWPACK_ENV__ from '../_snowpack/env.js';\n\nimport {\n  EV_SET_VALUE,\n  EV_UPDATE_VALUE,\n  FX_DELAY,\n  FX_DISPATCH_ASYNC,\n  FX_DISPATCH_NOW,\n  valueUpdater\n} from \"../_snowpack/pkg/@thi.ng/interceptors.js\";\nimport {StatusType, ReportType} from \"./api.js\";\nimport {about} from \"./components/about.js\";\nimport {contact} from \"./components/contact.js\";\nimport {search} from \"./components/search.js\";\nimport {entryDetail} from \"./components/entry-detail.js\";\nimport {newEntry} from \"./components/new-entry.js\";\nimport {editEntry} from \"./components/edit-entry.js\";\nimport {signIn} from \"./components/sign-in.js\";\nimport {githubOauth} from \"./components/github-oauth.js\";\nimport {faq} from \"./components/faq.js\";\nimport {donate} from \"./components/donate.js\";\nimport * as fx from \"./effects.js\";\nimport * as ev from \"./events.js\";\nimport * as routes from \"./routes.js\";\nconst {SNOWPACK_PUBLIC_API_HOST} = __SNOWPACK_ENV__;\nconst API_HOST = SNOWPACK_PUBLIC_API_HOST;\nexport const DEFAULT_ROUTE = routes.ABOUT;\nexport const CONFIG = {\n  router: {\n    useFragment: true,\n    defaultRouteID: DEFAULT_ROUTE.id,\n    routes: [\n      routes.ABOUT,\n      routes.CONTACT,\n      routes.SEARCH,\n      routes.ENTRY_DETAIL,\n      routes.NEW_ENTRY,\n      routes.EDIT_ENTRY,\n      routes.SIGN_IN,\n      routes.GITHUB_OAUTH_CB,\n      routes.FAQ,\n      routes.DONATE\n    ]\n  },\n  events: {\n    [ev.DONE]: () => ({\n      [FX_DISPATCH_NOW]: [ev.SET_STATUS, [StatusType.DONE, \"done\"]]\n    }),\n    [ev.ERROR]: (_, [__, err]) => ({\n      [FX_DISPATCH_NOW]: err.message === \"Unauthorized\" || err.message === \"Bad Request\" ? [\n        [ev.SET_STATUS, [StatusType.ERROR, err.message]],\n        [ev.ROUTE_TO, [routes.SIGN_IN.id, {}]]\n      ] : [ev.SET_STATUS, [StatusType.ERROR, err.message]]\n    }),\n    [ev.SET_STATUS]: (_, [__, status]) => ({\n      [FX_DISPATCH_NOW]: [EV_SET_VALUE, [\"status\", status]],\n      [FX_DISPATCH_ASYNC]: status[0] !== StatusType.DONE && status[2] ? [FX_DELAY, [1e3], ev.DONE, ev.ERROR] : void 0\n    }),\n    [ev.TOGGLE_NAV]: valueUpdater(\"isNavOpen\", (x) => !x),\n    [ev.TOGGLE_ACCOUNT]: valueUpdater(\"accountOpen\", (x) => !x),\n    [ev.CLOSE_ACCOUNT]: valueUpdater(\"accountOpen\", (_) => false),\n    [ev.TOGGLE_NOTIFICATION]: valueUpdater(\"notificationOpen\", (x) => !x),\n    [ev.CLOSE_NOTIFICATION]: valueUpdater(\"notificationOpen\", (_) => false),\n    [ev.TOGGLE_DELETE_OPINION]: valueUpdater(\"deleteOpinionOpen\", (x) => !x),\n    [ev.CLOSE_DELETE_OPINION]: valueUpdater(\"deleteOpinionOpen\", (_) => false),\n    [ev.TOGGLE_REPORT]: valueUpdater(\"reportOpen\", (x) => !x),\n    [ev.CLOSE_REPORT]: valueUpdater(\"reportOpen\", (_) => false),\n    [ev.TOGGLE_VOTE_LOCK]: valueUpdater(\"voteLock\", (x) => !x),\n    [ev.SET_REPORT]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        EV_SET_VALUE,\n        [[\"report\", json.key], json.value]\n      ]\n    }),\n    [ev.SET_OPINION_REPORT]: (_, [__, opinion, url]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.TOGGLE_REPORT],\n        [ev.SET_REPORT, {key: \"type\", value: ReportType.OPINION}],\n        [ev.SET_REPORT, {key: \"context\", value: opinion}],\n        [ev.SET_REPORT, {key: \"url\", value: url}]\n      ]\n    }),\n    [ev.CREATE_REPORT]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"reporting...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.CREATE_REPORT,\n        json,\n        ev.CREATE_REPORT_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.CREATE_REPORT_SUCCESS]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"reported successfully\", true]\n        ],\n        [ev.CLOSE_REPORT]\n      ]\n    }),\n    [ev.TOGGLE_DEBUG]: valueUpdater(\"debug\", (x) => !x),\n    [ev.SET_INPUT]: (_, [__, input]) => ({\n      [FX_DISPATCH_NOW]: [EV_SET_VALUE, [\"input\", input.toLowerCase()]]\n    }),\n    [ev.GET_ENTRY]: (_, [__, id]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"getting entry data...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [fx.GET_ENTRY, id, ev.RECEIVE_ENTRY, ev.ERROR]\n    }),\n    [ev.RECEIVE_ENTRY]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [[\"entries\", decodeURI(json.id)], json.data]],\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"entry data successfully loaded\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.ROUTE_TO_ENTRY]: (_, [__, id]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.ROUTE_TO, [routes.ENTRY_DETAIL.id, {id}]]\n      ]\n    }),\n    [ev.ROUTE_TO_NEW_ENTRY]: (_, [__, id]) => ({\n      [FX_DISPATCH_NOW]: [[ev.ROUTE_TO, [routes.NEW_ENTRY.id, {id}]]]\n    }),\n    [ev.ROUTE_TO_EDIT_ENTRY]: (_, [__, id]) => ({\n      [FX_DISPATCH_NOW]: [[ev.ROUTE_TO, [routes.EDIT_ENTRY.id, {id}]]]\n    }),\n    [ev.ROUTE_TO_SEARCH_ENTRY]: (_, [__, id, page]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.ROUTE_TO, [routes.SEARCH.id, {id, page}]]\n      ]\n    }),\n    [ev.GET_USER]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"getting user data...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [fx.GET_USER, null, ev.RECEIVE_USER, ev.ERROR]\n    }),\n    [ev.RECEIVE_USER]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [\"user\", json.data]],\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"user data successfully loaded\", true]\n        ],\n        [ev.GET_NEW_NOTIFICATIONS]\n      ]\n    }),\n    [ev.GET_TOKEN]: (_, [__, code]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"getting token...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.GET_TOKEN,\n        code,\n        ev.RECEIVE_TOKEN,\n        ev.ERROR\n      ]\n    }),\n    [ev.RECEIVE_TOKEN]: (_, [__, _json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"token successfully loaded\", true]\n        ],\n        [ev.ROUTE_TO, [DEFAULT_ROUTE.id, {}]],\n        [ev.GET_USER]\n      ]\n    }),\n    [ev.SIGN_OUT]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"signing out...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.SIGN_OUT,\n        null,\n        ev.SIGN_OUT_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.SIGN_OUT_SUCCESS]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"signed out successfully\", true]\n        ],\n        [ev.ROUTE_TO, [DEFAULT_ROUTE.id, {}]],\n        [EV_SET_VALUE, [\"user\", {}]]\n      ]\n    }),\n    [ev.SET_OPINION_TEMPLATE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        EV_SET_VALUE,\n        [[\"opinions\", json.id], json.data]\n      ]\n    }),\n    [ev.SET_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        EV_SET_VALUE,\n        [[\"opinions\", json.id, json.key], json.value]\n      ]\n    }),\n    [ev.CREATE_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"submitting opinion...\"]],\n        [ev.APPEND_OPINION, json]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.CREATE_OPINION,\n        json,\n        ev.CREATE_OPINION_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.CREATE_OPINION_SUCCESS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"opinion submitted successfully\",\n            true\n          ]\n        ],\n        [ev.CREATE_NOTIFICATION, json]\n      ]\n    }),\n    [ev.APPEND_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_UPDATE_VALUE,\n          [\n            [\"entries\", json.id, \"opinions\"],\n            (x) => [...x, json.data]\n          ]\n        ]\n      ]\n    }),\n    [ev.REMOVE_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_UPDATE_VALUE,\n          [\n            [\"entries\", json.id, \"opinions\"],\n            (x) => x.filter((y) => y.github_handle !== json.data.github_handle)\n          ]\n        ]\n      ]\n    }),\n    [ev.DELETE_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"deleting opinion...\"]],\n        [ev.REMOVE_OPINION, json]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.DELETE_OPINION,\n        json,\n        ev.DELETE_OPINION_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.DELETE_OPINION_SUCCESS]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"opinion deleted successfully\", true]\n        ],\n        [ev.CLOSE_DELETE_OPINION]\n      ]\n    }),\n    [ev.SET_TEMP_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [[EV_SET_VALUE, [\"tempOpinion\", json.data]]]\n    }),\n    [ev.EDIT_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_TEMP_OPINION, json],\n        [ev.SET_OPINION_TEMPLATE, json],\n        [ev.REMOVE_OPINION, json]\n      ]\n    }),\n    [ev.CANCEL_EDIT_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.APPEND_OPINION, json],\n        [ev.SET_OPINION_TEMPLATE, {...json, data: {}}],\n        [ev.SET_TEMP_OPINION, {data: {}}]\n      ]\n    }),\n    [ev.UPDATE_OPINION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"updating opinion...\"]],\n        [ev.APPEND_OPINION, json]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.UPDATE_OPINION,\n        json,\n        ev.UPDATE_OPINION_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.UPDATE_OPINION_SUCCESS]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"opinion updated successfully\", true]\n        ]\n      ]\n    }),\n    [ev.SET_NEW_ENTRY]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        EV_SET_VALUE,\n        [[\"newEntry\", json.key], json.value]\n      ]\n    }),\n    [ev.SET_NEW_ENTRY_TEMPLATE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [EV_SET_VALUE, [\"newEntry\", json.data]]\n    }),\n    [ev.GET_WIKI_NEW]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"getting wikipedia data...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.GET_WIKI,\n        json,\n        ev.RECEIVE_WIKI_NEW,\n        ev.ERROR\n      ]\n    }),\n    [ev.RECEIVE_WIKI_NEW]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [\"newEntry.wikipedia\", json.data]],\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"wikipedia data successfully loaded\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.GET_WIKI_TEMP]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"getting wikipedia data...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.GET_WIKI,\n        json,\n        ev.RECEIVE_WIKI_TEMP,\n        ev.ERROR\n      ]\n    }),\n    [ev.RECEIVE_WIKI_TEMP]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [\"tempEntry.wikipedia\", json.data]],\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"wikipedia data successfully loaded\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.CREATE_ENTRY]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"submitting entry...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.CREATE_ENTRY,\n        json,\n        ev.CREATE_ENTRY_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.CREATE_ENTRY_SUCCESS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.ROUTE_TO_ENTRY, json.id],\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"entry submitted successfully\", true]\n        ]\n      ]\n    }),\n    [ev.UPDATE_ENTRY]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"updating entry...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.UPDATE_ENTRY,\n        json,\n        ev.UPDATE_ENTRY_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.UPDATE_ENTRY_SUCCESS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [[\"entries\", json.id], \"\"]],\n        [ev.ROUTE_TO_ENTRY, json.id],\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"entry updated successfully\", true]\n        ]\n      ]\n    }),\n    [ev.SET_TEMP_ENTRY]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        EV_SET_VALUE,\n        [[\"tempEntry\", json.key], json.value]\n      ]\n    }),\n    [ev.SET_TEMP_ENTRY_TEMPLATE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [EV_SET_VALUE, [\"tempEntry\", json.data]]\n    }),\n    [ev.SEARCH_ENTRY]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"searching entries...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.SEARCH_ENTRY,\n        json,\n        ev.SEARCH_ENTRY_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.SEARCH_ENTRY_SUCCESS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [\"search\", json.data]],\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"searched successfully\", true]\n        ]\n      ]\n    }),\n    [ev.ROUTE_TO_SEARCH_ENTRY_PAGE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SEARCH_ENTRY, json],\n        [ev.ROUTE_TO_SEARCH_ENTRY, json.id, json.page]\n      ]\n    }),\n    [ev.GET_VOTE]: (_, [__, id]) => ({\n      [FX_DISPATCH_ASYNC]: [fx.GET_VOTE, id, ev.RECEIVE_VOTE, ev.ERROR]\n    }),\n    [ev.RECEIVE_VOTE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_SET_VALUE,\n          [[\"votes\", decodeURI(json.id)], json.data ? json.data : []]\n        ],\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"vote data successfully loaded\", true]\n        ]\n      ]\n    }),\n    [ev.CREATE_VOTE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"voting...\"]],\n        [ev.TOGGLE_VOTE_LOCK]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.CREATE_VOTE,\n        json,\n        ev.CREATE_VOTE_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.CREATE_VOTE_SUCCESS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"voted successfully\", true]\n        ],\n        [ev.APPEND_VOTE, json],\n        [ev.TOGGLE_VOTE_LOCK]\n      ]\n    }),\n    [ev.DELETE_VOTE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"deleting vote...\"]],\n        [ev.REMOVE_VOTE, json],\n        [ev.TOGGLE_VOTE_LOCK]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.DELETE_VOTE,\n        json,\n        ev.DELETE_VOTE_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.DELETE_VOTE_SUCCESS]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"vote deleted successfully\", true]\n        ],\n        [ev.TOGGLE_VOTE_LOCK]\n      ]\n    }),\n    [ev.APPEND_VOTE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_UPDATE_VALUE,\n          [[\"votes\", json.id], (x) => [...x, ...json.data]]\n        ]\n      ]\n    }),\n    [ev.REMOVE_VOTE]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_UPDATE_VALUE,\n          [\n            [\"votes\", json.id],\n            (x) => x.filter((y) => y !== json.data)\n          ]\n        ]\n      ]\n    }),\n    [ev.GET_ENTRY_W_ACTIVITY]: (_, [__, id]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.GET_NOTIFICATION, id],\n        [ev.GET_VOTE, id],\n        [ev.GET_ENTRY, id]\n      ]\n    }),\n    [ev.GET_NOTIFICATION]: (_, [__, id]) => ({\n      [FX_DISPATCH_ASYNC]: [\n        fx.GET_ALL_NOTIFICATIONS,\n        id,\n        ev.RECEIVE_NOTIFICATION,\n        ev.ERROR\n      ]\n    }),\n    [ev.RECEIVE_NOTIFICATION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_SET_VALUE,\n          [\n            [\"notifications\", decodeURI(json.id)],\n            json.data[0].entry_id ? json.data : []\n          ]\n        ],\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"notification successfully loaded\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.CREATE_NOTIFICATION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"watching the entry...\"]]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.CREATE_NOTIFICATION,\n        json,\n        ev.CREATE_NOTIFICATION_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.CREATE_NOTIFICATION_SUCCESS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.SUCCESS, \"watched successfully\", true]\n        ],\n        [ev.APPEND_NOTIFICATION, json]\n      ]\n    }),\n    [ev.UPDATE_NOTIFICATION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [StatusType.INFO, \"updating the notification...\"]\n        ]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.UPDATE_NOTIFICATION,\n        json,\n        ev.UPDATE_NOTIFICATION_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.UPDATE_NOTIFICATION_SUCCESS]: (_, [__, _json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"notification updated successfully\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.DELETE_NOTIFICATION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.SET_STATUS, [StatusType.INFO, \"deleting notification...\"]],\n        [ev.REMOVE_NOTIFICATION, json]\n      ],\n      [FX_DISPATCH_ASYNC]: [\n        fx.DELETE_NOTIFICATION,\n        json,\n        ev.DELETE_NOTIFICATION_SUCCESS,\n        ev.ERROR\n      ]\n    }),\n    [ev.DELETE_NOTIFICATION_SUCCESS]: () => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"notification deleted successfully\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.APPEND_NOTIFICATION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_UPDATE_VALUE,\n          [\n            [\"notifications\", json.id],\n            (x) => [...x, ...json.data]\n          ]\n        ]\n      ]\n    }),\n    [ev.REMOVE_NOTIFICATION]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [\n          EV_UPDATE_VALUE,\n          [\n            [\"notifications\", json.id],\n            (x) => x.filter((y) => y !== json.data)\n          ]\n        ]\n      ]\n    }),\n    [ev.GET_NEW_NOTIFICATIONS]: () => ({\n      [FX_DISPATCH_ASYNC]: [\n        fx.GET_NEW_NOTIFICATIONS,\n        null,\n        ev.RECEIVE_NEW_NOTIFICATIONS,\n        ev.ERROR\n      ]\n    }),\n    [ev.RECEIVE_NEW_NOTIFICATIONS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [EV_SET_VALUE, [\"newNotifications\", json.data]],\n        [\n          ev.SET_STATUS,\n          [\n            StatusType.SUCCESS,\n            \"new notifications successfully loaded\",\n            true\n          ]\n        ]\n      ]\n    }),\n    [ev.MARK_NEW_NOTIFICATIONS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        EV_UPDATE_VALUE,\n        [\n          [\"newNotifications\"],\n          (x) => [\n            ...x.filter((y) => y.entry_id != json.id),\n            json.data\n          ]\n        ]\n      ]\n    }),\n    [ev.VIEW_NEW_NOTIFICATIONS]: (_, [__, json]) => ({\n      [FX_DISPATCH_NOW]: [\n        [ev.UPDATE_NOTIFICATION, json],\n        [ev.ROUTE_TO_ENTRY, json.id],\n        [ev.GET_ENTRY_W_ACTIVITY, json.id],\n        [ev.MARK_NEW_NOTIFICATIONS, json]\n      ]\n    })\n  },\n  effects: {\n    [fx.GET_USER]: () => fetch(API_HOST + \"/api/v1/user\", {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_TOKEN]: (code) => fetch(API_HOST + \"/token?code=\" + code, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.SIGN_OUT]: () => fetch(API_HOST + \"/token\", {\n      method: \"DELETE\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.CREATE_OPINION]: (json) => fetch(API_HOST + \"/api/v1/entries/\" + json.id, {\n      method: \"POST\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.DELETE_OPINION]: (json) => fetch(API_HOST + `/api/v1/entries/${json.id}/${json.userName}`, {\n      method: \"DELETE\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.UPDATE_OPINION]: (json) => fetch(API_HOST + `/api/v1/entries/${json.id}/${json.userName}`, {\n      method: \"PUT\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_WIKI]: (json) => fetch(API_HOST + `/api/v1/wiki?language=${json.language}&titles=${json.titles}`, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_ENTRY]: (id) => fetch(API_HOST + \"/api/v1/entries/\" + id, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.CREATE_ENTRY]: (json) => fetch(API_HOST + \"/api/v1/entries\", {\n      method: \"POST\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.UPDATE_ENTRY]: (json) => fetch(API_HOST + `/api/v1/entries/${json.id}`, {\n      method: \"PUT\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.SEARCH_ENTRY]: (json) => fetch(API_HOST + `/api/v1/search/entry?id=${json.id}&page=${json.page}`, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.CREATE_REPORT]: (json) => fetch(API_HOST + \"/api/v1/report\", {\n      method: \"POST\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_VOTE]: (id) => fetch(API_HOST + `/api/v1/entries/${id}/placeholder/vote/placeholder`, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.CREATE_VOTE]: (json) => fetch(API_HOST + `/api/v1/entries/${json.id}/${json.data.opinion_github_handle}/vote`, {\n      method: \"POST\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.DELETE_VOTE]: (json) => fetch(API_HOST + `/api/v1/entries/${json.id}/${json.data.opinion_github_handle}/vote/${json.voteID}`, {\n      method: \"DELETE\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_NOTIFICATION]: (id) => fetch(API_HOST + `/api/v1/notification/${id}`, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.CREATE_NOTIFICATION]: (json) => fetch(API_HOST + `/api/v1/notification/${json.id}`, {\n      method: \"POST\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.UPDATE_NOTIFICATION]: (json) => fetch(API_HOST + `/api/v1/notification/${json.id}`, {\n      method: \"PUT\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.DELETE_NOTIFICATION]: (json) => fetch(API_HOST + `/api/v1/notification/${json.id}`, {\n      method: \"DELETE\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\",\n      body: JSON.stringify(json.data)\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_NEW_NOTIFICATIONS]: () => fetch(API_HOST + `/api/v1/notifications/new`, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }),\n    [fx.GET_ALL_NOTIFICATIONS]: (id) => fetch(API_HOST + `/api/v1/notifications/all/${id}`, {\n      method: \"GET\",\n      headers: [\n        [\"Content-Type\", \"application/json\"],\n        [\"Content-Type\", \"text/plain\"]\n      ],\n      credentials: \"include\"\n    }).then((resp) => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    })\n  },\n  components: {\n    [routes.ABOUT.id]: about,\n    [routes.CONTACT.id]: contact,\n    [routes.SEARCH.id]: search,\n    [routes.ENTRY_DETAIL.id]: entryDetail,\n    [routes.NEW_ENTRY.id]: newEntry,\n    [routes.EDIT_ENTRY.id]: editEntry,\n    [routes.SIGN_IN.id]: signIn,\n    [routes.GITHUB_OAUTH_CB.id]: githubOauth,\n    [routes.FAQ.id]: faq,\n    [routes.DONATE.id]: donate\n  },\n  domRoot: \"app\",\n  initialState: {\n    status: [StatusType.INFO, \"running\"],\n    user: {},\n    newNotifications: [],\n    route: {},\n    debug: false,\n    isNavOpen: false,\n    accountOpen: false,\n    notificationOpen: false,\n    deleteOpinionOpen: false,\n    reportOpen: false,\n    report: {},\n    input: \"\",\n    entries: {},\n    votes: {},\n    voteLock: false,\n    notifications: {},\n    opinions: {},\n    tempOpinion: {},\n    newEntry: {\n      album: \"\",\n      alias: \"\",\n      author: \"\",\n      category: \"\",\n      consensus_translation: \"\",\n      date: \"\",\n      group: \"\",\n      id: \"\",\n      name: \"\",\n      language: \"en\",\n      romanization: \"\",\n      wikipedia: null,\n      opinions: []\n    },\n    tempEntry: {},\n    search: {}\n  },\n  views: {\n    json: [\"\", (state) => JSON.stringify(state, null, 2)],\n    user: [\"user\", (user) => user || {}],\n    newNotifications: \"newNotifications\",\n    status: \"status\",\n    debug: \"debug\",\n    isNavOpen: \"isNavOpen\",\n    accountOpen: \"accountOpen\",\n    notificationOpen: \"notificationOpen\",\n    deleteOpinionOpen: \"deleteOpinionOpen\",\n    reportOpen: \"reportOpen\",\n    report: \"report\",\n    input: \"input\",\n    entries: \"entries\",\n    votes: \"votes\",\n    voteLock: \"voteLock\",\n    notifications: \"notifications\",\n    opinions: \"opinions\",\n    tempOpinion: \"tempOpinion\",\n    newEntry: \"newEntry\",\n    tempEntry: \"tempEntry\",\n    search: \"search\"\n  },\n  ui: {\n    status: {\n      [StatusType.DONE]: {\n        class: \"text-center p-2 bg-yellow-200 text-yellow-700 fadeout\"\n      },\n      [StatusType.INFO]: {\n        class: \"text-center p-2 bg-yellow-200 text-yellow-700\"\n      },\n      [StatusType.SUCCESS]: {\n        class: \"text-center p-2 bg-green-200 text-green-700\"\n      },\n      [StatusType.ERROR]: {\n        class: \"text-center p-2 bg-red-200 text-red-700\"\n      }\n    },\n    newsletterForm: {\n      title: {\n        class: \"sm:font-light text-2xl sm:text-3xl md:text-4xl text-gray-900 mt-6\"\n      },\n      form: {class: \"w-full\"},\n      container: {\n        class: \"flex items-center border-b border-b-2 border-purple-500 py-2\"\n      },\n      input: {\n        class: \"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none md:text-xl\"\n      },\n      button: {\n        class: \"flex-shrink-0 bg-purple-500 hover:bg-purple-700 border-purple-500 hover:border-purple-700 text-sm border-4 text-white py-1 px-2 rounded\"\n      }\n    },\n    characterCard: {\n      container: {\n        class: \"flex flex-col px-4 md:px-12 py-10 w-full sm:w-1/2 border-gray-200\"\n      },\n      icon: {class: \"h-8 w-8 md:h-10 md:w-10 md:-my-1\"},\n      body: {\n        class: \"flex flex-col leading-relaxed ml-4 md:ml-6\"\n      },\n      content: {\n        keyword: {class: \"font-medium text-gray-800 text-lg\"},\n        description: {\n          class: \"text-gray-600 mt-1 text-sm md:text-base\"\n        }\n      }\n    },\n    root: {class: \"about_bg\"},\n    debug: {\n      container: {\n        class: \"max-w-xs mt-1 flex max-h-screen overflow-y-auto overflow-x-auto\"\n      },\n      debugToggle: {\n        class: \"font-bold rotate-270 flex mt-5 focus:outline-none h-10\"\n      },\n      open: {\n        class: \"text-xs p-2 text-gray-800 rounded-lg\"\n      },\n      close: {\n        class: \"hidden\"\n      }\n    },\n    logo: {\n      container: {\n        class: \"sm:px-4 sm:pt-2 sm:pb-6 flex items-center\"\n      },\n      m: {class: \"h-10 text-purple-900\"},\n      mxs: {class: \"h-10 ml-4 text-gray-900 hidden md:block\"}\n    },\n    nav: {\n      outer: {},\n      search: {},\n      inner: {\n        open: {\n          class: \"items-center justify-between pl-4 pb-2 block sm:block sm:flex\"\n        },\n        close: {\n          class: \"items-center justify-between pl-4 pb-2 hidden sm:block sm:flex\"\n        }\n      },\n      title: {class: \"black f1 lh-title tc db mb2 mb2-ns\"},\n      link: {\n        class: \"mt-1 block px-2 py-1 font-bold rounded hover:bg-gray-100 text-lg sm:mt-0 sm:ml-2\"\n      }\n    },\n    contact: {\n      link: {\n        class: \"flex flex-col sm:text-xl text-gray-600 mt-2 leading-relaxed font-bold hover:bg-gray-200 hover:text-gray-900\"\n      }\n    },\n    footer: {\n      icon: {\n        class: \"mt-1 ml-2 font-normal text-gray-600 hover:text-gray-800 text-xs md:text-sm sm:mt-0\"\n      },\n      copyright: {\n        class: \"mt-1 px-2 py-1 font-normal text-gray-600 text-xs md:text-sm sm:mt-0 sm:ml-2\"\n      },\n      link: {\n        class: \"mt-1 block px-2 py-1 font-normal text-gray-600 hover:text-gray-800 text-xs md:text-sm sm:mt-0 sm:ml-2\"\n      }\n    }\n  }\n};\n", "import {DEFAULT_ROUTE} from \"../config.js\";\nimport {ROUTE_TO} from \"../events.js\";\nexport function routeLink(ctx, routeID, routeParams, attribs, body) {\n  return [\n    \"a\",\n    {\n      ...attribs,\n      onclick: (e) => {\n        e.preventDefault();\n        ctx.bus.dispatch([ROUTE_TO, [routeID, routeParams]]);\n      }\n    },\n    body\n  ];\n}\nexport function defaultRouteLink(ctx, attribs, body) {\n  return routeLink(ctx, DEFAULT_ROUTE.id, null, attribs, body);\n}\n", "import {SET_INPUT, ROUTE_TO_SEARCH_ENTRY_PAGE} from \"../events.js\";\nimport {SEARCH} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nexport function searchBar(ctx) {\n  const bus = ctx.bus;\n  const input = ctx.views.input.deref();\n  return [\n    \"div\",\n    {\n      class: \"w-full xl:px-24 px-4 pt-2 pb-6\"\n    },\n    [\n      \"div\",\n      {class: \"relative\"},\n      [\n        \"input\",\n        {\n          id: \"entry_search\",\n          class: \"transition bg-white shadow-md focus:outline-0 border border-transparent placeholder-gray-700 rounded-lg py-2 pr-4 pl-10 block w-full appearance-none leading-normal\",\n          placeholder: \"搜寻条目 / Search Entries\",\n          type: \"text\",\n          oninput: (e) => {\n            bus.dispatch([\n              SET_INPUT,\n              e.target.value\n            ]);\n          },\n          onkeyup: (e) => {\n            if (e.key === \"Enter\") {\n              bus.dispatch([\n                ROUTE_TO_SEARCH_ENTRY_PAGE,\n                {id: input, page: 1}\n              ]);\n            }\n          }\n        }\n      ],\n      [\n        \"div\",\n        {\n          class: \"pointer-events-none absolute inset-y-0 left-0 pl-4 flex items-center\"\n        },\n        [\n          \"div\",\n          {\n            class: \"fill-current pointer-events-none text-gray-600 w-4 h-4\"\n          },\n          SEARCH\n        ]\n      ]\n    ]\n  ];\n}\n", "import {TOGGLE_ACCOUNT, CLOSE_ACCOUNT, SIGN_OUT} from \"../events.js\";\nimport {eventBtn} from \"./event-btn.js\";\nexport function accountDropdown(ctx) {\n  const bus = ctx.bus;\n  const user = ctx.views.user.deref();\n  const accountOpen = ctx.views.accountOpen.deref();\n  return [\n    \"div\",\n    {\n      class: \"relative\",\n      onkeydown: (e) => {\n        if (e.key === \"Escape\" || e.key === \"Esc\") {\n          bus.dispatch([CLOSE_ACCOUNT, null]);\n        }\n      }\n    },\n    [\n      \"div\",\n      {\n        class: \"flex flex-row items-center relative w-8 mx-2\"\n      },\n      [\n        eventBtn,\n        [TOGGLE_ACCOUNT],\n        {\n          class: \"relative z-10 block rounded-full overflow-hidden focus:outline-none\"\n        },\n        [\n          \"img\",\n          {\n            src: user.avatar_url,\n            alt: user.login\n          }\n        ]\n      ],\n      accountOpen ? [\n        eventBtn,\n        [CLOSE_ACCOUNT],\n        {\n          tabindex: \"-1\",\n          class: \"fixed inset-0 h-full w-full cursor-default\"\n        }\n      ] : []\n    ],\n    accountOpen ? [\n      \"div\",\n      {\n        class: \"absolute right-0 mt-2 py-2 w-48 bg-white rounded-lg shadow-xl\"\n      },\n      [\n        \"div\",\n        {class: \"block px-4 text-gray-600\"},\n        `Signed in as ${user.login.toLowerCase()}`\n      ],\n      [\"div\", {class: \"block my-2 border-b bg-grey-400\"}],\n      [\n        eventBtn,\n        [SIGN_OUT],\n        {\n          class: \"block px-4 py-2 text-black hover:bg-gray-200 w-full text-left\"\n        },\n        \"Sign out\"\n      ]\n    ] : []\n  ];\n}\n", "import {NotificationStatus} from \"../api.js\";\nimport {\n  TOGGLE_NOTIFICATION,\n  CLOSE_NOTIFICATION,\n  VIEW_NEW_NOTIFICATIONS\n} from \"../events.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {NOTIFICATION} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nexport function notificationDropdown(ctx) {\n  const bus = ctx.bus;\n  const notificationOpen = ctx.views.notificationOpen.deref();\n  return () => {\n    let newNotifications = ctx.views.newNotifications.deref();\n    if (newNotifications !== null) {\n      newNotifications = newNotifications.filter((x) => x.status === NotificationStatus.NEW);\n    }\n    return [\n      \"div\",\n      {\n        class: \"relative\",\n        onkeydown: (e) => {\n          if (e.key === \"Escape\" || e.key === \"Esc\") {\n            bus.dispatch([CLOSE_NOTIFICATION, null]);\n          }\n        }\n      },\n      [\n        \"div\",\n        {\n          class: \"flex flex-row items-center relative w-8 mx-2\"\n        },\n        [\n          eventBtn,\n          [TOGGLE_NOTIFICATION],\n          {\n            class: \"relative z-10 block rounded-full w-6 h-6 focus:outline-none\"\n          },\n          [\n            \"div\",\n            {class: \"relative\"},\n            [\n              \"div\",\n              {\n                class: newNotifications && newNotifications.length ? \"absolute top-0 right-0 text-xs text-center rounded-full p-1 transition eas-in-out duration-300 bg-red-500 border-2 border-gray-200\" : \"absolute top-0 right-0 text-xs text-center rounded-full p-1 transition eas-in-out duration-300 bg-transparent\"\n              }\n            ],\n            [\"div\", NOTIFICATION]\n          ]\n        ],\n        notificationOpen ? [\n          eventBtn,\n          [CLOSE_NOTIFICATION],\n          {\n            tabindex: \"-1\",\n            class: \"fixed inset-0 h-full w-full cursor-default\"\n          }\n        ] : []\n      ],\n      notificationOpen ? [\n        \"div\",\n        {\n          class: \"absolute z-10 right-0 mt-2 py-2 w-64 bg-white rounded-lg shadow-xl\"\n        },\n        [\n          \"div\",\n          {class: \"block px-4 text-gray-600\"},\n          \"Notifications\"\n        ],\n        [\"div\", {class: \"block my-2 border-b bg-grey-400\"}],\n        newNotifications && newNotifications.length ? newNotifications.map((x) => [\n          eventBtn,\n          [\n            VIEW_NEW_NOTIFICATIONS,\n            {\n              id: x.entry_id,\n              data: {...x, status: \"viewed\"}\n            }\n          ],\n          {\n            class: \"block px-4 py-2 text-black hover:bg-gray-200 w-full text-left focus:outline-none\"\n          },\n          x.entry_id\n        ]) : [\n          \"div\",\n          {\n            class: \"block px-4 py-2 text-gray-500 w-full text-center focus:outline-none my-6 items-center\"\n          },\n          \"no notification\"\n        ]\n      ] : []\n    ];\n  };\n}\n", "import {SIGN_IN, NEW_ENTRY} from \"../routes.js\";\nimport {TOGGLE_NAV} from \"../events.js\";\nimport {logo} from \"./logo.js\";\nimport {defaultRouteLink, routeLink} from \"./route-link.js\";\nimport {eventBtn} from \"./event-btn.js\";\nimport {searchBar} from \"./search-bar.js\";\nimport {accountDropdown} from \"./account-dropdown.js\";\nimport {notificationDropdown} from \"./notification-dropdown.js\";\nimport {MENU, ADD, CLOSE, USER} from \"../../_snowpack/pkg/@thi.ng/hiccup-carbon-icons.js\";\nexport function nav(ctx) {\n  const isNavOpen = ctx.views.isNavOpen.deref();\n  const user = ctx.views.user.deref();\n  const ui = ctx.ui.nav;\n  return [\n    \"nav\",\n    {\n      class: \"sm:flex sm:justify-between sm:items-center px-4 md:px-6 py-3\"\n    },\n    [\n      \"div\",\n      {class: \"flex items-center justify-between px-4 py-3 sm:p-0\"},\n      [defaultRouteLink, {class: \"cursor-pointer\"}, logo],\n      [\n        \"div\",\n        {class: \"flex items-center justify-end space-x-2\"},\n        [\n          eventBtn,\n          [TOGGLE_NAV],\n          {class: \"block sm:hidden\"},\n          [\n            \"div\",\n            {class: \"h-8 w-8 md:h-10 md:w-10\"},\n            isNavOpen ? CLOSE : MENU\n          ]\n        ],\n        user.login ? [\n          \"div\",\n          {class: \"flex flex-row\"},\n          [\n            \"div\",\n            {class: \"block sm:hidden z-10 self-center\"},\n            notificationDropdown\n          ],\n          [\n            \"div\",\n            {class: \"block sm:hidden z-10\"},\n            accountDropdown\n          ]\n        ] : []\n      ]\n    ],\n    searchBar,\n    [\n      \"div\",\n      isNavOpen ? ui.inner.open : ui.inner.close,\n      [\n        routeLink,\n        NEW_ENTRY.id,\n        null,\n        ui.link,\n        [\n          \"div\",\n          {\n            class: \"flex flex-row items-center space-x-2 cursor-pointer\"\n          },\n          [\"div\", {class: \"h-6 w-6\"}, ADD],\n          [\"div\", \"New\"]\n        ]\n      ],\n      user.login ? [\n        \"div\",\n        {class: \"flex flex-row space-x\"},\n        [\n          \"div\",\n          {class: \"hidden sm:block self-center\"},\n          notificationDropdown\n        ],\n        [\n          \"div\",\n          {class: \"hidden sm:block self-center\"},\n          accountDropdown\n        ]\n      ] : [\n        routeLink,\n        SIGN_IN.id,\n        null,\n        ui.link,\n        [\n          \"div\",\n          {\n            class: \"flex flex-row items-center self-center cursor-pointer\"\n          },\n          [\"div\", {class: \"h-6 w-6 mr-2\"}, USER],\n          [\"div\", \"Sign_in\"]\n        ]\n      ]\n    ]\n  ];\n}\n", "import {ABOUT, CONTACT, FAQ, DONATE} from \"../routes.js\";\nimport {withSize, M_CHAR, GITHUB} from \"./icons.js\";\nimport {defaultRouteLink, routeLink} from \"./route-link.js\";\nimport {externalLink} from \"./external-link.js\";\nexport function footer(ctx) {\n  const ui = ctx.ui.footer;\n  const linkConfig = [\n    [ABOUT, \"About\"],\n    [CONTACT, \"Contact\"],\n    [FAQ, \"FAQ\"],\n    [DONATE, \"Donate\"]\n  ];\n  return [\n    \"footer\",\n    {\n      class: \"flex flex-col sm:flex-row justify-between sm:items-center px-4 md:px-6 py-3\"\n    },\n    [\n      \"div\",\n      {class: \"flex items-center justify-start sm:px-4 sm:py-3 sm:p-0\"},\n      [\n        defaultRouteLink,\n        {class: \"cursor-pointer\"},\n        [\"div\", {...ui.icon}, withSize(M_CHAR, \"16px\", \"16px\")]\n      ],\n      [\n        externalLink,\n        {title: \"See our work on GitHub\"},\n        \"https://github.com/noprostudio\",\n        [\"div\", {...ui.icon}, withSize(GITHUB, \"16px\", \"16px\")]\n      ],\n      [\"div\", ui.copyright, `© ${new Date().getFullYear()} Mencius`]\n    ],\n    [\n      \"div\",\n      {class: \"flex flex-row\"},\n      linkConfig.map((x) => [\n        routeLink,\n        x[0].id,\n        null,\n        ui.link,\n        [\n          \"div\",\n          {\n            class: \"flex flex-row items-center space-x-2 cursor-pointer\"\n          },\n          [\"div\", x[1]]\n        ]\n      ])\n    ]\n  ];\n}\n", "export function frame(_, content) {\n  return [\n    \"div\",\n    {class: \"flex-grow h-full\"},\n    [\n      \"div\",\n      {\n        class: \"max-w-5xl mx-auto flex h-full lg:items-center lg:px-8\"\n      },\n      [\n        \"div\",\n        {\n          class: \"flex-grow bg-white lg:shadow-2xl lg:rounded-lg lg:overflow-hidden h-full lg:h-auto\"\n        },\n        content\n      ]\n    ]\n  ];\n}\n", "import * as __SNOWPACK_ENV__ from '../_snowpack/env.js';\n\nimport {Atom, defViewUnsafe} from \"../_snowpack/pkg/@thi.ng/atom.js\";\nimport {isArray} from \"../_snowpack/pkg/@thi.ng/checks.js\";\nimport {start} from \"../_snowpack/pkg/@thi.ng/hdom.js\";\nimport {EventBus, trace, valueSetter} from \"../_snowpack/pkg/@thi.ng/interceptors.js\";\nimport {EVENT_ROUTE_CHANGED, HTMLRouter} from \"../_snowpack/pkg/@thi.ng/router.js\";\nimport {debugContainer} from \"./components/debug-container.js\";\nimport {nav} from \"./components/nav.js\";\nimport {footer} from \"./components/footer.js\";\nimport {frame} from \"./components/frame.js\";\nimport * as fx from \"./effects.js\";\nimport * as ev from \"./events.js\";\nconst ENV = __SNOWPACK_ENV__.MODE;\nexport class App {\n  constructor(config) {\n    this.config = config;\n    this.state = new Atom(config.initialState || {});\n    this.ctx = {\n      bus: new EventBus(this.state, config.events, config.effects),\n      views: {},\n      ui: config.ui\n    };\n    this.addViews(this.config.views);\n    this.router = new HTMLRouter(config.router);\n    this.router.addListener(EVENT_ROUTE_CHANGED, (e) => this.ctx.bus.dispatch([EVENT_ROUTE_CHANGED, e.value]));\n    this.ctx.bus.addHandlers({\n      [EVENT_ROUTE_CHANGED]: valueSetter(\"route\"),\n      [ev.ROUTE_TO]: (_, [__, route]) => ({\n        [fx.ROUTE_TO]: route\n      })\n    });\n    this.ctx.bus.addEffect(fx.ROUTE_TO, ([id, params]) => this.router.routeTo(this.router.format(id, params)));\n    if (ENV && ENV === \"development\") {\n      this.ctx.bus.instrumentWith([trace]);\n    }\n    this.addViews({\n      route: \"route\",\n      routeComponent: [\n        \"route.id\",\n        (id) => (this.config.components[id] || (() => [\"div\", `missing component for route: ${id}`]))(this.ctx)\n      ]\n    });\n  }\n  addViews(specs) {\n    const views = this.ctx.views;\n    for (const id in specs) {\n      const spec = specs[id];\n      views[id] = isArray(spec) ? defViewUnsafe(this.state, spec[0], spec[1]) : defViewUnsafe(this.state, spec);\n    }\n  }\n  start() {\n    this.router.start();\n    this.ctx.bus.dispatch([ev.GET_USER]);\n    start(() => {\n      if (this.ctx.bus.processQueue()) {\n        return this.rootComponent();\n      }\n    }, {root: this.config.domRoot, ctx: this.ctx});\n  }\n  rootComponent() {\n    const debug = this.ctx.views.debug.deref();\n    const ui = this.ctx.ui;\n    return [\n      \"div\",\n      ui.root,\n      [\n        \"div\",\n        {class: \"flex flex-row\"},\n        [\n          \"div\",\n          {class: \"w-full min-h-screen flex flex-col\"},\n          nav,\n          [frame, this.ctx.views.routeComponent],\n          footer\n        ],\n        ENV && ENV === \"development\" ? [debugContainer, debug, this.ctx.views.json] : []\n      ]\n    ];\n  }\n}\n", "import {App} from \"./app.js\";\nimport {CONFIG} from \"./config.js\";\nnew App(CONFIG).start();\n"],
  "mappings": "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DAEV,CACE,SAAU,aACV,OAAQ,mFAIP,YAAa,EAAM,CACxB,MAAO,CACL,MACA,CACE,MACA,CAAC,MAAO,oCACR,CACE,SACA,CACE,MACA,CAAC,MAAO,sBACR,CACE,KACA,CACE,MAAO,kCAET,OAEF,CACE,KACA,CACE,MAAO,sCAET,gDAIN,CAAC,KAAM,CAAC,MAAO,SACf,CACE,UACA,CACE,MACA,CAAC,MAAO,2CACR,GAAI,GAAG,IAAI,AAAC,GAAM,CAChB,UACA,CACE,KACA,CAAC,MAAO,uCACR,EAAE,UAEJ,CAAC,IAAK,CAAC,MAAO,mBAAoB,EAAE,cC7DzC,YAAgB,EAAM,CAC3B,MAAO,CACL,MACA,CACE,MACA,CAAC,MAAO,oCACR,CACE,SACA,CACE,MACA,CAAC,MAAO,sBACR,CACE,KACA,CACE,MAAO,kCAET,YAIN,CAAC,KAAM,CAAC,MAAO,SACf,CACE,UACA,CACE,MACA,CAAC,MAAO,2CACR,CACE,UACA,CAAC,MAAO,QACR,CACE,KACA,CAAC,MAAO,uCACR,UAEF,CACE,MACA,OACA,CACE,GACA,CACE,MAAO,+HAET,mCACA,QAEF,QAKR,CACE,UACA,CACE,MACA,CAAC,MAAO,kDACR,CACE,UACA,CAAC,MAAO,eACR,CACE,KACA,CAAC,MAAO,uCACR,OAEF,CACE,MACA,CACE,MAAO,6CAET,CACE,MACA,CACE,MAAO,uCACP,IAAK,4BCzEhB,GAAM,IAAW,WACX,GAAW,WACX,GAAY,YACZ,GAAW,WACX,GAAiB,iBACjB,GAAiB,iBACjB,GAAiB,iBACjB,GAAW,WACX,GAAY,YACZ,GAAe,eACf,GAAe,eACf,GAAe,eACf,GAAgB,gBAChB,GAAW,WACX,GAAc,cACd,GAAc,cACd,GAAmB,mBACnB,GAAsB,sBACtB,GAAsB,sBACtB,GAAsB,sBACtB,GAAwB,wBACxB,GAAwB,wBCGrC,GAAM,CAAC,6BAA4B,GAC7B,EAAW,GACJ,GAAuB,GACvB,GAAS,CACpB,OAAQ,CACN,YAAa,GACb,eAAgB,GAAc,GAC9B,OAAQ,CACC,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,KAGX,OAAQ,EACF,IAAO,IAAO,GACf,GAAkB,CAAI,EAAY,CAAC,EAAW,KAAM,YAEnD,GAAQ,CAAC,EAAG,CAAC,EAAI,KAAU,GAC5B,GAAkB,EAAI,UAAY,gBAAkB,EAAI,UAAY,cAAgB,CACnF,CAAI,EAAY,CAAC,EAAW,MAAO,EAAI,UACvC,CAAI,EAAU,CAAC,AAAO,GAAQ,GAAI,MAChC,CAAI,EAAY,CAAC,EAAW,MAAO,EAAI,aAEzC,GAAa,CAAC,EAAG,CAAC,EAAI,KAAa,GACpC,GAAkB,CAAC,EAAc,CAAC,SAAU,KAC5C,GAAoB,EAAO,KAAO,EAAW,MAAQ,EAAO,GAAK,CAAC,GAAU,CAAC,KAAS,GAAS,GAAS,UAEvG,IAAa,EAAa,YAAa,AAAC,GAAM,CAAC,IAC/C,IAAiB,EAAa,cAAe,AAAC,GAAM,CAAC,IACrD,IAAgB,EAAa,cAAe,AAAC,GAAM,KACnD,IAAsB,EAAa,mBAAoB,AAAC,GAAM,CAAC,IAC/D,IAAqB,EAAa,mBAAoB,AAAC,GAAM,KAC7D,IAAwB,EAAa,oBAAqB,AAAC,GAAM,CAAC,IAClE,IAAuB,EAAa,oBAAqB,AAAC,GAAM,KAChE,IAAgB,EAAa,aAAc,AAAC,GAAM,CAAC,IACnD,IAAe,EAAa,aAAc,AAAC,GAAM,KACjD,IAAmB,EAAa,WAAY,AAAC,GAAM,CAAC,IACpD,IAAa,CAAC,EAAG,CAAC,EAAI,KAAW,GAClC,GAAkB,CACjB,EACA,CAAC,CAAC,SAAU,EAAK,KAAM,EAAK,WAG5B,IAAqB,CAAC,EAAG,CAAC,EAAI,EAAS,KAAU,GAClD,GAAkB,CACjB,CAAI,IACJ,CAAI,GAAY,CAAC,IAAK,OAAQ,MAAO,GAAW,UAChD,CAAI,GAAY,CAAC,IAAK,UAAW,MAAO,IACxC,CAAI,GAAY,CAAC,IAAK,MAAO,MAAO,QAGpC,IAAgB,CAAC,EAAG,CAAC,EAAI,KAAW,GACrC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,mBAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAwB,IAAO,GAChC,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,wBAAyB,KAEhD,CAAI,QAGJ,IAAe,EAAa,QAAS,AAAC,GAAM,CAAC,IAC7C,IAAY,CAAC,EAAG,CAAC,EAAI,KAAY,GAClC,GAAkB,CAAC,EAAc,CAAC,QAAS,EAAM,mBAEhD,IAAY,CAAC,EAAG,CAAC,EAAI,KAAS,GAC/B,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,4BAEnC,GAAoB,CAAI,GAAW,EAAO,GAAkB,MAE3D,IAAgB,CAAC,EAAG,CAAC,EAAI,KAAW,GACrC,GAAkB,CACjB,CAAC,EAAc,CAAC,CAAC,UAAW,UAAU,EAAK,KAAM,EAAK,OACtD,CACK,EACH,CACE,EAAW,QACX,iCACA,SAKJ,GAAiB,CAAC,EAAG,CAAC,EAAI,KAAS,GACpC,GAAkB,CACjB,CAAI,EAAU,CAAC,AAAO,GAAa,GAAI,CAAC,YAGxC,IAAqB,CAAC,EAAG,CAAC,EAAI,KAAS,GACxC,GAAkB,CAAC,CAAI,EAAU,CAAC,AAAO,GAAU,GAAI,CAAC,YAEvD,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAS,GACzC,GAAkB,CAAC,CAAI,EAAU,CAAC,AAAO,GAAW,GAAI,CAAC,YAExD,IAAwB,CAAC,EAAG,CAAC,EAAI,EAAI,KAAW,GACjD,GAAkB,CACjB,CAAI,EAAU,CAAC,AAAO,GAAO,GAAI,CAAC,KAAI,cAGtC,IAAW,IAAO,GACnB,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,2BAEnC,GAAoB,CAAI,GAAU,KAAS,GAAiB,MAE3D,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CAAC,EAAc,CAAC,OAAQ,EAAK,OAC7B,CACK,EACH,CAAC,EAAW,QAAS,gCAAiC,KAExD,CAAI,QAGJ,IAAY,CAAC,EAAG,CAAC,EAAI,KAAW,GACjC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,uBAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAgB,CAAC,EAAG,CAAC,EAAI,KAAY,GACtC,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,4BAA6B,KAEpD,CAAI,EAAU,CAAC,GAAc,GAAI,KACjC,CAAI,QAGJ,IAAW,IAAO,GACnB,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,qBAEnC,GAAoB,CAChB,GACH,KACG,GACA,MAGH,IAAmB,IAAO,GAC3B,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,0BAA2B,KAElD,CAAI,EAAU,CAAC,GAAc,GAAI,KACjC,CAAC,EAAc,CAAC,OAAQ,SAGxB,IAAuB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC5C,GAAkB,CACjB,EACA,CAAC,CAAC,WAAY,EAAK,IAAK,EAAK,UAG7B,IAAc,CAAC,EAAG,CAAC,EAAI,KAAW,GACnC,GAAkB,CACjB,EACA,CAAC,CAAC,WAAY,EAAK,GAAI,EAAK,KAAM,EAAK,WAGvC,IAAiB,CAAC,EAAG,CAAC,EAAI,KAAW,GACtC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,0BAClC,CAAI,GAAgB,KAErB,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAyB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC9C,GAAkB,CACjB,CACK,EACH,CACE,EAAW,QACX,iCACA,KAGJ,CAAI,GAAqB,OAGzB,IAAiB,CAAC,EAAG,CAAC,EAAI,KAAW,GACtC,GAAkB,CACjB,CACE,EACA,CACE,CAAC,UAAW,EAAK,GAAI,YACrB,AAAC,GAAM,CAAC,GAAG,EAAG,EAAK,YAKvB,IAAiB,CAAC,EAAG,CAAC,EAAI,KAAW,GACtC,GAAkB,CACjB,CACE,EACA,CACE,CAAC,UAAW,EAAK,GAAI,YACrB,AAAC,GAAM,EAAE,OAAO,AAAC,GAAM,EAAE,gBAAkB,EAAK,KAAK,qBAKzD,IAAiB,CAAC,EAAG,CAAC,EAAI,KAAW,GACtC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,wBAClC,CAAI,GAAgB,KAErB,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAyB,IAAO,GACjC,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,+BAAgC,KAEvD,CAAI,QAGJ,IAAmB,CAAC,EAAG,CAAC,EAAI,KAAW,GACxC,GAAkB,CAAC,CAAC,EAAc,CAAC,cAAe,EAAK,WAEtD,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CAAI,GAAkB,GACtB,CAAI,GAAsB,GAC1B,CAAI,GAAgB,OAGpB,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CAAI,GAAgB,GACpB,CAAI,GAAsB,IAAI,EAAM,KAAM,KAC1C,CAAI,GAAkB,CAAC,KAAM,SAG7B,IAAiB,CAAC,EAAG,CAAC,EAAI,KAAW,GACtC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,wBAClC,CAAI,GAAgB,KAErB,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAyB,IAAO,GACjC,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,+BAAgC,SAIvD,IAAgB,CAAC,EAAG,CAAC,EAAI,KAAW,GACrC,GAAkB,CACjB,EACA,CAAC,CAAC,WAAY,EAAK,KAAM,EAAK,WAG9B,IAAyB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC9C,GAAkB,CAAC,EAAc,CAAC,WAAY,EAAK,UAElD,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,gCAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAmB,CAAC,EAAG,CAAC,EAAI,KAAW,GACxC,GAAkB,CACjB,CAAC,EAAc,CAAC,qBAAsB,EAAK,OAC3C,CACK,EACH,CACE,EAAW,QACX,qCACA,SAKJ,IAAgB,CAAC,EAAG,CAAC,EAAI,KAAW,GACrC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,gCAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAoB,CAAC,EAAG,CAAC,EAAI,KAAW,GACzC,GAAkB,CACjB,CAAC,EAAc,CAAC,sBAAuB,EAAK,OAC5C,CACK,EACH,CACE,EAAW,QACX,qCACA,SAKJ,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,0BAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAuB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC5C,GAAkB,CACjB,CAAI,EAAgB,EAAK,IACzB,CACK,EACH,CAAC,EAAW,QAAS,+BAAgC,SAIvD,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,wBAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAuB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC5C,GAAkB,CACjB,CAAC,EAAc,CAAC,CAAC,UAAW,EAAK,IAAK,KACtC,CAAI,EAAgB,EAAK,IACzB,CACK,EACH,CAAC,EAAW,QAAS,6BAA8B,SAIrD,IAAiB,CAAC,EAAG,CAAC,EAAI,KAAW,GACtC,GAAkB,CACjB,EACA,CAAC,CAAC,YAAa,EAAK,KAAM,EAAK,WAG/B,IAA0B,CAAC,EAAG,CAAC,EAAI,KAAW,GAC/C,GAAkB,CAAC,EAAc,CAAC,YAAa,EAAK,UAEnD,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,2BAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAuB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC5C,GAAkB,CACjB,CAAC,EAAc,CAAC,SAAU,EAAK,OAC/B,CACK,EACH,CAAC,EAAW,QAAS,wBAAyB,SAIhD,GAA6B,CAAC,EAAG,CAAC,EAAI,KAAW,GAClD,GAAkB,CACjB,CAAI,GAAc,GAClB,CAAI,GAAuB,EAAK,GAAI,EAAK,UAGzC,IAAW,CAAC,EAAG,CAAC,EAAI,KAAS,GAC9B,GAAoB,CAAI,GAAU,EAAO,GAAiB,MAEzD,IAAe,CAAC,EAAG,CAAC,EAAI,KAAW,GACpC,GAAkB,CACjB,CACE,EACA,CAAC,CAAC,QAAS,UAAU,EAAK,KAAM,EAAK,KAAO,EAAK,KAAO,KAE1D,CACK,EACH,CAAC,EAAW,QAAS,gCAAiC,SAIxD,IAAc,CAAC,EAAG,CAAC,EAAI,KAAW,GACnC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,cAClC,CAAI,MAEL,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,qBAAsB,KAE7C,CAAI,GAAa,GACjB,CAAI,QAGJ,IAAc,CAAC,EAAG,CAAC,EAAI,KAAW,GACnC,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,qBAClC,CAAI,GAAa,GACjB,CAAI,MAEL,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAsB,IAAO,GAC9B,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,4BAA6B,KAEpD,CAAI,QAGJ,IAAc,CAAC,EAAG,CAAC,EAAI,KAAW,GACnC,GAAkB,CACjB,CACE,EACA,CAAC,CAAC,QAAS,EAAK,IAAK,AAAC,GAAM,CAAC,GAAG,EAAG,GAAG,EAAK,YAI7C,IAAc,CAAC,EAAG,CAAC,EAAI,KAAW,GACnC,GAAkB,CACjB,CACE,EACA,CACE,CAAC,QAAS,EAAK,IACf,AAAC,GAAM,EAAE,OAAO,AAAC,GAAM,IAAM,EAAK,YAKtC,IAAuB,CAAC,EAAG,CAAC,EAAI,KAAS,GAC1C,GAAkB,CACjB,CAAI,GAAkB,GACtB,CAAI,GAAU,GACd,CAAI,GAAW,OAGf,IAAmB,CAAC,EAAG,CAAC,EAAI,KAAS,GACtC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAAuB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC5C,GAAkB,CACjB,CACE,EACA,CACE,CAAC,gBAAiB,UAAU,EAAK,KACjC,EAAK,KAAK,GAAG,SAAW,EAAK,KAAO,KAGxC,CACK,EACH,CACE,EAAW,QACX,mCACA,SAKJ,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,4BAEnC,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAA8B,CAAC,EAAG,CAAC,EAAI,KAAW,GACnD,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,QAAS,uBAAwB,KAE/C,CAAI,GAAqB,OAGzB,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CACK,EACH,CAAC,EAAW,KAAM,mCAGrB,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAA8B,CAAC,EAAG,CAAC,EAAI,KAAY,GACpD,GAAkB,CACjB,CACK,EACH,CACE,EAAW,QACX,oCACA,SAKJ,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CAAI,EAAY,CAAC,EAAW,KAAM,6BAClC,CAAI,GAAqB,KAE1B,GAAoB,CAChB,GACH,EACG,GACA,MAGH,IAA8B,IAAO,GACtC,GAAkB,CACjB,CACK,EACH,CACE,EAAW,QACX,oCACA,SAKJ,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CACE,EACA,CACE,CAAC,gBAAiB,EAAK,IACvB,AAAC,GAAM,CAAC,GAAG,EAAG,GAAG,EAAK,YAK1B,IAAsB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC3C,GAAkB,CACjB,CACE,EACA,CACE,CAAC,gBAAiB,EAAK,IACvB,AAAC,GAAM,EAAE,OAAO,AAAC,GAAM,IAAM,EAAK,YAKtC,IAAwB,IAAO,GAChC,GAAoB,CAChB,GACH,KACG,GACA,MAGH,IAA4B,CAAC,EAAG,CAAC,EAAI,KAAW,GACjD,GAAkB,CACjB,CAAC,EAAc,CAAC,mBAAoB,EAAK,OACzC,CACK,EACH,CACE,EAAW,QACX,wCACA,SAKJ,IAAyB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC9C,GAAkB,CACjB,EACA,CACE,CAAC,oBACD,AAAC,GAAM,CACL,GAAG,EAAE,OAAO,AAAC,GAAM,EAAE,UAAY,EAAK,IACtC,EAAK,WAKT,IAAyB,CAAC,EAAG,CAAC,EAAI,KAAW,GAC9C,GAAkB,CACjB,CAAI,GAAqB,GACzB,CAAI,EAAgB,EAAK,IACzB,CAAI,GAAsB,EAAK,IAC/B,CAAI,GAAwB,OAIlC,QAAS,EACH,IAAW,IAAM,MAAM,EAAW,eAAgB,CACpD,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAY,AAAC,GAAS,MAAM,EAAW,eAAiB,EAAM,CAChE,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAW,IAAM,MAAM,EAAW,SAAU,CAC9C,OAAQ,SACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAiB,AAAC,GAAS,MAAM,EAAW,mBAAqB,EAAK,GAAI,CAC5E,OAAQ,OACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAiB,AAAC,GAAS,MAAM,EAAW,mBAAmB,EAAK,MAAM,EAAK,WAAY,CAC7F,OAAQ,SACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAiB,AAAC,GAAS,MAAM,EAAW,mBAAmB,EAAK,MAAM,EAAK,WAAY,CAC7F,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAW,AAAC,GAAS,MAAM,EAAW,yBAAyB,EAAK,mBAAmB,EAAK,SAAU,CACxG,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAY,AAAC,GAAO,MAAM,EAAW,mBAAqB,EAAI,CAChE,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAe,AAAC,GAAS,MAAM,EAAW,kBAAmB,CAC/D,OAAQ,OACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAe,AAAC,GAAS,MAAM,EAAW,mBAAmB,EAAK,KAAM,CAC1E,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAe,AAAC,GAAS,MAAM,EAAW,2BAA2B,EAAK,WAAW,EAAK,OAAQ,CACpG,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAgB,AAAC,GAAS,MAAM,EAAW,iBAAkB,CAC/D,OAAQ,OACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAW,AAAC,GAAO,MAAM,EAAW,mBAAmB,iCAAmC,CAC5F,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAc,AAAC,GAAS,MAAM,EAAW,mBAAmB,EAAK,MAAM,EAAK,KAAK,6BAA8B,CACjH,OAAQ,OACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAc,AAAC,GAAS,MAAM,EAAW,mBAAmB,EAAK,MAAM,EAAK,KAAK,8BAA8B,EAAK,SAAU,CAChI,OAAQ,SACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAmB,AAAC,GAAO,MAAM,EAAW,wBAAwB,IAAM,CAC5E,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAsB,AAAC,GAAS,MAAM,EAAW,wBAAwB,EAAK,KAAM,CACtF,OAAQ,OACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAsB,AAAC,GAAS,MAAM,EAAW,wBAAwB,EAAK,KAAM,CACtF,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAsB,AAAC,GAAS,MAAM,EAAW,wBAAwB,EAAK,KAAM,CACtF,OAAQ,SACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,UACb,KAAM,KAAK,UAAU,EAAK,QACzB,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAwB,IAAM,MAAM,EAAW,4BAA6B,CAC9E,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAEV,IAAwB,AAAC,GAAO,MAAM,EAAW,6BAA6B,IAAM,CACtF,OAAQ,MACR,QAAS,CACP,CAAC,eAAgB,oBACjB,CAAC,eAAgB,eAEnB,YAAa,YACZ,KAAK,AAAC,GAAS,CAChB,GAAI,CAAC,EAAK,GACR,KAAM,IAAI,OAAM,EAAK,YAEvB,MAAO,GAAK,UAGhB,WAAY,EACT,AAAO,GAAM,IAAK,IAClB,AAAO,GAAQ,IAAK,IACpB,AAAO,GAAO,IAAK,IACnB,AAAO,GAAa,IAAK,IACzB,AAAO,GAAU,IAAK,IACtB,AAAO,GAAW,IAAK,IACvB,AAAO,GAAQ,IAAK,IACpB,AAAO,GAAgB,IAAK,IAC5B,AAAO,GAAI,IAAK,IAChB,AAAO,GAAO,IAAK,IAEtB,QAAS,MACT,aAAc,CACZ,OAAQ,CAAC,EAAW,KAAM,WAC1B,KAAM,GACN,iBAAkB,GAClB,MAAO,GACP,MAAO,GACP,UAAW,GACX,YAAa,GACb,iBAAkB,GAClB,kBAAmB,GACnB,WAAY,GACZ,OAAQ,GACR,MAAO,GACP,QAAS,GACT,MAAO,GACP,SAAU,GACV,cAAe,GACf,SAAU,GACV,YAAa,GACb,SAAU,CACR,MAAO,GACP,MAAO,GACP,OAAQ,GACR,SAAU,GACV,sBAAuB,GACvB,KAAM,GACN,MAAO,GACP,GAAI,GACJ,KAAM,GACN,SAAU,KACV,aAAc,GACd,UAAW,KACX,SAAU,IAEZ,UAAW,GACX,OAAQ,IAEV,MAAO,CACL,KAAM,CAAC,GAAI,AAAC,GAAU,KAAK,UAAU,EAAO,KAAM,IAClD,KAAM,CAAC,OAAQ,AAAC,GAAS,GAAQ,IACjC,iBAAkB,mBAClB,OAAQ,SACR,MAAO,QACP,UAAW,YACX,YAAa,cACb,iBAAkB,mBAClB,kBAAmB,oBACnB,WAAY,aACZ,OAAQ,SACR,MAAO,QACP,QAAS,UACT,MAAO,QACP,SAAU,WACV,cAAe,gBACf,SAAU,WACV,YAAa,cACb,SAAU,WACV,UAAW,YACX,OAAQ,UAEV,GAAI,CACF,OAAQ,EACL,EAAW,MAAO,CACjB,MAAO,0DAER,EAAW,MAAO,CACjB,MAAO,kDAER,EAAW,SAAU,CACpB,MAAO,gDAER,EAAW,OAAQ,CAClB,MAAO,4CAGX,eAAgB,CACd,MAAO,CACL,MAAO,qEAET,KAAM,CAAC,MAAO,UACd,UAAW,CACT,MAAO,gEAET,MAAO,CACL,MAAO,8HAET,OAAQ,CACN,MAAO,4IAGX,cAAe,CACb,UAAW,CACT,MAAO,qEAET,KAAM,CAAC,MAAO,oCACd,KAAM,CACJ,MAAO,8CAET,QAAS,CACP,QAAS,CAAC,MAAO,qCACjB,YAAa,CACX,MAAO,6CAIb,KAAM,CAAC,MAAO,YACd,MAAO,CACL,UAAW,CACT,MAAO,mEAET,YAAa,CACX,MAAO,0DAET,KAAM,CACJ,MAAO,wCAET,MAAO,CACL,MAAO,WAGX,KAAM,CACJ,UAAW,CACT,MAAO,6CAET,EAAG,CAAC,MAAO,wBACX,IAAK,CAAC,MAAO,4CAEf,IAAK,CACH,MAAO,GACP,OAAQ,GACR,MAAO,CACL,KAAM,CACJ,MAAO,iEAET,MAAO,CACL,MAAO,mEAGX,MAAO,CAAC,MAAO,sCACf,KAAM,CACJ,MAAO,qFAGX,QAAS,CACP,KAAM,CACJ,MAAO,gHAGX,OAAQ,CACN,KAAM,CACJ,MAAO,sFAET,UAAW,CACT,MAAO,+EAET,KAAM,CACJ,MAAO,4GC3nCR,YAAmB,EAAK,EAAS,EAAa,EAAS,EAAM,CAClE,MAAO,CACL,IACA,IACK,EACH,QAAS,AAAC,GAAM,CACd,EAAE,iBACF,EAAI,IAAI,SAAS,CAAC,EAAU,CAAC,EAAS,OAG1C,GAGG,YAA0B,EAAK,EAAS,EAAM,CACnD,MAAO,IAAU,EAAK,GAAc,GAAI,KAAM,EAAS,GCdlD,YAAmB,EAAK,CAC7B,GAAM,GAAM,EAAI,IACV,EAAQ,EAAI,MAAM,MAAM,QAC9B,MAAO,CACL,MACA,CACE,MAAO,kCAET,CACE,MACA,CAAC,MAAO,YACR,CACE,QACA,CACE,GAAI,eACJ,MAAO,sKACP,YAAa,wBACb,KAAM,OACN,QAAS,AAAC,GAAM,CACd,EAAI,SAAS,CACX,GACA,EAAE,OAAO,SAGb,QAAS,AAAC,GAAM,CACd,AAAI,EAAE,MAAQ,SACZ,EAAI,SAAS,CACX,EACA,CAAC,GAAI,EAAO,KAAM,QAM5B,CACE,MACA,CACE,MAAO,wEAET,CACE,MACA,CACE,MAAO,0DAET,OC5CH,YAAyB,EAAK,CACnC,GAAM,GAAM,EAAI,IACV,EAAO,EAAI,MAAM,KAAK,QACtB,EAAc,EAAI,MAAM,YAAY,QAC1C,MAAO,CACL,MACA,CACE,MAAO,WACP,UAAW,AAAC,GAAM,CAChB,AAAI,GAAE,MAAQ,UAAY,EAAE,MAAQ,QAClC,EAAI,SAAS,CAAC,GAAe,SAInC,CACE,MACA,CACE,MAAO,gDAET,CACE,EACA,CAAC,IACD,CACE,MAAO,uEAET,CACE,MACA,CACE,IAAK,EAAK,WACV,IAAK,EAAK,SAIhB,EAAc,CACZ,EACA,CAAC,IACD,CACE,SAAU,KACV,MAAO,+CAEP,IAEN,EAAc,CACZ,MACA,CACE,MAAO,iEAET,CACE,MACA,CAAC,MAAO,4BACR,gBAAgB,EAAK,MAAM,iBAE7B,CAAC,MAAO,CAAC,MAAO,oCAChB,CACE,EACA,CAAC,IACD,CACE,MAAO,iEAET,aAEA,ICvDD,YAA8B,EAAK,CACxC,GAAM,GAAM,EAAI,IACV,EAAmB,EAAI,MAAM,iBAAiB,QACpD,MAAO,IAAM,CACX,GAAI,GAAmB,EAAI,MAAM,iBAAiB,QAClD,MAAI,KAAqB,MACvB,GAAmB,EAAiB,OAAO,AAAC,GAAM,EAAE,SAAW,GAAmB,MAE7E,CACL,MACA,CACE,MAAO,WACP,UAAW,AAAC,GAAM,CAChB,AAAI,GAAE,MAAQ,UAAY,EAAE,MAAQ,QAClC,EAAI,SAAS,CAAC,GAAoB,SAIxC,CACE,MACA,CACE,MAAO,gDAET,CACE,EACA,CAAC,IACD,CACE,MAAO,+DAET,CACE,MACA,CAAC,MAAO,YACR,CACE,MACA,CACE,MAAO,GAAoB,EAAiB,OAAS,qIAAuI,kHAGhM,CAAC,MAAO,MAGZ,EAAmB,CACjB,EACA,CAAC,IACD,CACE,SAAU,KACV,MAAO,+CAEP,IAEN,EAAmB,CACjB,MACA,CACE,MAAO,sEAET,CACE,MACA,CAAC,MAAO,4BACR,iBAEF,CAAC,MAAO,CAAC,MAAO,oCAChB,GAAoB,EAAiB,OAAS,EAAiB,IAAI,AAAC,GAAM,CACxE,EACA,CACE,GACA,CACE,GAAI,EAAE,SACN,KAAM,IAAI,EAAG,OAAQ,YAGzB,CACE,MAAO,oFAET,EAAE,WACC,CACH,MACA,CACE,MAAO,yFAET,oBAEA,KChFH,YAAa,EAAK,CACvB,GAAM,GAAY,EAAI,MAAM,UAAU,QAChC,EAAO,EAAI,MAAM,KAAK,QACtB,EAAK,EAAI,GAAG,IAClB,MAAO,CACL,MACA,CACE,MAAO,gEAET,CACE,MACA,CAAC,MAAO,sDACR,CAAC,GAAkB,CAAC,MAAO,kBAAmB,IAC9C,CACE,MACA,CAAC,MAAO,2CACR,CACE,EACA,CAAC,IACD,CAAC,MAAO,mBACR,CACE,MACA,CAAC,MAAO,2BACR,EAAY,GAAQ,KAGxB,EAAK,MAAQ,CACX,MACA,CAAC,MAAO,iBACR,CACE,MACA,CAAC,MAAO,oCACR,IAEF,CACE,MACA,CAAC,MAAO,wBACR,KAEA,KAGR,GACA,CACE,MACA,EAAY,EAAG,MAAM,KAAO,EAAG,MAAM,MACrC,CACE,GACA,GAAU,GACV,KACA,EAAG,KACH,CACE,MACA,CACE,MAAO,uDAET,CAAC,MAAO,CAAC,MAAO,WAAY,IAC5B,CAAC,MAAO,SAGZ,EAAK,MAAQ,CACX,MACA,CAAC,MAAO,yBACR,CACE,MACA,CAAC,MAAO,+BACR,IAEF,CACE,MACA,CAAC,MAAO,+BACR,KAEA,CACF,GACA,GAAQ,GACR,KACA,EAAG,KACH,CACE,MACA,CACE,MAAO,yDAET,CAAC,MAAO,CAAC,MAAO,gBAAiB,IACjC,CAAC,MAAO,eCzFX,YAAgB,EAAK,CAC1B,GAAM,GAAK,EAAI,GAAG,OACZ,EAAa,CACjB,CAAC,GAAO,SACR,CAAC,GAAS,WACV,CAAC,GAAK,OACN,CAAC,GAAQ,WAEX,MAAO,CACL,SACA,CACE,MAAO,+EAET,CACE,MACA,CAAC,MAAO,0DACR,CACE,GACA,CAAC,MAAO,kBACR,CAAC,MAAO,IAAI,EAAG,MAAO,GAAS,GAAQ,OAAQ,UAEjD,CACE,GACA,CAAC,MAAO,0BACR,iCACA,CAAC,MAAO,IAAI,EAAG,MAAO,GAAS,GAAQ,OAAQ,UAEjD,CAAC,MAAO,EAAG,UAAW,KAAK,GAAI,QAAO,0BAExC,CACE,MACA,CAAC,MAAO,iBACR,EAAW,IAAI,AAAC,GAAM,CACpB,GACA,EAAE,GAAG,GACL,KACA,EAAG,KACH,CACE,MACA,CACE,MAAO,uDAET,CAAC,MAAO,EAAE,SC9Cb,YAAe,EAAG,EAAS,CAChC,MAAO,CACL,MACA,CAAC,MAAO,oBACR,CACE,MACA,CACE,MAAO,yDAET,CACE,MACA,CACE,MAAO,sFAET,KCDR,GAAM,IAAuB,GACtB,QAAU,CACf,YAAY,EAAQ,CAClB,KAAK,OAAS,EACd,KAAK,MAAQ,GAAI,IAAK,EAAO,cAAgB,IAC7C,KAAK,IAAM,CACT,IAAK,GAAI,IAAS,KAAK,MAAO,EAAO,OAAQ,EAAO,SACpD,MAAO,GACP,GAAI,EAAO,IAEb,KAAK,SAAS,KAAK,OAAO,OAC1B,KAAK,OAAS,GAAI,IAAW,EAAO,QACpC,KAAK,OAAO,YAAY,GAAqB,AAAC,GAAM,KAAK,IAAI,IAAI,SAAS,CAAC,GAAqB,EAAE,SAClG,KAAK,IAAI,IAAI,YAAY,EACtB,IAAsB,GAAY,UAC/B,GAAW,CAAC,EAAG,CAAC,EAAI,KAAY,GAC9B,IAAW,MAGnB,KAAK,IAAI,IAAI,UAAa,GAAU,CAAC,CAAC,EAAI,KAAY,KAAK,OAAO,QAAQ,KAAK,OAAO,OAAO,EAAI,KAC7F,IAAO,KAAQ,eACjB,KAAK,IAAI,IAAI,eAAe,CAAC,KAE/B,KAAK,SAAS,CACZ,MAAO,QACP,eAAgB,CACd,WACA,AAAC,GAAQ,MAAK,OAAO,WAAW,IAAQ,KAAM,CAAC,MAAO,gCAAgC,OAAQ,KAAK,QAIzG,SAAS,EAAO,CACd,GAAM,GAAQ,KAAK,IAAI,MACvB,OAAW,KAAM,GAAO,CACtB,GAAM,GAAO,EAAM,GACnB,EAAM,GAAM,EAAQ,GAAQ,GAAc,KAAK,MAAO,EAAK,GAAI,EAAK,IAAM,GAAc,KAAK,MAAO,IAGxG,OAAQ,CACN,KAAK,OAAO,QACZ,KAAK,IAAI,IAAI,SAAS,CAAI,KAC1B,GAAM,IAAM,CACV,GAAI,KAAK,IAAI,IAAI,eACf,MAAO,MAAK,iBAEb,CAAC,KAAM,KAAK,OAAO,QAAS,IAAK,KAAK,MAE3C,eAAgB,CACd,GAAM,GAAQ,KAAK,IAAI,MAAM,MAAM,QAC7B,EAAK,KAAK,IAAI,GACpB,MAAO,CACL,MACA,EAAG,KACH,CACE,MACA,CAAC,MAAO,iBACR,CACE,MACA,CAAC,MAAO,qCACR,GACA,CAAC,GAAO,KAAK,IAAI,MAAM,gBACvB,IAEF,IAAO,KAAQ,cAAgB,CAAC,GAAgB,EAAO,KAAK,IAAI,MAAM,MAAQ,OC1EtF,GAAI,IAAI,IAAQ",
  "names": []
}
