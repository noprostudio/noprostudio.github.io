(function () {function Ce(a){return a&&a.__esModule?{d:a.default}:{d:a}}var De=function(){return De=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},De.apply(this,arguments)};function Kb(t,e,r,o){var n,a=arguments.length,$=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(t,e,r,o);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&($=(a<3?n($):a>3?n(e,r,$):n(e,r))||$);return a>3&&$&&Object.defineProperty(e,r,$),$}var a=Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]};function Lb(t){return this instanceof Lb?(this.v=t,this):new Lb(t)}var b=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};const Ee=e=>null!=e&&"function"==typeof e.deref;const Ea=e=>Ee(e)?e.deref():e;var Fe,Mb;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(Mb||(Fe=Mb={},Fe));const da=Symbol();const ta=()=>{};const Ge="*";const bb=(()=>{try{return!1}catch(r){}return!1})()?(r,t="assertion failed")=>{if("function"==typeof r&&!r()||!r)throw new Error("function"==typeof t?t():t)}:ta;const He=Object.freeze({level:Mb.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});const Nb=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function i(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let p of r)Object.defineProperty(i,p,{value:t[p],enumerable:t.propertyIsEnumerable(p)});return Object.defineProperty(i,Symbol.hasInstance,{value:e=>!!e[n]}),i};const Ob=(e,t)=>{if(e)for(let i,r=0,s=e.length;r<s;r++)if((i=e[r])[0].call(i[1],t),t.canceled)return};const Ie=Nb({addListener(e,t,i){let r=(this._listeners=this._listeners||{})[e];return!r&&(r=this._listeners[e]=[]),-1===this.__listener(r,t,i)&&(r.push([t,i]),!0)},removeListener(e,t,i){let r;if(!(r=this._listeners))return!1;const s=r[e];if(s){const n=this.__listener(s,t,i);if(-1!==n)return s.splice(n,1),!s.length&&delete r[e],!0}return!1},notify(e){let t;if(!(t=this._listeners))return!1;void 0===e.target&&(e.target=this),Ob(t[e.id],e),Ob(t[Ge],e)},__listener(e,t,i){let r=e.length;for(;--r>=0;){const s=e[r];if(s[0]===t&&s[1]===i)break}return r}});const Je=Nb({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const i=this._watches;for(let h in i)i[h](h,t,e)}});const cb=(r,o=r=>void 0!==r?": "+r:"")=>class extends Error{constructor(s){super(r(s)+o(s))}};const Ke=cb(()=>"illegal argument(s)");const Fa=r=>{throw new Ke(r)};const Le=cb(()=>"illegal arity");const ua=r=>{throw new Le(r)};const Me=cb(()=>"illegal state");const Pb=r=>{throw new Me(r)};const db=o=>"function"==typeof o;const la=(n,t)=>null!=n&&"function"==typeof n[t];const Ne=$=>/^[0-9]+$/.test($);const Y=Array.isArray;const Oe=t=>null!=t&&"function"!=typeof t&&void 0!==t.length;const ea=t=>"string"==typeof t;const Qb=e=>null!=e&&"function"==typeof e[Symbol.iterator];const Rb=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const Sb=Object.getPrototypeOf,Pe=$=>{let r;return null!=$&&"object"==typeof $&&(null===(r=Sb($))||null===Sb(r))};const Qe=s=>s instanceof Promise;const Re=r=>r&&(r instanceof Float32Array||r instanceof Float64Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Int8Array||r instanceof Uint16Array||r instanceof Int16Array||r instanceof Uint8ClampedArray);const eb=o=>Y(o)?o:ea(o)?o.length>0?o.split("."):[]:null!=o?[o]:[];const Se=e=>fb(e);function fb(e){const t=eb(e),[r,l,n,$]=t;switch(t.length){case 0:return e=>e;case 1:return e=>null!=e?e[r]:void 0;case 2:return e=>null!=e&&null!=(e=e[r])?e[l]:void 0;case 3:return e=>null!=e&&null!=(e=e[r])&&null!=(e=e[l])?e[n]:void 0;case 4:return e=>null!=e&&null!=(e=e[r])&&null!=(e=e[l])&&null!=(e=e[n])?e[$]:void 0;default:return e=>{const r=t.length-1;let l=e;for(let n=0;null!=l&&n<=r;n++)l=l[t[n]];return l};}}const Te=$=>Ga($);function Ga($){const e=eb($),[t,r,o,p]=e;switch(e.length){case 0:return($,e)=>e;case 1:return($,e)=>($=R($),$[t]=e,$);case 2:return($,e)=>{let o;return($=R($))[t]=o=R($[t]),o[r]=e,$};case 3:return($,e)=>{let p,c;return($=R($))[t]=p=R($[t]),p[r]=c=R(p[r]),c[o]=e,$};case 4:return($,e)=>{let c,C,G;return($=R($))[t]=c=R($[t]),c[r]=C=R(c[r]),C[o]=G=R(C[o]),G[p]=e,$};default:let $;for(let t=e.length;--t>=0;)$=Ue(e[t],$);return $;}}const R=$=>Y($)||Re($)?$.slice():Object.assign({},$);const Ue=($,e)=>(t,r)=>(t=R(t),t[$]=e?e(t[$],r):r,t);const Ha=(e,$,t,...r)=>Ve(e,$,t,...r);function Ve(e,$,t,...r){return Ga($)(e,t.apply(null,(r.unshift(fb($)(e)),r)))}const gb=(e,$,t)=>Ga($)(e,t);const We=(e,$)=>Xe(e,$);function Xe(e,$){const r=fb(e),t=Ga(e);return(e,...a)=>t(e,$.apply(null,(a.unshift(r(e)),a)))}let hb=class{constructor(e,t){t&&!t(e)&&Pb("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(gb(this._value,e,t))}resetInUnsafe(e,t){return this.reset(gb(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(Ha(this._value,e,t,...r))}swapInUnsafe(e,t,...r){return this.reset(Ha(this._value,e,t,...r))}addWatch(e,t){}removeWatch(e){}notifyWatches(e,t){}release(){return delete this._watches,delete this._value,!0}};hb=Kb([Je],hb);let Ye=0;const Ze=()=>Ye++;const Tb=Object.getPrototypeOf({}),W=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==Tb||null!=($=Object.getPrototypeOf(t))&&$!==Tb?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Ub(e,t):e instanceof Set&&t instanceof Set?Vb(e,t):e instanceof Map&&t instanceof Map?Wb(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:Xb(e,t)))};const Ub=(e,t,$=W)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const Vb=(e,t,$=W)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const Wb=(e,t,$=W)=>e.size===t.size&&$([...e].sort(),[...t].sort());const Xb=(e,t,$=W)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};function Yb(t,e,i,s,r){return new $e(t,e,i,s,r)}class $e{constructor(t,e,i,s=!0,r=W){this.parent=t,this.id=`view-${Ze()}`,this.tx=i||(t=>t),this.path=eb(e),this.isDirty=!0,this.isLazy=s;const $=Se(this.path),h=this.parent.deref();this.unprocessed=h?$(h):void 0,s||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,e,i)=>{const h=e?$(e):e,o=i?$(i):i;r(o,h)||(s?this.unprocessed=o:this.state=this.tx(o),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}let ib,jb;var _e,S;(function($){$[$.ONLY_DISTANCE=0]="ONLY_DISTANCE",$[$.ONLY_DISTANCE_LINEAR=1]="ONLY_DISTANCE_LINEAR",$[$.ONLY_DISTANCE_LINEAR_ONLY_CHANGES=2]="ONLY_DISTANCE_LINEAR_ONLY_CHANGES",$[$.FULL=3]="FULL"})(S||(_e=S={},_e));let af=[],bf=[];const cf=r=>ib&&ib.length>=r?ib:ib=new Int32Array(r),df=r=>jb&&jb.length>=r?jb:jb=new Int32Array(r);const Zb=(r,$,e,a,t)=>{const c=$.length,l=r.linear;if(r.distance=c,t!==S.ONLY_DISTANCE){for(let r=0,e=0;r<c;r++,e+=3)l[e]=a,l[e+1]=r,l[e+2]=$[r];if(t===S.FULL){const a=r[e];for(let r=0;r<c;r++)a[r]=$[r]}}return r},ef=(r,$,e=S.FULL,a=W)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if(r===$||null==r&&null==$)return t;if(null==r||0===r.length)return Zb(t,$,"adds",1,e);if(null==$||0===$.length)return Zb(t,r,"dels",-1,e);const c=r.length>=$.length;let l,h,n,o;c?(l=$,h=r):(l=r,h=$),n=l.length,o=h.length;const d=n+1,i=o-n,s=i+d,z=n+o+3,J=df(z).fill(-1,0,z),f=cf(z).fill(-1,0,z),v=af,p=bf,u=(r,$,e)=>{let t,c;$>e?(t=J[r-1],c=$):(t=J[r+1],c=e);let i=c-(r-d);for(;i<n&&c<o&&a(l[i],h[c]);)i++,c++;J[r]=p.length/3,p.push(i,c,t),f[r]=c};let P,_=-1;do{for(P=-++_+d;P<s;P++)u(P,f[P-1]+1,f[P+1]);for(P=s+_;P>s;P--)u(P,f[P-1]+1,f[P+1]);u(s,f[s-1]+1,f[s+1])}while(f[s]!==o);if(t.distance=i+2*_,e!==S.ONLY_DISTANCE){for(_=3*J[s];_>=0;)v.push(_),_=3*p[_+2];e===S.FULL?ff(v,p,t,l,h,c):gf(v,p,t,l,h,c,e===S.ONLY_DISTANCE_LINEAR)}return v.length=0,p.length=0,t};const ff=(r,$,e,a,t,c)=>{const l=e.linear,h=e.const;let n,o,d,i,s=r.length,z=0,J=0;for(c?(n=e.dels,o=e.adds,d=-1,i=1):(n=e.adds,o=e.dels,d=1,i=-1);--s>=0;){const e=r[s],c=$[e],f=$[e+1],v=f-c;for(;z<c||J<f;){const r=J-z;v>r?(l.push(d,J,n[J]=t[J]),J++):v<r?(l.push(i,z,o[z]=a[z]),z++):(l.push(0,z,h[z]=a[z]),z++,J++)}}},gf=(r,$,e,a,t,c,l)=>{const h=e.linear,n=c?-1:1,o=c?1:-1;let d=r.length,i=0,s=0;for(;--d>=0;){const e=r[d],c=$[e],z=$[e+1],J=z-c;for(;i<c||s<z;){const r=s-i;J>r?(h.push(n,s,t[s]),s++):J<r?(h.push(o,i,a[i]),i++):(l&&h.push(0,i,a[i]),i++,s++)}}};const hf=(t,$,e=S.FULL,i=W)=>t===$?{distance:0}:e===S.ONLY_DISTANCE?jf(t,$,i):kf(t,$,i);const jf=(t,$,e)=>{t||(t={}),$||($={});let i=0;for(let r in t){const f=$[r];(void 0===f||!e(t[r],f))&&i++}for(let r in $)!(r in t)&&i++;return{distance:i}},kf=(t,$,e)=>{t||(t={}),$||($={});let i=0;const r=[],f=[],o=[];for(let O in t){const r=$[O];void 0===r?(f.push(O),i++):e(t[O],r)||(o.push(O,r),i++)}for(let O in $)O in t||(r.push(O),i++);return{distance:i,adds:r,dels:f,edits:o}};const Ia=Array.isArray,lf=Math.max,$b=Object.getPrototypeOf({}),_b=(()=>{const e=new Array(2048);for(let t=2,$=e.length;t<$;t++)e[t]=t-2;return e})(),mf=e=>{if(e<=_b.length)return _b.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},ac=(e,t,$,r,i,o=0)=>{const n=i[1];if(n.__skip)return;if(!1===n.__diff)return va(r),void t.replaceChild(e,$,o,i);const f=r[1];if(f&&f.__skip)return void t.replaceChild(e,$,o,i,!1);let s=n.__impl;if(s&&s!==t)return s.diffTree(e,s,$,r,i,o);const a=ef(r,i,S.ONLY_DISTANCE_LINEAR,wa);if(0===a.distance)return;const h=a.linear,T=t.getChild($,o);let l,p,K,Q;if(0!==h[0]||r[1].key!==n.key)return va(r),void t.replaceChild(e,$,o,i);if((Q=r.__release)&&Q!==i.__release&&va(r),0!==h[3]&&(rf(t,T,r[1],i[1]),2===a.distance))return;const v=h.length,d=r.length-1,u=sf(h),c=mf(d+1);for(l=2,p=6;p<v;l++,p+=3)(K=h[p])&&(-1===K?nf(e,t,T,r,i,h,p,u,c,d):of(e,t,T,h,p,u,c,d));(Q=i.__init)&&Q!=r.__init&&Q.apply(i,[T,...i.__args])};const nf=(e,t,$,r,i,o,n,f,s,a)=>{const h=o[n+2];if(Ia(h)){let T=h[1].key;if(void 0!==T&&void 0!==f[T][2]){const o=f[T];T=o[0],ac(e,t,$,r[T],i[o[2]],s[T])}else{const e=o[n+1];va(h),t.removeChild($,s[e]),pf(s,a,e)}}else"string"==typeof h&&t.setContent($,"")},of=(e,t,$,r,i,o,n,f)=>{const s=r[i+2];if("string"==typeof s)t.setContent($,s);else if(Ia(s)){const a=s[1].key;if(void 0===a||void 0===o[a][0]){const o=r[i+1];t.createTree(e,$,s,n[o]),qf(n,f,o)}}},pf=(e,t,$)=>{for(;t>$;t--)e[t]=lf(e[t]-1,0)},qf=(e,t,$)=>{for(;t>=$;t--)e[t]++},rf=(e,t,$,r)=>{const i=hf($,r,S.FULL,W);e.removeAttribs(t,i.dels,$);let o,n,f,s=da;for(o=(f=i.edits).length;(o-=2)>=0;)"o"===(n=f[o])[0]&&"n"===n[1]&&e.removeAttribs(t,[n],$),"value"!==n?e.setAttrib(t,n,f[o+1],r):s=f[o+1];for(o=(f=i.adds).length;--o>=0;)"value"!==(n=f[o])?e.setAttrib(t,n,r[n],r):s=r[n];s!==da&&e.setAttrib(t,"value",s,r)};const va=e=>{if(Ia(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)va(e[t])}};const sf=e=>{let t,$,r;const i={};for(let o=e.length;(o-=3)>=0;)$=e[o+2],Ia($)&&void 0!==(t=$[1].key)&&(!(r=i[t])&&(i[t]=r=[,,]),r[e[o]+1]=e[o+1]);return i},wa=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==$b||null!=($=Object.getPrototypeOf(t))&&$!==$b?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?Ub(e,t,wa):e instanceof Set&&t instanceof Set?Vb(e,t,wa):e instanceof Map&&t instanceof Map?Wb(e,t,wa):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&Xb(e,t,wa)))};const tf={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const uf=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const c=new RegExp(`[${Object.keys(tf).join("")}]`,"g");const vf={button:1,option:1,script:1,style:1,text:1,textarea:1,title:1};const kb=e=>e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),wf=kb("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");const d=kb("area base br col command embed hr img input keygen link meta param source stop track use wbr ?xml");const e=kb("animate circle ellipse line path polygon polyline rect");const bc=(e,r)=>{if(null==(r=Ea(r)))return e;if(ea(r))return e+" "+r;const $=new Set(e.split(" "));for(let t in r)Ea(r[t])?$.add(t):$.delete(t);return[...$].join(" ")};const xf=(e,r,$)=>{r&&(e.id=r);let t=Ea(e.class);return $?($=$.replace(/\./g," "),e.class=t?bc($,t):$):t&&(e.class=ea(t)?t:bc("",t)),e};const yf=$=>{let t,r="";for(let e in $)t=Ea($[e]),db(t)&&(t=t($)),null!=t&&(r+=`${e}:${t};`);return r};const zf=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];la(e,"deref")&&(r[n]=e.deref())}return r};const Af=e=>Object.keys(e).reduce((r,$)=>(r.push(`${$}: ${e[$]}`),r),[]).join(" ");const Bf="http://www.w3.org/2000/svg";const Ja=Y,cc=Rb,dc=ea,ec=(e,t)=>t.__init&&t.__init.apply(t.__this,[e,...t.__args]),Ka=(e,t,r,s,$,n=!0)=>{if(Ja(s)){const o=s[0];if("function"==typeof o)return Ka(e,t,r,o.apply(null,[e.ctx,...s.slice(1)]),$);const i=s[1];if(i.__impl)return i.__impl.createTree(e,r,s,$,n);const a=t.createElement(r,o,i,$);if(s.length>2){const r=s.length;for(let $=2;$<r;$++)Ka(e,t,a,s[$],void 0,n)}return n&&ec(a,s),a}if(cc(s)){const o=[];for(let i of s)o.push(Ka(e,t,r,i,$,n));return o}return null==s?r:t.createTextElement(r,s)};const La=(e,t,r,s,$=0)=>{if(Ja(s)){const n=t.getChild(r,$);"function"==typeof s[0]&&La(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),$);const o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,r,s,$);ec(n,s);for(let e in o)"o"===e[0]&&"n"===e[1]&&t.setAttrib(n,e,o[e]);for(let r=s.length,$=2;$<r;$++)La(e,t,n,s[$],$-2)}else if(cc(s))for(let n of s)La(e,t,r,n,$),$++};const Cf=(e,t,r,s)=>{const $=wf[t]?document.createElementNS(Bf,t):document.createElement(t);return r&&Hf($,r),fc(e,$,s)};const Df=(e,t,r)=>fc(e,document.createTextNode(t),r);const fc=(e,t,r)=>e?void 0===r?e.appendChild(t):e.insertBefore(t,e.children[r]):t;const Ef=(e,t)=>e.children[t];const Ff=(e,t,r,s,$,n=!0)=>(t.removeChild(r,s),t.createTree(e,r,$,s,n));const Gf=(e,t)=>e.textContent=t;const Hf=(e,t)=>{for(let r in t)gc(e,r,t[r],t);return e};const gc=(e,t,r,s)=>{if(t.startsWith("__"))return;const $="o"===t[0]&&"n"===t[1];if($||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":Kf(e,r);break;case"value":If(e,r);break;case"prefix":e.setAttribute(t,dc(r)?r:Af(r));break;case"accesskey":e.accessKey=r;break;case"contenteditable":e.contentEditable=r;break;case"tabindex":e.tabIndex=r;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":e[t]=r;break;default:$?Lf(e,t.substr(2),r):e.setAttribute(t,!0===r?"":r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const If=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-(e.selectionStart||0));e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const Jf=(e,t,r)=>{for(let s=t.length;--s>=0;){const $=t[s];"o"===$[0]&&"n"===$[1]?Mf(e,$.substr(2),r[$]):e.hasAttribute($)?e.removeAttribute($):e[$]=null}};const Kf=(e,t)=>(e.setAttribute("style",yf(t)),e);const Lf=(e,t,r)=>dc(r)?e.setAttribute("on"+t,r):Ja(r)?e.addEventListener(t,...r):e.addEventListener(t,r);const Mf=(e,t,r)=>Ja(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r);const Nf=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const Ma=Y,Of=Rb,Pf=Pe,Qf=(e,r)=>{let $,i,t,n=e[0],o=Pf(e[1]);return"string"==typeof n&&($=uf.exec(n))||Fa(`${n} is not a valid tag name`),n!==(i=$[1])||!o||r&&!e[1].key?(t=xf(o?Object.assign({},e[1]):{},$[2],$[3])).__skip&&e.length<3?[i,t]:[i,t,...e.slice(o?2:1)]:e};const Rf=(e,r)=>fa(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const fa=(e,r,$,i,t,n)=>{if(null!=e){if(Ma(e)){if(0===e.length)return;let o,a,l=e[1];if(l&&(a=l.__impl)&&(a=a.normalizeTree))return a(r,e);const x=e[0];if("function"==typeof x)return fa(x.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof x.render){const a=[$,...e.slice(1)];return o=fa(x.render.apply(x,a),r,$,i,t,n),Ma(o)&&(o.__this=x,o.__init=x.init,o.__release=x.release,o.__args=a),o}return!1===(l=(o=Qf(e,t))[1]).__normalize?o:(t&&void 0===l.key&&(l.key=i.join("-")),o.length>2?Sf(o,l,r,$,i,t,n):o)}return"function"==typeof e?fa(e($),r,$,i,t,n):"function"==typeof e.toHiccup?fa(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?fa(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}},Sf=(e,r,$,i,t,n,o)=>{const a=e[0],l=[a,r];o=o&&!vf[a];for(let x=2,s=2,C=0,U=e.length;x<U;x++){let r=e[x];if(null!=r){const e=Ma(r);if(e&&Ma(r[0])||!e&&Of(r))for(let a of r)void 0!==(a=fa(a,$,i,t.concat(C),n,o))&&(l[s++]=a),C++;else void 0!==(r=fa(r,$,i,t.concat(C),n,o))&&(l[s++]=r),C++}}return l};const Tf={createTree(e,t,r,$,i){return Ka(e,this,t,r,$,i)},hydrateTree(e,t,r,$){return La(e,this,t,r,$)},diffTree(e,t,r,$,i){ac(e,this,t,r,$,i)},normalizeTree:Rf,getElementById:e=>document.getElementById(e),getChild:Ef,createElement:Cf,createTextElement:Df,replaceChild(e,t,r,$,i){Ff(e,this,t,r,$,i)},removeChild:Nf,setContent:Gf,removeAttribs:Jf,setAttrib:gc};const Uf=(e,o)=>ea(e)?o.getElementById(e):e;const Vf=(e,r={},t=Tf)=>{const a=Object.assign({root:"app"},r);let $=[],n=!0;const o=Uf(a.root,t),i=()=>{if(n){a.ctx=zf(r.ctx,a.autoDerefKeys);const f=t.normalizeTree(a,e);null!=f&&(a.hydrate?(t.hydrateTree(a,o,f),a.hydrate=!1):t.diffTree(a,o,$,f),$=f),n&&requestAnimationFrame(i)}};return requestAnimationFrame(i),()=>n=!1};const E="--set-value";const ga="--update-value";const Wf="--toggle-value";const lb="--cancel";const Xf="--dispatch";const B="--dispatch-async";const g="--dispatch-now";const hc="--delay";const Yf="--fetch";const N="--state";const Zf="--redo";const $f="--undo";let ma=He;class _f{constructor(t,e){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),t&&this.addHandlers(t),e&&this.addEffects(e)}addBuiltIns(){this.addEffects({[Xf]:[t=>this.dispatch(t),-999],[B]:[([t,e,r,s],i,$)=>{const o=this.effects[t];if(o){const t=o(e,i,$);Qe(t)?t.then(t=>this.dispatch([r,t])).catch(t=>this.dispatch([s,t])):ma.warn("async effect did not return Promise")}else ma.warn(`skipping invalid async effect: ${t}`)},-999],[hc]:[([t,e])=>new Promise(r=>setTimeout(()=>r(e),t)),1e3],[Yf]:[t=>fetch(t).then(t=>{if(!t.ok)throw new Error(t.statusText);return t}),1e3]})}addHandler(t,e){const r=this.interceptorsFromSpec(e);r.length>0?(this.handlers[t]&&(this.removeHandler(t),ma.warn(`overriding handler for ID: ${t}`)),this.handlers[t]=r):Fa(`no handlers in spec for ID: ${t}`)}addHandlers(t){for(let e in t)this.addHandler(e,t[e])}addEffect(t,e,r=1){this.effects[t]&&(this.removeEffect(t),ma.warn(`overriding effect for ID: ${t}`)),this.effects[t]=e;const s=[t,r],i=this.priorities;for(let $=0;$<i.length;$++)if(s[1]<i[$][1])return void i.splice($,0,s);i.push(s)}addEffects(t){for(let e in t){const r=t[e];Y(r)?this.addEffect(e,r[0],r[1]):this.addEffect(e,r)}}instrumentWith(t,e){const r=t.map(ic),s=this.handlers;for(let i of e||Object.keys(s)){const t=s[i];t&&(s[i]=r.concat(t))}}removeHandler(t){delete this.handlers[t]}removeHandlers(t){for(let e of t)this.removeHandler(e)}removeEffect(t){delete this.effects[t];const e=this.priorities;for(let r=e.length-1;r>=0;r--)if(t===e[r][0])return void e.splice(r,1)}removeEffects(t){for(let e of t)this.removeEffect(e)}context(){return this.currCtx}dispatch(...t){this.eventQueue.push(...t)}dispatchNow(...t){(this.currQueue||this.eventQueue).push(...t)}dispatchLater(t,e=17){setTimeout(()=>this.dispatch(t),e)}processQueue(t){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=t||{};for(let e of this.currQueue)this.processEvent(t,e);return this.currQueue=this.currCtx=void 0,this.processEffects(t),!0}return!1}processEvent(t,e){const r=this.handlers[e[0]];r?this.processForward(t,r,e)&&this.processReverse(t,r,e):ma.warn(`missing handler for event type: ${e[0].toString()}`)}processForward(t,e,r){let s=!1;for(let i=0,$=e.length;i<$&&!t[lb];i++){const $=e[i];$.pre&&this.mergeEffects(t,$.pre(t[N],r,this,t)),s=s||!!$.post}return s}processReverse(t,e,r){for(let s=e.length;--s>=0&&!t[lb];){const i=e[s];i.post&&this.mergeEffects(t,i.post(t[N],r,this,t))}}processEffects(t){const e=this.effects;for(let r of this.priorities){const s=r[0],i=t[s];void 0!==i&&this.processEffect(t,e,s,i)}}processEffect(t,e,r,s){const i=e[r];if(r!==N)for(let $ of s)i($,this,t);else i(s,this,t)}mergeEffects(t,e){if(e)for(let r in e){const s=e[r];if(null!=s)if(r===N||r===lb)t[r]=s;else if(r===g){if(Y(s[0]))for(let t of s)t&&this.dispatchNow(t);else this.dispatchNow(s);}else if(t[r]||(t[r]=[]),Y(s[0]))for(let e of s)void 0!==e&&t[r].push(e);else t[r].push(s)}}interceptorsFromSpec(t){return Y(t)?t.map(ic):db(t)?[{pre:t}]:[t]}}class ag extends _f{constructor(t,e,r){super(e,r),this.state=t||new hb({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[E]:(t,[e,[r,s]])=>({[N]:gb(t,r,s)}),[ga]:(t,[e,[r,s,...i]])=>({[N]:Ha(t,r,s,...i)}),[Wf]:(t,[e,r])=>({[N]:Ha(t,r,t=>!t)}),[$f]:jc("undo"),[Zf]:jc("redo")}),this.addEffects({[N]:[t=>this.state.reset(t),-1e3]})}processQueue(t){if(this.eventQueue.length>0){const e=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=Object.assign(Object.assign({},t),{[N]:e});for(let r of this.currQueue)this.processEvent(t,r);return this.currQueue=this.currCtx=void 0,this.processEffects(t),this.state.deref()!==e}return!1}}const ic=t=>db(t)?{pre:t}:t,jc=t=>(e,[r,s],i,$)=>{const o=s?s[0]:"history";if(la($[o],t)){const e=$[o][t]();return{[N]:i.state.deref(),[g]:s?void 0!==e?s[1]:s[2]:void 0}}ma.warn("no history in context")};const bg=(e,$)=>console.log("event:",$);const cg=(e,$)=>{const t=Te(e);return(e,[r,o])=>({[N]:t(e,$?$(o):o)})};const V=(e,$)=>{const t=We(e,$);return(e,[$,...r])=>({[N]:t(e,...r)})};const xa="route-changed";let kc=class{constructor(t){if(t.authenticator=t.authenticator||((t,i,r)=>({id:t.id,title:t.title,params:r})),t.prefix=void 0===t.prefix?"/":t.prefix,t.separator=t.separator||"/",this.config=t,bb(void 0!==this.routeForID(this.config.defaultRouteID),`missing config for default route: '${this.config.defaultRouteID}'`),t.initialRouteID){const i=this.routeForID(t.initialRouteID);bb(void 0!==i,`missing config for initial route: ${this.config.initialRouteID}`),bb(!dg(i),"initial route MUST not be parametric")}}addListener(t,i,r){}removeListener(t,i,r){}notify(t){}start(){if(this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:xa,value:this.current})}}route(t){"#"===t.charAt(0)&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);let i=this.matchRoutes(t);if(!i){if(!this.handleRouteFailure())return;const t=this.routeForID(this.config.defaultRouteID);i={id:t.id,title:t.title,params:{}}}return W(i,this.current)||(this.current=i,this.notify({id:xa,value:i})),i}format(...t){let i,[r,e,o]=t;switch(t.length){case 3:i={id:r,params:e};break;case 2:ea(r)?i={id:r,params:e}:(o=e,i=r);break;case 1:i=ea(r)?{id:r}:r;break;default:ua(t.length);}const a=this.routeForID(i.id);if(a){const t=i.params||{};return(o?"#":"")+this.config.prefix+a.match.map(i=>"?"===i.charAt(0)?null!=(i=t[i.substr(1)])?i:"NULL":i).join(this.config.separator)}Fa(`invalid route ID: ${i.id}`)}routeForID(t){return this.config.routes.find(i=>i.id===t)}matchRoutes(t){const i=this.config.routes,r=t.split(this.config.separator);for(let e=0,o=i.length;e<o;e++){const t=this.matchRoute(r,i[e]);if(t)return t}}matchRoute(t,i){const r=i.match,e=r.length;if(t.length===e){const o={};for(let i=0;i<e;i++){const e=r[i];if("?"===e.charAt(0))o[e.substr(1)]=t[i];else if(t[i]!==e)return}if(i.validate&&!this.validateRouteParams(o,i.validate))return;return i.auth?this.config.authenticator(i,t,o):{id:i.id,title:i.title,params:o}}}validateRouteParams(t,i){for(let r in i)if(void 0!==t[r]){const e=i[r];if(e.coerce&&(t[r]=e.coerce(t[r])),e.check&&!e.check(t[r]))return!1}return!0}handleRouteFailure(){return!0}};kc=Kb([Ie],kc);const dg=t=>t.match.some(t=>"?"===t.charAt(0));class eg extends kc{constructor(t){super(t),this.useFragment=!1!==t.useFragment,this.ignoreHashChange=!1}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,e=!0){const i=this.current,r=super.route(t);return r&&!W(r,i)&&(this.currentPath=this.format(r),e&&history.pushState(this.currentPath,r.title||window.document.title||"",this.currentPath)),r}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...t){let e;switch(t.length){case 2:e={id:t[0],params:t[1]};break;case 1:e=ea(t[0])?{id:t[0]}:t[0];break;default:ua(t.length);}return super.format(e,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){const e=t.newURL.substr(t.newURL.indexOf("#"));e!==this.currentPath&&this.route(e,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}}function fg(e,r,$){const n=e.ui.debug;return["div#debug",n.container,[w,[xc],n.debugToggle,r?"close\u25BC":"open\u25B2"],["pre",r?n.open:n.close,["div",{class:"flex"},["div",{class:"flex-1 bg-gray-200"},$]]]]}const lc="done";const D="error";const m="set-status";const aa="route-to";const na="route-to-entry";const mc="route-to-new-entry";const nc="route-to-edit-entry";const oc="route-to-search-entry";const pc="toggle-nav";const qc="toggle-account";const mb="close-account";const rc="toggle-notification";const nb="close-notification";const sc="toggle-delete-opinion";const Na="close-delete-opinion";const tc="toggle-report";const Oa="close-report";const ya="set-report";const uc="set-opinion-report";const vc="create-report";const wc="create-report-success";const xc="toggle-debug";const yc="set-input";const zc="get-entry";const Ac="receive-entry";const ob="get-user";const Bc="receive-user";const Cc="get-token";const Dc="receive-token";const Ec="sign-out";const Fc="sign-out-success";const Pa="set-opinion-template";const pb="set-opinion";const Gc="create-opinion";const Hc="create-opinion-success";const Qa="append-opinion";const qb="remove-opinion";const Ic="delete-opinion";const Jc="delete-opinion-success";const rb="set-temp-opinion";const Kc="edit-opinion";const Lc="cancel-edit-opinion";const Mc="update-opinion";const Nc="update-opinion-success";const Oc="set-new-entry";const Pc="set-new-entry-template";const Qc="get-wiki-new";const Rc="receive-wiki-new";const Sc="get-wiki-temp";const Tc="receive-wiki-temp";const Uc="create-entry";const Vc="create-entry-success";const Wc="update-entry";const Xc="update-entry-success";const Yc="set-temp-entry";const Zc="set-temp-entry-template";const sb="search-entry";const $c="search-entry-success";const za="route-to-search-entry-page";const _c="get-vote";const ad="receive-vote";const bd="create-vote";const cd="create-vote-success";const dd="delete-vote";const ed="delete-vote-success";const fd="append-vote";const gd="remove-vote";const tb="get-entry-w-activity";const hd="get-notification";const id="receive-notification";const jd="update-notification";const kd="update-notification-success";const ub="create-notification";const ld="create-notification-success";const md="delete-notification";const nd="delete-notification-success";const od="append-notification";const pd="remove-notification";const qd="get-new-notifications";const rd="receive-new-notifications";const sd="mark-new-notifications";const td="view-new-notifications";const Aa="toggle-vote-lock";function w(t,e,n,$){return["button",Object.assign(Object.assign({},n),{onclick:n=>{n.preventDefault(),t.bus.dispatch(e)}}),$]}function gg(e){const r=e.views.isNavOpen.deref(),i=e.views.user.deref(),$=e.ui.nav;return["nav",{class:"sm:flex sm:justify-between sm:items-center px-4 md:px-6 py-3"},["div",{class:"flex items-center justify-between px-4 py-3 sm:p-0"},hg,["div",{class:"flex items-center justify-end space-x-2"},[w,[pc],{class:"block sm:hidden"},["div",{class:"h-8 w-8 md:h-10 md:w-10"},r?rg:sg]],i.login?["div",{class:"flex flex-row"},["div",{class:"block sm:hidden z-10 self-center"},yd],["div",{class:"block sm:hidden z-10"},xd]]:[]]],kg,["div",r?$.inner.open:$.inner.close,[Bb,Ra.id,null,$.link,["div",{class:"flex flex-row items-center space-x-2 cursor-pointer"},["div",{class:"h-4 w-4"},lg],["div","New"]]],i.login?["div",{class:"flex flex-row space-x"},["div",{class:"hidden sm:block self-center"},yd],["div",{class:"hidden sm:block self-center"},xd]]:[Bb,Sa.id,null,$.link,["div",{class:"flex flex-row items-center self-center cursor-pointer"},["div",{class:"h-4 w-4 mr-2"},xg],["div","Sign_in"]]]]]}const oa={id:"about",match:["about"]};const vb={id:"contact",match:["contact"]};const wb={id:"search",match:["search","?id","?page"],validate:{id:{check:$=>""!==$},page:{check:$=>Ne($)}}};const xb={id:"entry-detail",match:["entry","?id"],validate:{id:{coerce:$=>$.toLowerCase(),check:$=>$.toLowerCase()===$}}};const Ra={id:"new-entry",match:["new_entry","?id"],validate:{id:{coerce:$=>$.toLowerCase(),check:$=>$.toLowerCase()===$}}};const yb={id:"edit-entry",match:["edit_entry","?id"],validate:{id:{coerce:$=>$.toLowerCase(),check:$=>$.toLowerCase()===$}}};const Sa={id:"sign-in",match:["sign_in"]};const ud={id:"github-oauth-cb",match:["github_oauth_cb"]};const zb={id:"faq",match:["faq"]};const Ab={id:"donate",match:["donate"]};function hg($){const o=$.ui.logo;return["div",o.container,["div",Object.assign({},o.m),Ta(vd,"40px","40px")],["div",Object.assign({},o.mxs),Ta(jg,"200px","40px")]]}const Ta=(C,L,Z)=>[C[0],Object.assign(Object.assign({},C[1]),{width:L,height:Z,fill:"currentColor"}),...C.slice(2)];const vd=["svg",{viewBox:"0 0 60 60"},["path",{d:"M53.4082031,49.7421875 L44.3017578,49.7421875 L42.2021484,34.2880859 C42.0556633,33.1975857 41.9213873,31.9850327 41.7993164,30.6503906 C41.6772455,29.3157485 41.5673833,27.8590574 41.4697266,26.2802734 C41.2418608,27.7939529 40.7942742,29.6819548 40.1269531,31.9443359 C39.980468,32.4163435 39.8746748,32.7662749 39.8095703,32.9941406 L34.9511719,49.7421875 L28.4570312,49.7421875 L23.5986328,32.9941406 C23.5335283,32.7662749 23.435873,32.4163435 23.3056641,31.9443359 C22.6220669,29.6819548 22.1744802,27.8020908 21.9628906,26.3046875 C21.8652339,27.6556057 21.7513027,28.9942968 21.6210938,30.3208008 C21.4908848,31.6473048 21.3362639,32.96972 21.1572266,34.2880859 L19.0576172,49.7421875 L10,49.7421875 L15.5175781,14 L25.1611328,14 L30.5566406,32.4326172 C30.5891929,32.5628262 30.6542964,32.7744126 30.7519531,33.0673828 C31.2565129,34.7112712 31.5738926,36.1191348 31.7041016,37.2910156 C31.7692061,36.6562468 31.8912751,35.9523151 32.0703125,35.1791992 C32.2493499,34.4060834 32.493488,33.4742893 32.8027344,32.3837891 L38.2470703,14 L47.9150391,14 L53.4082031,49.7421875 Z",id:"M"}]];const ig=["svg",{viewBox:"0 0 16 16"},["path",{d:"M14.0609 4.65755C13.435 3.58505 12.5859 2.73595 11.5135 2.11005C10.4409 1.48413 9.26999 1.17125 7.99989 1.17125C6.72994 1.17125 5.55864 1.48423 4.4863 2.11005C3.4138 2.73591 2.56476 3.58505 1.9388 4.65755C1.31295 5.73002 1 6.90116 1 8.17095C1 9.69625 1.44501 11.0678 2.33526 12.2861C3.22542 13.5044 4.37536 14.3474 5.78501 14.8153C5.94909 14.8457 6.07056 14.8243 6.14954 14.7516C6.22855 14.6787 6.26801 14.5875 6.26801 14.4782C6.26801 14.46 6.26644 14.296 6.26341 13.9861C6.26028 13.6761 6.25881 13.4057 6.25881 13.175L6.04917 13.2113C5.91551 13.2358 5.74689 13.2461 5.54331 13.2432C5.33983 13.2404 5.1286 13.219 4.90989 13.1794C4.69109 13.1401 4.48757 13.0489 4.29919 12.9062C4.11091 12.7634 3.97725 12.5764 3.89823 12.3457L3.80709 12.136C3.74634 11.9963 3.6507 11.8412 3.52004 11.6712C3.38937 11.501 3.25724 11.3856 3.12358 11.3249L3.05977 11.2792C3.01724 11.2488 2.97779 11.2122 2.9413 11.1697C2.90484 11.1273 2.87755 11.0847 2.85932 11.0421C2.84106 10.9995 2.85619 10.9646 2.90487 10.9371C2.95356 10.9097 3.04154 10.8964 3.1692 10.8964L3.35142 10.9236C3.47295 10.948 3.62328 11.0208 3.80259 11.1424C3.98181 11.2639 4.12914 11.4218 4.2446 11.6162C4.38443 11.8654 4.55289 12.0552 4.75046 12.1859C4.94788 12.3166 5.14692 12.3818 5.3474 12.3818C5.54788 12.3818 5.72103 12.3666 5.86692 12.3364C6.01265 12.306 6.14938 12.2603 6.27704 12.1996C6.33173 11.7923 6.48062 11.4794 6.72359 11.2607C6.37728 11.2243 6.06593 11.1695 5.78938 11.0966C5.51299 11.0236 5.22737 10.9052 4.93271 10.741C4.6379 10.577 4.39334 10.3733 4.19895 10.1304C4.00454 9.88734 3.84499 9.56824 3.72052 9.17337C3.59598 8.77835 3.5337 8.32268 3.5337 7.80622C3.5337 7.07086 3.77377 6.4451 4.2538 5.92858C4.02893 5.37573 4.05016 4.75597 4.31755 4.06936C4.49377 4.01461 4.75509 4.05569 5.1014 4.19236C5.44777 4.32909 5.70137 4.44621 5.86245 4.54332C6.02354 4.6404 6.15261 4.72267 6.24984 4.78939C6.81505 4.63147 7.39832 4.55249 7.99982 4.55249C8.60133 4.55249 9.18473 4.63147 9.74996 4.78939L10.0963 4.57075C10.3331 4.42486 10.6128 4.29116 10.9347 4.16963C11.2567 4.04816 11.503 4.0147 11.6732 4.06945C11.9465 4.75609 11.9709 5.37582 11.7459 5.92867C12.2259 6.4452 12.4661 7.07112 12.4661 7.80632C12.4661 8.32277 12.4036 8.77989 12.2793 9.17794C12.1548 9.57606 11.9938 9.89485 11.7964 10.135C11.5988 10.3751 11.3526 10.5771 11.058 10.7411C10.7633 10.9052 10.4776 11.0236 10.2012 11.0966C9.92465 11.1695 9.6133 11.2244 9.26699 11.2608C9.58284 11.5342 9.7408 11.9656 9.7408 12.555V14.478C9.7408 14.5872 9.77879 14.6784 9.85483 14.7513C9.93078 14.8241 10.0507 14.8455 10.2148 14.815C11.6246 14.3472 12.7746 13.5041 13.6647 12.2858C14.5547 11.0676 14.9999 9.69599 14.9999 8.17069C14.9996 6.90106 14.6865 5.73002 14.0609 4.65755Z"}]];const jg=["svg",{viewBox:"0 0 300 60"},["path",{d:"M3.28,49.4 L3.28,20.88 L8.16,20.88 L8.16,49.4 L3.28,49.4 Z M4.52,14.32 L8.16,11.84 C10.16,14.12 12.88,17.24 14.12,19.32 L10.16,22.12 C9.08,20 6.52,16.68 4.52,14.32 Z M36.88,13.44 L36.88,44.04 C36.88,46.68 36.28,47.88 34.6,48.64 C32.96,49.4 30.4,49.48 26.68,49.44 C26.48,48.16 25.8,46.16 25.12,44.96 C27.44,45.08 30.2,45.08 30.96,45.04 C31.76,45.04 32.04,44.8 32.04,44 L32.04,18 L14.6,18 L14.6,13.44 L36.88,13.44 Z M48.44,12.24 L52.8,13.56 C51.96,16.04 50.96,18.64 49.84,21.12 L49.84,49.44 L45.32,49.44 L45.32,29.44 C44.52,30.64 43.68,31.8 42.8,32.8 C42.4,31.68 41.28,28.92 40.52,27.68 C43.72,23.92 46.68,18.08 48.44,12.24 Z M56.2,23.28 L56.2,28.84 C59.04,28.12 61.6,27.16 63.84,25.88 C62.72,24.88 61.72,23.84 60.88,22.8 C60.16,23.68 59.36,24.48 58.56,25.2 C58.04,24.68 57.08,23.92 56.2,23.28 Z M70.24,19.96 L63.2,19.96 C64.2,21.24 65.48,22.52 67.04,23.64 C68.32,22.56 69.36,21.36 70.24,19.96 Z M78.2,19.96 L75.2,19.96 C74.04,22.24 72.52,24.16 70.76,25.84 C73.24,27.04 76.16,28 79.48,28.52 C78.64,29.4 77.48,31.2 76.92,32.32 C73.24,31.52 70.04,30.16 67.4,28.52 C64.72,30.28 61.64,31.64 58.28,32.64 C57.92,31.92 57,30.68 56.2,29.76 L56.2,42.8 L52.08,42.8 L52.08,17.2 L56.2,17.2 L56.2,21.44 C58.8,19 60.96,15.6 62.2,12.12 L66.52,13.12 C66.12,14.12 65.68,15.16 65.2,16.12 L78.2,16.12 L78.2,19.96 Z M71.52,34.12 L74.92,35.52 C71.76,38.96 66.44,41.36 61,42.76 C60.48,41.88 59.52,40.56 58.68,39.8 C63.68,38.76 68.88,36.76 71.52,34.12 Z M67.6,30.48 L71.08,31.92 C68.6,34.44 64.64,36.32 60.92,37.52 C60.36,36.64 59.32,35.52 58.4,34.8 C61.8,33.92 65.64,32.28 67.6,30.48 Z M74.4,38.64 L78.48,40.28 C74.32,45.16 67.24,47.84 59.08,49.32 C58.56,48.16 57.6,46.6 56.68,45.56 C64.04,44.56 70.96,42.4 74.4,38.64 Z M89.12,33.12 L89.12,35.84 L94.48,35.84 L94.48,33.12 L89.12,33.12 Z M94.48,21 L89.12,21 L89.12,23.36 L94.48,23.36 L94.48,21 Z M89.12,27 L89.12,29.48 L94.48,29.48 L94.48,27 L89.12,27 Z M101.36,35.84 L101.36,40 L81.32,40 L81.32,35.84 L84.84,35.84 L84.84,21 L81.8,21 L81.8,16.84 L84.84,16.84 L84.84,12.56 L89.12,12.56 L89.12,16.84 L94.48,16.84 L94.48,12.56 L98.84,12.56 L98.84,16.84 L101.2,16.84 L101.2,21 L98.84,21 L98.84,35.84 L101.36,35.84 Z M86.32,40.28 L90.76,41.56 C89.44,44.44 87.12,47.44 85.08,49.32 C84.24,48.52 82.4,47.16 81.32,46.52 C83.28,45 85.24,42.56 86.32,40.28 Z M118.72,25.24 L118.72,29.64 L115.28,29.64 L115.28,49.44 L110.76,49.44 L110.76,29.64 L107.08,29.64 L107.08,30.96 C107.08,38.32 106.24,44.92 101.24,50.36 C100.48,49.32 99,48.04 97.92,47.28 C98.4,46.72 98.84,46.16 99.24,45.6 L95.4,47.48 C94.76,46.04 93.24,43.72 92.04,42.08 L95.84,40.32 C97.04,41.88 98.6,43.96 99.36,45.4 C102.28,41.04 102.72,36.04 102.72,30.96 L102.72,16.44 C107.12,15.32 111.96,13.64 114.84,11.92 L118.64,15.32 C115.32,16.96 111.12,18.36 107.08,19.36 L107.08,25.24 L118.72,25.24 Z M134.88,30.8 C134.88,28 137.2,25.68 140,25.68 C142.8,25.68 145.12,28 145.12,30.8 C145.12,33.6 142.8,35.92 140,35.92 C137.2,35.92 134.88,33.6 134.88,30.8 Z M161.4,46 L161.4,16.28 L166.72,16.28 L169.08,26.04 L169.92,30.68 L170.08,30.68 L170.96,26.04 L173.28,16.28 L178.6,16.28 L178.6,46 L174.04,46 L174.04,34.32 C174.04,31.32 174.8,25.04 175.08,22.08 L174.92,22.08 L173.16,29.72 L171.2,37.4 L168.68,37.4 L166.72,29.72 L164.92,22.08 L164.76,22.08 C165.04,25.04 165.88,31.32 165.88,34.32 L165.88,46 L161.4,46 Z M191.24,46.48 C185.8,46.48 181.48,42.2 181.48,34.76 C181.48,27.48 185.84,23.04 190.52,23.04 C195.76,23.04 198.44,27.48 198.44,33.72 C198.44,34.8 198.32,35.92 198.24,36.48 L187.24,36.48 C187.6,40.12 189.4,42 192,42 C193.36,42 194.44,41.6 195.64,40.88 L197.64,44.44 C195.84,45.76 193.56,46.48 191.24,46.48 Z M187.12,32.44 L193.48,32.44 C193.48,29.4 192.56,27.52 190.64,27.52 C188.92,27.52 187.4,29.2 187.12,32.44 Z M201.88,46 L201.88,23.52 L206.64,23.52 L207.04,26.24 L207.2,26.24 C208.56,24.48 210.44,23.04 213.04,23.04 C216.8,23.04 218.4,25.84 218.4,30.8 L218.4,46 L212.44,46 L212.44,31.32 C212.44,28.92 211.96,28 210.52,28 C209.48,28 208.6,28.84 207.8,30.36 L207.8,46 L201.88,46 Z M231.84,46.56 C226.24,46.56 221.84,42.2 221.84,34.76 C221.84,27.28 226.76,23 232.28,23 C234.84,23 236.64,23.92 238.12,25.36 L235.32,29.12 C234.44,28.16 233.68,27.72 232.64,27.72 C229.76,27.72 227.88,30.56 227.88,34.76 C227.88,39 229.88,41.76 232.48,41.76 C233.88,41.76 235.16,41.12 236.16,40.08 L238.48,43.92 C236.6,45.8 234.12,46.56 231.84,46.56 Z M248.8,46 L248.8,28.16 L242.32,28.16 L242.32,23.52 L254.76,23.52 L254.76,46 L248.8,46 Z M251.44,19.88 C249.36,19.88 247.88,18.56 247.88,16.64 C247.88,14.76 249.36,13.36 251.44,13.36 C253.48,13.36 254.96,14.76 254.96,16.64 C254.96,18.56 253.48,19.88 251.44,19.88 Z M266.76,46.48 C263,46.48 261.44,43.68 261.44,38.72 L261.44,23.52 L267.36,23.52 L267.36,38 C267.36,40.4 267.72,41.52 269.24,41.52 C270.28,41.52 271.08,40.68 271.84,39.16 L271.84,23.52 L277.8,23.52 L277.8,46 L273.04,46 L272.64,43.28 L272.48,43.28 C271.08,45.04 269.36,46.48 266.76,46.48 Z M289.6,46.56 C286.44,46.56 283.64,45.28 281.32,43.4 L284,39.72 C286.12,41.24 287.48,42.2 289.68,42.2 C291.76,42.2 292.68,41.16 292.68,39.8 C292.68,38.08 290.64,37.44 288.28,36.4 C285.64,35.28 282.44,33.6 282.44,29.8 C282.44,25.8 285.56,23 290.52,23 C293.88,23 295.88,24.28 297.8,25.72 L295.16,29.28 C293.48,28.12 292.44,27.36 290.64,27.36 C288.84,27.36 287.92,28.28 287.92,29.56 C287.92,31.2 289.84,31.68 292.24,32.68 C294.92,33.76 298.2,35.32 298.2,39.48 C298.2,43.4 295.16,46.56 289.6,46.56 Z",id:"\u95E8\u4FEE\u65AF\u30FBMencius"}]];function Bb(e,t,r,$,n){return["a",Object.assign(Object.assign({},$),{onclick:$=>{$.preventDefault(),e.bus.dispatch([aa,[t,r]])}}),n]}function kg(e){const r=e.bus,n=e.views.input.deref();e.views.entries.deref();return["div",{class:"w-full xl:px-24 px-4 pt-2 pb-6"},["div",{class:"relative"},["input",{id:"entry_search",class:"transition bg-white shadow-md focus:outline-0 border border-transparent placeholder-gray-700 rounded-lg py-2 pr-4 pl-10 block w-full appearance-none leading-normal",placeholder:"\u641C\u5BFB\u6761\u76EE / Search Entries",type:"text",oninput:e=>{r.dispatch([yc,e.target.value])},onkeyup:e=>{"Enter"===e.key&&r.dispatch([za,{id:n,page:1}])}}],["div",{class:"pointer-events-none absolute inset-y-0 left-0 pl-4 flex items-center"},["div",{class:"fill-current pointer-events-none text-gray-600 w-4 h-4"},vg]]]]}const lg=["svg",{viewBox:"0 0 16 16"},["path",{d:"M8 14.5c3.6 0 6.5-2.9 6.5-6.5S11.6 1.5 8 1.5 1.5 4.4 1.5 8s2.9 6.5 6.5 6.5zM8 16c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"}],["path",{d:"M7 7V4h2v3h3v2H9v3H7V9H4V7h3z"}]];const mg=["svg",{viewBox:"0 0 7 12"},["path",{d:"M1.45 6.002L7 11.27l-.685.726L0 6.003 6.315 0 7 .726z","fill-rule":"nonzero"}]];const ng=["svg",{viewBox:"0 0 7 12"},["path",{d:"M5.569 5.994L0 .726.687 0l6.336 5.994-6.335 6.002L0 11.27z","fill-rule":"nonzero"}]];const og=["svg",{viewBox:"0 0 16 10"},["g",{"fill-rule":"nonzero"},["path",{d:"M1.363 5.098l2.928 3.16-.733.68L0 5.098l3.558-3.84.733.68zM14.637 5.098l-2.928-3.16.733-.68L16 5.098l-3.558 3.84-.733-.68zM6.466 10l-.927-.388L9.56 0l.927.388z"}]]];const pg=["svg",{viewBox:"0 0 12 16"},["path",{d:"M11 4v11c0 .6-.4 1-1 1H2c-.6 0-1-.4-1-1V4H0V3h12v1h-1zM2 4v11h8V4H2z"}],["path",{d:"M4 6h1v7H4zM7 6h1v7H7zM3 1V0h6v1z"}]];const wd=["svg",{viewBox:"0 0 16 16"},["g",{"fill-rule":"nonzero"},["path",{d:"M7.926 3.38L1.002 9.72V12h2.304l6.926-6.316L7.926 3.38zm.738-.675l2.308 2.304 1.451-1.324-2.308-2.309-1.451 1.329zM.002 9.28L9.439.639a1 1 0 0 1 1.383.03l2.309 2.309a1 1 0 0 1-.034 1.446L3.694 13H.002V9.28zM0 16.013v-1h16v1z"}]]];const qg=["svg",{viewBox:"0 0 16 15"},["path",{d:"M11.7 12l-3 3-.7-.7 3.3-3.3h3.2c.3 0 .5-.2.5-.5v-6c0-.3-.2-.5-.5-.5h-10c-.3 0-.5.2-.5.5v6c0 .3.2.5.5.5H8v1H4.5c-.8 0-1.5-.7-1.5-1.5v-6C3 3.7 3.7 3 4.5 3h10c.8 0 1.5.7 1.5 1.5v6c0 .8-.7 1.5-1.5 1.5h-2.8z"}],["path",{d:"M1 8H0V1.5C0 .7.7 0 1.5 0H8v1H1.5c-.3 0-.5.2-.5.5V8z"}]];const rg=["svg",{viewBox:"0 0 20 20"},["path",{"fill-rule":"nonzero",d:"M10 9.293l4.146-4.147.708.708L10.707 10l4.147 4.146-.708.708L10 10.707l-4.146 4.147-.708-.708L9.293 10 5.146 5.854l.708-.708L10 9.293z"}]];const sg=["svg",{viewBox:"0 0 20 20"},["g",{"fill-rule":"evenodd"},["path",{d:"M3 4h14v1H3zM3 10h14v1H3zM3 16h14v1H3z"}]]];const tg=["svg",{viewBox:"0 0 20 20"},["path",{"fill-rule":"nonzero",d:"M7.17 17H2.5a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .146-.354L4 12.293V9a6 6 0 0 1 5.5-5.98V1h1v2.02A6 6 0 0 1 16 9v3.293l1.854 1.853A.5.5 0 0 1 18 14.5v2a.5.5 0 0 1-.5.5h-4.67a3.001 3.001 0 0 1-5.66 0zm1.098 0a2 2 0 0 0 3.464 0H8.268zM13 16h4v-1.293l-1.854-1.853A.5.5 0 0 1 15 12.5V9A5 5 0 0 0 5 9v3.5a.5.5 0 0 1-.146.354L3 14.707V16h10z"}]];const ug=["svg",{"fill-rule":"evenodd",viewBox:"0 0 24 21"},["path",{d:"M18 0H6L0 10.5 6 21h12l6-10.5L18 0zm4.5 10h-9.7l4.8-8.5 4.9 8.5zM6.3 19.4L1.4 11H11l-4.7 8.4zm5.6-7.8l4.8 8.4H7.2l4.7-8.4zm0-2.1L7 1h9.7l-4.8 8.5zM6.2 1.6L11 10H1.5l4.7-8.4zm11.5 18L12.8 11h9.8l-4.9 8.6z"}]];const vg=["svg",{viewBox:"0 0 16 16"},["path",{"fill-rule":"nonzero",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm4.936-1.27l4.563 4.557-.707.708-4.563-4.558a6.5 6.5 0 1 1 .707-.707z"}]];const wg=["svg",{"fill-rule":"evenodd",viewBox:"0 0 23 23"},["path",{d:"M20.5 9c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5S21.9 9 20.5 9zm0 4c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5c0 .9-.7 1.5-1.5 1.5zM5 11.5C5 10.1 3.9 9 2.5 9S0 10.1 0 11.5 1.1 14 2.5 14 5 12.9 5 11.5zM2.5 13c-.8 0-1.5-.6-1.5-1.5 0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5c0 .9-.7 1.5-1.5 1.5zM12 18v-4c1.1-.2 2-1.2 2-2.5 0-1.2-.9-2.2-2-2.5V5c1.1-.2 2-1.2 2-2.5C14 1.1 12.9 0 11.5 0S9 1.1 9 2.5c0 1.2.9 2.2 2 2.5v4c-1.1.2-2 1.2-2 2.5 0 1.2.9 2.2 2 2.5v4c-1.1.2-2 1.2-2 2.5 0 1.4 1.1 2.5 2.5 2.5s2.5-1.1 2.5-2.5c0-1.2-.8-2.2-2-2.5zM10 2.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5S12.3 4 11.5 4 10 3.3 10 2.5zm0 9c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5zM11.5 22c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z"}],["path",{d:"M9 6.5C9 5.1 7.9 4 6.5 4S4 5.1 4 6.5c0 1.2.9 2.2 2 2.5v5.1c-1.1.2-2 1.2-2 2.5S5.1 19 6.5 19 9 17.9 9 16.5c0-1.2-.9-2.2-2-2.5V8.9c1.1-.2 2-1.2 2-2.4zm-4 0C5 5.7 5.7 5 6.5 5S8 5.7 8 6.5 7.3 8 6.5 8 5 7.3 5 6.5zm3 10c0 .9-.7 1.5-1.5 1.5S5 17.4 5 16.5 5.7 15 6.5 15s1.5.7 1.5 1.5zM17 14.1V8.9c1.1-.2 2-1.2 2-2.5S17.9 4 16.5 4 14 5.1 14 6.5c0 1.2.9 2.2 2 2.5v5.1c-1.1.2-2 1.2-2 2.5 0 1.4 1.1 2.5 2.5 2.5S19 18 19 16.6c0-1.3-.8-2.3-2-2.5zm-2-7.6c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5S17.3 8 16.5 8 15 7.3 15 6.5zM16.5 18c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z"}]];const xg=["svg",{viewBox:"0 0 16 16"},["path",{d:"M4 13.7c1.1.8 2.5 1.3 4 1.3s2.9-.5 4-1.3v-1.2c0-.8-.7-1.5-1.5-1.5h-5c-.8 0-1.5.7-1.5 1.5v1.2zm-1-.8v-.4C3 11.1 4.1 10 5.5 10h5c1.4 0 2.5 1.1 2.5 2.5v.4c1.2-1.3 2-3 2-4.9 0-3.9-3.1-7-7-7S1 4.1 1 8c0 1.9.8 3.6 2 4.9zM8 16c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"}],["path",{d:"M8 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 1C6.3 9 5 7.7 5 6s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"}]];const yg=["svg",{viewBox:"0 0 16 16"},["path",{"fill-rule":"nonzero",d:"M11.846 3.45L15.293.007 16 .714l-3.284 3.281c1.261.902 2.377 2.212 3.347 3.93C14.02 11.642 11.333 13.5 8 13.5c-1.392 0-2.667-.324-3.822-.973L.703 16l-.706-.708 3.323-3.32C2.071 11.042.976 9.694.035 7.924 2.012 4.308 4.667 2.5 8 2.5c1.395 0 2.677.317 3.846.95zm-6.928 8.338c.944.477 1.97.712 3.082.712 2.795 0 5.076-1.483 6.907-4.568-.866-1.417-1.833-2.486-2.91-3.219l-1.55 1.55a3 3 0 0 1-4.185 4.182l-1.344 1.343zm-.882-.533l1.518-1.517A3 3 0 0 1 9.74 5.556l1.364-1.363C10.148 3.73 9.115 3.5 8 3.5c-2.798 0-5.047 1.439-6.819 4.432.842 1.465 1.792 2.568 2.855 3.323zm2.948-1.532a2 2 0 0 0 2.74-2.738l-2.74 2.738zm-.707-.707l2.74-2.738a2 2 0 0 0-2.74 2.738z"}]];const zg=["svg",{viewBox:"0 0 16 11"},["path",{d:"M8 7.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 1c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"}],["path",{d:"M8 10c2.8 0 5.1-1.5 6.9-4.6C13.1 2.5 10.8 1 8 1 5.2 1 3 2.4 1.2 5.4 2.9 8.6 5.2 10 8 10zM8 0c3.3 0 6 1.8 8.1 5.4C14 9.2 11.3 11 8 11S2 9.2 0 5.5C2 1.9 4.6 0 8 0z"}]];const Ag=["svg",{"fill-rule":"evenodd",viewBox:"0 0 24 21"},["path",{d:"M12 0L0 21h24L12 0zm0 3l9 16H3l9-16z"}],["path",{d:"M11.2 8.4V10l.4 4h.8l.4-4V8.4z"}],["circle",{r:.8,cy:16,cx:12}]];const pa=(t,e)=>[t[0],Object.assign(Object.assign({},t[1]),{width:e,height:e}),...t.slice(2)];function xd(e){const t=e.bus,o=e.views.user.deref(),r=e.views.accountOpen.deref();return["div",{class:"relative",onkeydown:e=>{"Escape"!==e.key&&"Esc"!==e.key||t.dispatch([mb,null])}},["div",{class:"flex flex-row items-center relative w-8 mx-2"},[w,[qc],{class:"relative z-10 block rounded-full overflow-hidden focus:outline-none"},["img",{src:o.avatar_url,alt:o.login}]],r?[w,[mb],{tabindex:"-1",class:"fixed inset-0 h-full w-full cursor-default"}]:[]],r?["div",{class:"absolute right-0 mt-2 py-2 w-48 bg-white rounded-lg shadow-xl"},["div",{class:"block px-4 text-gray-600"},`Signed in as ${o.login.toLowerCase()}`],["div",{class:"block my-2 border-b bg-grey-400"}],[w,[Ec],{class:"block px-4 py-2 text-black hover:bg-gray-200 w-full text-left"},"Sign out"]]:[]]}function yd(t){const e=t.bus,n=t.views.notificationOpen.deref();return()=>{let i=t.views.newNotifications.deref();return null!==i&&(i=i.filter(t=>t.status===zd.NEW)),["div",{class:"relative",onkeydown:t=>{"Escape"!==t.key&&"Esc"!==t.key||e.dispatch([nb,null])}},["div",{class:"flex flex-row items-center relative w-8 mx-2"},[w,[rc],{class:"relative z-10 block rounded-full w-6 h-6 focus:outline-none"},["div",{class:"relative"},["div",{class:i&&i.length?"absolute top-0 right-0 text-xs text-center rounded-full p-1 transition eas-in-out duration-300 bg-red-500 border-2 border-gray-200":"absolute top-0 right-0 text-xs text-center rounded-full p-1 transition eas-in-out duration-300 bg-transparent"}],["div",tg]]],n?[w,[nb],{tabindex:"-1",class:"fixed inset-0 h-full w-full cursor-default"}]:[]],n?["div",{class:"absolute z-10 right-0 mt-2 py-2 w-64 bg-white rounded-lg shadow-xl"},["div",{class:"block px-4 text-gray-600"},"Notifications"],["div",{class:"block my-2 border-b bg-grey-400"}],i&&i.length?i.map(t=>[w,[td,{id:t.entry_id,data:Object.assign(Object.assign({},t),{status:"viewed"})}],{class:"block px-4 py-2 text-black hover:bg-gray-200 w-full text-left focus:outline-none"},t.entry_id]):["div",{class:"block px-4 py-2 text-gray-500 w-full text-center focus:outline-none my-6 items-center"},"no notification"]]:[]]}}var Bg,Cg,Dg,Eg,ha,zd,Ad,k;(function(e){e.UPVOTE="upvote",e.DOWNVOTE="downvote",e.NOTIFICATION="notification"})(ha||(Bg=ha={},Bg)),function(e){e.NEW="new",e.VIEWED="viewed"}(zd||(Cg=zd={},Cg)),(Ad||(Dg=Ad={},Dg)).OPINION="OPINION",function(e){e[e.DONE=0]="DONE",e[e.INFO=1]="INFO",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR"}(k||(Eg=k={},Eg));function Fg(r){const o=r.ui.footer;return["footer",{class:"flex flex-col sm:flex-row justify-between sm:items-center px-4 md:px-6 py-3"},["div",{class:"flex items-center justify-start sm:px-4 sm:py-3 sm:p-0"},["div",Object.assign({},o.icon),Ta(vd,"16px","16px")],[Ua,{title:"See our work on GitHub"},"https://github.com/noprostudio",["div",Object.assign({},o.icon),Ta(ig,"16px","16px")]],["div",o.copyright,`© ${new Date().getFullYear()} Mencius`]],["div",{class:"flex flex-row"},[[oa,"About"],[vb,"Contact"],[zb,"FAQ"],[Ab,"Donate"]].map(r=>[Bb,r[0].id,null,o.link,["div",{class:"flex flex-row items-center space-x-2 cursor-pointer"},["div",r[1]]]])]]}function Ua(e,t,n,r){return["a",Object.assign(Object.assign({},t),{href:n,target:"_blank"}),r]}function Gg(l,e){return["div",{class:"flex-grow h-full"},["div",{class:"max-w-5xl mx-auto flex h-full lg:items-center lg:px-8"},["div",{class:"flex-grow bg-white lg:shadow-2xl lg:rounded-lg lg:overflow-hidden h-full lg:h-auto"},e]]]}const Bd="route-to";const Cd="get-user";const Dd="get-token";const Ed="sign-out";const Fd="create-opinion";const Gd="delete-opinion";const Hd="update-opinion";const Cb="get-wiki";const Id="get-entry";const Jd="create-entry";const Kd="update-entry";const Ld="search-entry";const Md="create-report";const Nd="get-vote";const Od="create-vote";const Pd="delete-vote";const Hg="get-notification";const Qd="create-notification";const Rd="update-notification";const Sd="delete-notification";const Td="get-new-notifications";const Ud="get-all-notifications";const Va=void 0;class Ig{constructor(t){this.config=t,this.state=new hb(t.initialState||{}),this.ctx={bus:new ag(this.state,t.events,t.effects),views:{},ui:t.ui},this.addViews(this.config.views),this.router=new eg(t.router),this.router.addListener(xa,t=>this.ctx.bus.dispatch([xa,t.value])),this.ctx.bus.addHandlers({[xa]:cg("route"),[aa]:(t,[e,r])=>({[Bd]:r})}),this.ctx.bus.addEffect(Bd,([t,e])=>this.router.routeTo(this.router.format(t,e))),Va&&"debug"===Va&&this.ctx.bus.instrumentWith([bg]),this.addViews({route:"route",routeComponent:["route.id",t=>(this.config.components[t]||(()=>["div",`missing component for route: ${t}`]))(this.ctx)]})}addViews(t){const e=this.ctx.views;for(const r in t){const $=t[r];e[r]=Y($)?Yb(this.state,$[0],$[1]):Yb(this.state,$)}}start(){this.router.start(),this.ctx.bus.dispatch([ob]),Vf(()=>{if(this.ctx.bus.processQueue())return this.rootComponent()},{root:this.config.domRoot,ctx:this.ctx})}rootComponent(){const t=this.ctx.views.debug.deref();return["div",this.ctx.ui.root,["div",{class:"flex flex-row"},["div",{class:"w-full min-h-screen flex flex-col"},gg,[Gg,this.ctx.views.routeComponent],Fg],Va&&"debug"===Va?[fg,t,this.ctx.views.json]:[]]]}}function Jg(r){return Mg(),["div",["div",{class:"flex flex-col flex-grow justify-center p-6 md:p-12"},["div",{class:"flex items-center"}],["div",{class:"text-sm text-gray-600 leading-relaxed"},["\u300C\u95E8\u4FEE\u65AF\u300D\u662F\u5B89\u4E1C\u5C3C\xB7\u5409\u767B\u65AF\uFF08Anthony Giddens\uFF09\u793E\u4F1A\u5B66\u4EE3\u8868\u4F5C\u4E4B\u2F00\u300A\u2EA0\u65CF-\u56FD\u5BB6\u4E0E\u66B4\u2F12\u300B\uFF08The Nation-State and Violence, 1985\uFF09\u67D0\u4E2D\u8BD1\u672C\u2FA5\u5BF9\u201C\u5B5F\u2F26\u201D\u82F1\u8BD1\u201CMencius\u201D\u7684\u56DE\u8BD1\uFF0C\u56E0\u9519\u5F97\u6781\u5BCC\u620F\u5267\u6027\u2F7D\u2F34\u4E3A\u2F08\u77E5\uFF0C\u540E\u6765\u4FBF\u6210\u4E3A\u4E86\u2F00\u4E2A\u5178\u6545\u5F0F\u8BCD\u6C47\uFF0C\u4E13\u2F64\u6765\u6307\u4EE3\u2F08\u540D\u5730\u540D\u4F5C\u54C1\u540D\u7B49\u4E13\u6709\u540D\u8BCD\u7684\u9519\u8BD1\u3002","\u7B11\u7B11\u5BB9\u6613\uFF0C\u907F\u514D\u9519\u8BD1\u5374\u5E76\u6CA1\u6709\u60F3\u8C61\u4E2D\u7684\u7B80\u5355\u3002\u8981\u505A\u5230\u6B63\u786E\u2F46\u8BEF\u7684\u7FFB\u8BD1\uFF0C\u8BD1\u8005\u9664\u4E86\u9700\u8981\u62E5\u6709\u826F\u597D\u7684\u5916\u8BED\u53CA\u2E9F\u8BED\u2F54\u5E73\u4E4B\u5916\uFF0C\u4E5F\u5FC5\u987B\u5BF9\u6240\u8BD1\u4F5C\u54C1\u6D89\u53CA\u7684\u9886\u57DF\u6709\u7740\u76F8\u5F53\u7A0B\u5EA6\u7684\u719F\u6089\uFF0C\u4F46\u5728\u8D44\u8BAF\u7684\u8BDE\u2F63\u4E0D\u65AD\u52A0\u901F\u5316\u3001\u8D44\u8BAF\u7684\u6574\u5408\u6108\u53D1\u8DE8\u2F42\u5316\u8DE8\u9886\u57DF\u7684\u4ECA\u5929\uFF0C\u60F3\u8FBE\u5230\u8FD9\u2F00\u70B9\u7684\u2ED4\u69DB\u662F\u8D8A\u6765\u8D8A\u2FBC\u3002\u4EC5\u51ED\u5B98\u2F45\u53D1\u5E03\u7684\u4E13\u6709\u540D\u8BCD\u7FFB\u8BD1\u89C4\u8303\u2F3F\u518C\uFF0C\u65E9\u5DF2\u2F46\u6CD5\u5E94\u5BF9\u6BCF\u79D2\u90FD\u5728\u4E0D\u65AD\u8BDE\u2F63\u7740\u7684\u5C42\u51FA\u4E0D\u7A77\u7684\u5404\u8BED\u79CD\u4E13\u6709\u8BCD\u6C47\uFF0C\u2F7D\u2F79\u7EDC\u4E0A\u7684\u5404\u79CD\u767E\u79D1\uFF0C\u4E5F\u2F24\u591A\u4EC5\u4EC5\u5C06\u91CD\u70B9\u653E\u5728\u8BCD\u6761\u5BF9\u8C61\u7684\u5C5E\u6027\u548C\u76F8\u5173\u8D44\u8BAF\u4E0A\uFF0C\u5E76\u6CA1\u6709\u4E3A\u8BCD\u6761\u672C\u8EAB\u7684\u8BD1\u6CD5\u7559\u4E0B\u663E\u2F7D\u6613\u2EC5\u7684\u8BA8\u8BBA\u548C\u4FEE\u6B63\u7684\u7A7A\u95F4\u3002\u5728\u8FD9\u6837\u7684\u2F00\u4E2A\u60C5\u51B5\u4E0B\uFF0C\u4E13\u6709\u540D\u8BCD\u7684\u7FFB\u8BD1\u5BF9\u4E8E\u8BD1\u8005\u3001\u4F5C\u8005\u7684\u2F2F\u4F5C\u4EE5\u53CA\u8BFB\u8005\u7684\u7406\u89E3\u548C\u4EA4\u6D41\u6765\u8BF4\u90FD\u9020\u6210\u4E86\u4E0D\u2F29\u7684\u95EE\u9898\uFF0C\u4E5F\u5BFC\u81F4\u4E86\u4E0D\u5C11\u9519\u8BD1\u548C\u8BEF\u8BFB\u2ED3\u671F\u96BE\u4EE5\u5F97\u5230\u4FEE\u6B63\u3002","\u4E3A\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u6211\u4EEC\u53D1\u8D77\u4E86\u5F00\u6E90\u9879\u2F6C\u300C\u2ED4\u4FEE\u65AF\u2F79\u300D\u3002\u5728\u8FD9\u4E2A\u5E73\u53F0\u4E0A\uFF0C\u2F24\u5BB6\u4E0D\u4F46\u53EF\u4EE5\u4F9D\u636E\u5404\u2F83\u638C\u63E1\u7684\u5BA2\u89C2\u8BBA\u636E\uFF0C\u4E3A\u5404\u4E13\u6709\u540D\u8BCD\u63D0\u51FA\u2F83\u2F30\u7684\u8BD1\u6CD5\uFF0C\u4E5F\u53EF\u4EE5\u5BF9\u4ED6\u2F08\u63D0\u51FA\u7684\u8BD1\u6CD5\u7ED9\u51FA\u610F\u2EC5\u548C\u5EFA\u8BAE\u3002\u2F7D\u2F24\u5BB6\u5BF9\u67D0\u8BCD\u6761\u63D0\u51FA\u7684\u5404\u79CD\u4E0D\u540C\u8BD1\u6CD5\uFF0C\u4F1A\u901A\u8FC7\u2F64\u6237\u6295\u7968\u7684\u2F45\u5F0F\u6392\u5217\u6B21\u5E8F\u5E76\u51B3\u5B9A\u51FA\u52A8\u6001\u7684\u6700\u4F18\u89E3\u3002\u2F7D\u540E\u968F\u7740\u2F83\u5B9A\u4E49\u5217\u8868\u751A\u2F84\u662F\u7EC6\u5316\u5230\u67D0\u4F5C\u54C1\u67D0\u7AE0\u8282\u8BCD\u6C47\u6C47\u603B\u7B49\u529F\u80FD\u7684\u6700\u7EC8\u5B8C\u5584\uFF0C\u76F8\u4FE1\u672C\u5E73\u53F0\u4E0D\u4F46\u4F1A\u5BF9\u4E13\u4E1A\u8BD1\u8005\u7684\u2F2F\u4F5C\u6709\u6240\u5E2E\u52A9\uFF0C\u5BF9\u4E8E\u7F16\u8F91\u3001\u4F5C\u8005\u7B49\u2F42\u5B57\u7C7B\u2F2F\u4F5C\u8005\u6216\u8BFB\u8005\uFF0C\u751A\u2F84\u662F\u5916\u8BED\u5B66\u4E60\u8005\u2F7D\u2F94\uFF0C\u4E5F\u4F1A\u662F\u2F00\u4E2A\u2FAE\u5E38\u6709\u53C2\u8003\u4EF7\u503C\u7684\u8F85\u52A9\u2F2F\u5177\u3002","\u2F6C\u524D\uFF0C\u56E0\u2F08\u2F12\u53CA\u2F79\u7AD9\u5B9A\u4F4D\u6240\u9650\uFF0C\u672C\u5E73\u53F0\u6DB5\u76D6\u7684\u8BCD\u6761\u4EC5\u6D89\u53CA\u2F08\u540D\u548C\u4E66\u5F71\u2FB3\u6E38\u620F\u7ED8\u753B\u88C5\u7F6E\u6982\u5FF5\u7B49\u5404\u7C7B\u4F5C\u54C1\u540D\uFF0C\u672A\u6765\u662F\u5426\u4F1A\u5BF9\u6DB5\u76D6\u8303\u56F4\u8FDB\u2F8F\u6269\u5145\uFF0C\u8FD8\u5C06\u89C6\u5177\u4F53\u60C5\u51B5\u2F7D\u5B9A\u3002","\u540C\u65F6\uFF0C\u672C\u2F79\u7AD9\u4E3A\u2FAE\u76C8\u5229\u6027\u5F00\u6E90\u2F79\u7AD9\uFF0C\u6211\u4EEC\u76F8\u4FE1\u4F17\u2F08\u7684\u667A\u6167\u80FD\u591F\u5B55\u80B2\u51FA\u6700\u4EE4\u2F08\u610F\u60F3\u4E0D\u5230\u7684\u7F8E\u597D\u6210\u679C\uFF0C\u6240\u4EE5\u5728\u7B2C\u2F00\u9636\u6BB5\u4EC5\u4EC5\u5B8C\u6210\u4E86\u2F79\u7AD9\u6700\u57FA\u672C\u5C42\u2FAF\u529F\u80FD\u7684\u67B6\u6784\uFF0C\u66F4\u8FDB\u2F00\u6B65\u7684\u4F18\u5316\u4EE5\u53CA\u66F4\u591A\u529F\u80FD\u7684\u589E\u6DFB\u548C\u5B8C\u5584\uFF0C\u8FD8\u671F\u5F85\u7740\u672A\u6765\u2F24\u5BB6\u80FD\u591F\u5171\u540C\u63A2\u8BA8\u643A\u2F3F\u5B8C\u6210\u3002","\u5728\u8FD9\u6837\u2F00\u4E2A\u5168\u7403\u6027\u53CD\u667A\u7684\u2F24\u2F53\u5019\u4E0B\uFF0C\u5C31\u8BA9\u6211\u4EEC\u2F00\u8D77\u6765\u505A\u2F00\u4E9B\u5F00\u653E\u6027\u7684\u3001\u5177\u6709\u2ED3\u8FDC\u610F\u4E49\u7684\u5B9E\u4E8B\uFF0C\u4E5F\u7B97\u662F\u62B5\u6297\u2F00\u4E0B\u8352\u8C2C\u65F6\u4EE3\u7684\u6EDA\u6EDA\u2ECB\u8F6E\uFF0C\u6216\u662F\u4E2A\u2F08\u5FAE\u4E0D\u2F9C\u9053\u7684\u7126\u8651\u548C\u6291\u90C1\u5427\u3002"].map(r=>["p",{class:"mb-4"},r])],Kg],["div",{class:"bg-gray-100 border-t-2"},["div",{class:"flex flex-wrap"},[["sm:border-r sm:border-b","\u5F00\u653E\u7684\u6570\u636E","\u6240\u6709\u7684\u8BCD\u6761\u4EE5\u53CA\u76F8\u5173\u7FFB\u8BD1\u90FD\u4EE5\u5F00\u6E90\u7684\u5F62\u5F0F\u4FDD\u5B58\u4E8E GitHub",og],["border-t-2 sm:border-t-0 sm:border-l sm:border-b","\u4FBF\u5229\u7684\u5DE5\u5177","\u5E94\u5BF9\u6BCF\u65F6\u6BCF\u523B\u4E0D\u65AD\u8BDE\u2F63\u7740\u7684\u5C42\u51FA\u4E0D\u7A77\u7684\u5404\u8BED\u79CD\u4E13\u6709\u8BCD\u6C47",wg],["border-t-2 sm:border-r sm:border-t","\u4E92\u52A9\u7684\u793E\u7FA4","\u901A\u8FC7\u2F64\u6237\u6295\u7968\u7684\u2F45\u5F0F\u6392\u5217\u6B21\u5E8F\u5E76\u51B3\u5B9A\u51FA\u52A8\u6001\u7684\u6700\u4F18\u7FFB\u8BD1",qg],["border-t-2 sm:border-l sm:border-t","\u5927\u5BB6\u7684\u63A2\u7D22","\u76F8\u4FE1\u4F17\u2F08\u7684\u667A\u6167\u80FD\u591F\u5B55\u80B2\u51FA\u6700\u4EE4\u2F08\u610F\u60F3\u4E0D\u5230\u7684\u7F8E\u597D\u6210\u679C",ug]].map(r=>[Lg,...r])]]]}function Kg(t){const e=t.ui.newsletterForm;return["div",e.root,["h1",e.title,"\u52A0\u5165 Newsletter \u83B7\u53D6\u9879\u76EE\u6700\u65B0\u8FDB\u5C55"],["form",Object.assign(Object.assign({},e.form),{action:"https://tinyletter.com/nopro-studio",method:"post",target:"popupwindow"}),["div",e.container,["input",Object.assign(Object.assign({},e.input),{type:"email",placeholder:"email address",name:"email",id:"tlemail"})],["input",Object.assign(Object.assign({},e.button),{type:"submit",value:"SUBSCRIBE"})]]]]}function Lg(r,c,a,t,e){const o=r.ui.characterCard;return["div",{class:o.container.class+" "+c},["div",{class:"flex flex-grow"},["div",o.icon,e],["div",o.body,["h2",o.content.keyword,a],["p",o.content.description,t]]]]}function Mg(){new URLSearchParams(window.location.search).get("code")&&window.location.replace("/mencius/")}function Ng(t){return["div",{class:"flex flex-col p-6 md:p-12"},["p",t.ui.newsletterForm.title,"Get in touch!"],["p",[["mailto:townb.production@gmail.com","Email"],["https://github.com/noprostudio","GitHub"]].map(o=>[Ua,t.ui.contact.link,...o])]]}function Vd(e,t){const s=e.views,r=decodeURI(s.route.deref().params.id),a=+s.route.deref().params.page,l=s.search.deref();return["div",Object.assign({},t),["div",[w,[za,{id:r,page:a-1}],a>1?{class:"block m-1"}:{class:"block m-1 disabled:opacity-50",disabled:!0},["div",{class:"flex flex-row items-center text-justify"},["div",{class:"w-2 object-fill object-center items-baseline m-2 fill-current"},mg],"Prev"]]],["div",{class:"pl-2"},[w,[za,{id:r,page:a+1}],a<Math.ceil(l.total_count/30)?{class:"block m-1"}:{class:"block m-1 disabled:opacity-50",disabled:!0},["div",{class:"flex flex-row items-center text-justify"},"Next",["div",{class:"w-2 object-fill object-center items-baseline m-2 fill-current"},ng]]]]]}function Og(e){const t=e.views,s=e.bus,r=decodeURI(e.views.route.deref().params.id),a=decodeURI(e.views.route.deref().params.page);return s.dispatch([sb,{id:r,page:a}]),()=>{const s=decodeURI(e.views.route.deref().params.id),r=+e.views.route.deref().params.page,a=t.search.deref(),l=t.user.deref();return["div",qa,l.login?["div",{class:"p-6"},["h2",e.ui.newsletterForm.title,"Search results for ",["span",{class:"font-bold"},s]],["hr"],a.entries?["div",{class:"flex flex-col text-gray-600 font-light"},["div",{class:"flex flex-row justify-between my-2 align-middle items-center"},["span","Showing ",a.total_count>30?["span",["span",{class:"text-black font-normal"},`${30*(r-1)+1}-${Math.min(30*r,a.total_count)} `],"of "]:["span","all "],["span",{class:"text-black font-normal"},a.total_count+" "],"entries"],a.total_count>30?Vd(e,{class:"flex flex-row"}):[]],["div",{class:"flex flex-wrap"},a.entries.map(e=>["div",[w,[na,e],{class:"block m-1"},["div",{class:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"},e]]])],a.total_count>30?Vd(e,{class:"flex flex-row px-4 justify-center my-4"}):[]]:["div",{class:"md:text-4xl text-xl m-auto p-6"},"no available results"]]:["div",{class:"flex flex-col p-6 md:p-12"},["p",e.ui.newsletterForm.title,"Please sign in before searching any entries..."]]]}}function qa(t){const[s,$]=t.views.status.deref();return["p",t.ui.status[s],$]}function Pg(e,t,r){return["div",{class:"fixed inset-0 flex items-center justify-center z-30"},["div",{class:"fixed flex flex-col items-center justify-between mt-2 pt-2 lg:w-1/3 md:w-1/2 w-3/4 bg-white rounded-lg shadow-xl z-40"},t],r]}function Wd(e,t,r){return[Pg,t,r]}function Qg(e,t){const r=e.views,o=decodeURI(e.views.route.deref().params.id),l=r.user.deref();return[Wd,[["div",{class:"block font-medium text-gray-800 text-lg p-4 border-b border-b-2 w-full"},["div",{class:"mb-2"},"Delete opinion"],["div",{class:"text-sm text-gray-500"},"Are you sure you want to delete your opinion? This action cannot be undone."]],["div",{class:"flex flex-row self-end m-2"},[w,[Na],{class:"block px-4 py-2 text-black text-left font-medium"},"CANCEL"],[w,[Ic,{id:o,data:t,userName:l.login}],{class:"block px-4 py-2 text-white text-left bg-red-600 rounded-lg font-medium hover:bg-red-500 transition ease-in-out duration-150"},"DELETE"]]],[w,[Na],{tabindex:"-1",class:"fixed inset-0 h-full w-full cursor-default bg-black bg-opacity-50 z-20"}]]}function Rg(e){const t=e.bus,r=e.views.report.deref();return[Wd,[["div",{class:"block font-medium text-gray-800 text-lg p-4 border-b border-b-2 w-full"},["div",{class:"mb-2"},"Report opinion"],[xe,{class:"shadow-inner appearance-none border rounded w-full py-2 px-3 bg-gray-200 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:bg-white",onchange:e=>t.dispatch([ya,{key:"reason",value:e.target.value}])},Ih,r.reason]],["div",{class:"flex flex-row self-end m-2"},[w,[Oa],{class:"block px-4 py-2 text-black text-left font-medium"},"CANCEL"],[w,[vc,{data:r}],{class:"block px-4 py-2 text-black text-left font-medium disabled:opacity-50 transition ease-in-out duration-300",disabled:!r.reason},"REPORT"]]],[w,[Oa],{tabindex:"-1",class:"fixed inset-0 h-full w-full cursor-default bg-black bg-opacity-50"}]]}function*Sg($,r){const e=Wa($)(Tg()),t=e[1],s=e[2];for(let i of r){const $=s([],i);if(Xa($))return void(yield*Ya(t($.deref())));$.length&&(yield*$)}yield*Ya(t([]))}function*Xd($,r){const e=Wa($)([ta,ta,($,r)=>r])[2];for(let t of r){let $=e(da,t);if(Xa($))return void(($=Ya($.deref()))!==da&&(yield $));$!==da&&(yield $)}}const Wa=r=>la(r,"xform")?r.xform():r;class Yd{constructor(e){this.value=e}deref(){return this.value}}const Xa=e=>e instanceof Yd;const Ya=e=>e instanceof Yd?e.deref():e;function Tg($){return $?[...$]:Zd(()=>[],($,r)=>($.push(r),$))}const Ug=e=>2===e.length?[void 0,e[1]]:3===e.length?[e[1],e[2]]:ua(e.length);function Db(...e){const r=e[0],$=r[0],u=r[1],t=r[2],c=null==(e=Ug(e))[0]?$():e[0],o=e[1];return Ya(u(la(o,"$reduce")?o.$reduce(t,c):Oe(o)?Vg(t,c,o):Wg(t,c,o)))}const Vg=(e,r,$)=>{for(let u=0,t=$.length;u<t;u++)if(r=e(r,$[u]),Xa(r)){r=r.deref();break}return r},Wg=(e,r,$)=>{for(let u of $)if(r=e(r,u),Xa(r)){r=r.deref();break}return r},Zd=(e,r)=>[e,e=>e,r];const Xg=(e,r)=>{const $=r.length-1;return Qb(r[$])?r.length>1?Db(e.apply(null,r.slice(0,$)),r[$]):Db(e(),r[0]):void 0};function $d(...e){let r,$;switch(e.length){case 4:$=e[3],r=e[2];break;case 3:$=e[2];break;case 2:return Eb(r=>$d(e[0],e[1],r));default:ua(e.length);}return Db(Wa(e[0])(e[1]),r,$)}function Eb(t,r){return r?Xd(Eb(t),r):r=>{const $=r[2];return _d(r,(r,e)=>$(r,t(e)))}}const _d=($,o)=>[$[0],$[1],o];function ae(...$){return Yg(ae,($,r)=>$+r,0,$)}const Yg=($,r,e,t)=>{const o=Xg($,t);if(void 0!==o)return o;const p=t[0]||e;return Zd(()=>p,r)};function Fb(...e){let[r,$,t,o,u,c,p,n,s,a]=e;switch(e.length){case 0:ua(0);case 1:return r;case 2:return(...e)=>r($(...e));case 3:return(...e)=>r($(t(...e)));case 4:return(...e)=>r($(t(o(...e))));case 5:return(...e)=>r($(t(o(u(...e)))));case 6:return(...e)=>r($(t(o(u(c(...e))))));case 7:return(...e)=>r($(t(o(u(c(p(...e)))))));case 8:return(...e)=>r($(t(o(u(c(p(n(...e))))))));case 9:return(...e)=>r($(t(o(u(c(p(n(s(...e)))))))));case 10:default:const G=(...e)=>r($(t(o(u(c(p(n(s(a(...e))))))))));return 10===e.length?G:Fb(G,...e.slice(10));}}function be(r,$){return $?Xd(be(r),$):$=>{const e=$[2];return _d($,($,t)=>r(t)?e($,t):$)}}function Zg(...e){return e=e.map(Wa),Fb.apply(null,e)}var $g;const ce=$=>$[$.length-1];var _g,y;(function($){$[$.PARTIAL=0]="PARTIAL",$[$.FULL=1]="FULL",$[$.FULL_NC=2]="FULL_NC",$[$.FAIL=-1]="FAIL"})(y||(_g=y={},_g));const ka=Object.freeze({type:y.PARTIAL});const f=Object.freeze({type:y.FAIL});const I=($,r=y.FULL)=>({type:r,body:$});const ba=($,t,r,e)=>()=>{const p=$.map($=>$()),F=[];let l=p.length;return($,o)=>{for(let t,e,b=p.length;--b>=0;)if(t=p[b]){if((e=t($,o)).type>=y.FULL)return r?I(r($,e.body,F),e.type):e;e.type===y.FAIL&&(p[b]=null,l--)}return(t||e)&&F.push(o),l?ka:t?I(t($,F)):I(e&&e($,F),y.FAIL)}};const ah=($,t,p)=>()=>(r,e)=>$[e]?I(t&&t(r,e)):I(p&&p(r,e),y.FAIL);function de(r,$,e="start",t,i){return i?bh(de(r,$,e,t),i):([i,o,L])=>{let u=e,s=r[e]?r[e]():Fa(`invalid initial state: ${e}`);return[i,o,(e,i)=>{for(t&&t($,i);;){const{type:t,body:o}=s($,i),n=o&&o[1];if(t>=y.FULL){const $=o&&r[o[0]];if($?(u=o[0],s=$()):Pb(`unknown tx: ${u} -> ${o&&o[0]}`),n&&(e=fe(L,e,n),$a(n)&&(e=ee(e))),t===y.FULL_NC&&!$a(e))continue}else if(t===y.FAIL)return n&&(e=fe(L,e,n)),ee(e);break}return e}]}}function*bh($,r){const e=ch($)(dh()),i=e[1],t=e[2];for(let o of r){const $=t([],o);if($a($))return void(yield*Gb(i($.deref())));$.length&&(yield*$)}yield*Gb(i([]))}const ch=r=>la(r,"xform")?r.xform():r;class Za{constructor(e){this.value=e}deref(){return this.value}}const $a=e=>e instanceof Za;const ee=e=>e instanceof Za?e:new Za(e);const Gb=e=>e instanceof Za?e.deref():e;function dh($){return $?[...$]:eh(()=>[],($,r)=>($.push(r),$))}const eh=(e,r)=>[e,e=>e,r];const fe=(r,$,e)=>{for(let t of Gb(e))if($=r($,t),$a($))break;return $};const fh=($,t,r)=>()=>{let u=$();const e=[];return($,o)=>{e.push(o);const{type:p}=u($,o);return p===y.FAIL?I(t&&t($,e)):p!==y.PARTIAL?I(r&&r($,e),y.FAIL):ka}};function*X(r,e){let o="string"==typeof r?r.charCodeAt(0):r;const t="string"==typeof e?e.charCodeAt(0):e;if(o<=t)for(;o<=t;o++)yield String.fromCharCode(o);else for(;o>=t;o--)yield String.fromCharCode(o)}const Ba=(...$)=>{const t={};for(let r of $)for(let $ of r)t[$]=!0;return Object.freeze(t)},gh=Object.freeze({"\t":!0,"\n":!0,"\x0B":!0,"\f":!0,"\r":!0," ":!0});const hh=Ba(X("0","9"));const h=Ba(X("0","9"),X("A","F"),X("a","f"));const ih=Ba(X("a","z"));const jh=Ba(X("A","Z"));const kh=Object.freeze(Object.assign(Object.assign({},jh),ih));const i=Object.freeze(Object.assign(Object.assign(Object.assign({},kh),hh),{_:!0}));const j=Ba(X("!","/"),X(":","@"),X("[","`"),X("{","~"));const lh=($,a)=>ah(gh,$,a);const ge=($,t,o,r,e)=>()=>{let p=$(),P=0;const T=[];return(a,i)=>{T.push(i);const s=p(a,i);return s.type===y.FULL?++P===o?I(r&&r(a,T)):(p=$(),ka):s.type===y.FAIL?P>=t?(T.pop(),I(r&&r(a,T),y.FULL_NC)):I(e&&e(a,T),y.FAIL):s}};const Hb=($,r,t)=>()=>{let n=0,e=$[n]();const A=$.length-1,o=[];return(p,i)=>{if(n>A)return I(t&&t(p,o),y.FAIL);for(r&&o.push(i);n<=A;){const{type:j}=e(p,i);if(j>=y.FULL){if(n===A)return I(r&&r(p,o));if(e=$[++n](),j===y.FULL_NC)continue}return j===y.FAIL?I(t&&t(p,o),y.FAIL):ka}return I(t&&t(p,o),y.FAIL)}};const q=($,r,M,t=!1)=>t?()=>{let t="";return(e,h)=>(t+=h)===$?I(r&&r(e,t)):0===$.indexOf(t)?ka:I(M&&M(e,t),y.FAIL)}:()=>{let t=0,e=0;return(h,p)=>($.charAt(e++)===p&&t++,t===$.length?I(r&&r(h,$)):t===e?ka:I(M&&M(h,""),y.FAIL))};const ia=(r,$)=>()=>{let t="";return(l,e)=>(t+=e).endsWith(r)?I($&&$(l,t.substr(0,t.length-r.length))):ka};function*mh($,r){const e=he($)([ta,ta,($,r)=>r])[2];for(let t of r){let $=e(da,t);if(nh($))return void(($=oh($.deref()))!==da&&(yield $));$!==da&&(yield $)}}const he=r=>la(r,"xform")?r.xform():r;class ie{constructor(e){this.value=e}deref(){return this.value}}const nh=e=>e instanceof ie;const oh=e=>e instanceof ie?e.deref():e;const ph=($,o)=>[$[0],$[1],o];function je(r,$){return Qb($)?mh(je(r),$):$=>{const e=$[2];return ph($,($,t)=>r(t)?e($,t):$)}}function qh(...r){return r=r.map(he),Fb.apply(null,r)}(function($){$[$.BLOCKQUOTE=0]="BLOCKQUOTE",$[$.CODE=1]="CODE",$[$.CODEBLOCK=2]="CODEBLOCK",$[$.EMPHASIS=3]="EMPHASIS",$[$.END_BLOCKQUOTE=4]="END_BLOCKQUOTE",$[$.END_LI=5]="END_LI",$[$.END_PARA=6]="END_PARA",$[$.END_HEADING=7]="END_HEADING",$[$.END_TABLE=8]="END_TABLE",$[$.HEADING=9]="HEADING",$[$.IMG=10]="IMG",$[$.LINK=11]="LINK",$[$.LI=12]="LI",$[$.PARA=13]="PARA",$[$.START=14]="START",$[$.START_CODEBLOCK=15]="START_CODEBLOCK",$[$.STRIKE=16]="STRIKE",$[$.STRONG=17]="STRONG",$[$.TABLE=18]="TABLE"})($g||($g={}));const rh={blockquote:$=>["blockquote",...$],code:$=>["code",$],codeblock:($,r)=>["pre",{lang:$},r],em:$=>["em",$],heading:($,r)=>[$<7?`h${$}`:"p",...r],hr:()=>["hr"],img:($,r)=>["img",{src:$,alt:r}],li:$=>["li",...$],link:($,r)=>["a",{href:$},r],list:($,r)=>[$,...r],paragraph:$=>["p",...$],strong:$=>["strong",$],strike:$=>["del",$],table:$=>["table",["tbody",...$]],td:($,r)=>["td",...r],tr:($,r)=>["tr",...r]},ca=($,r)=>($.children=[],$.body="",[r]),ra=($,r)=>v=>(v.stack.push({id:$,children:v.children.concat(v.body)}),ca(v,r)),ke=$=>(r,v)=>{const{id:t,children:a}=r.stack.pop();return a.push($(r,v)),r.children=a,r.body="",[t]},Ib=$=>($.children.push($.body),$.children),sa=$=>(r,v)=>(r.body+=v.join(""),[$]),sh=$=>r=>[14,[$(r.hd,Ib(r))]],le=$=>r=>[14,[$(Ib(r))]],th=$=>($.children.push($.body,["br"]),$.body="",[0]),uh=$=>(r,v)=>[14,[$(r.lang,v)]],me=($,r)=>$.container.push(r(Ib($))),vh=($,r,v)=>t=>(me(t,v),[14,[r($,t.container)]]),wh=$=>r=>(r.children.push(r.body),r.container.push($(ce(r.stack).container.length,r.children)),ca(r,18)),xh=$=>r=>{const v=ce(r.stack).container;return v.push($(v.length,r.container)),r.container=[],ca(r,8)},yh=$=>r=>{const v=r.stack.pop().container;return v.splice(1,1),[14,[$(v)]]},_a=$=>ke((r,v)=>$(r.body+v.trim())),zh=($,r)=>($.hd=r.length,ca($,9)),Ca=$=>[q("![",ra($,10)),q("[",ra($,11)),q("~~",ra($,16)),q("**",ra($,17)),q("_",ra($,3)),q("`",ra($,1))],ne=$=>Hb([ia("]",($,r)=>void($.title=r)),q("("),ia(")",($,r)=>void($.href=r))],ke(r=>$(r.href,r.title))),ab=($,r)=>ba([...Ca($),q("\n",$=>($.body+=" ",[r]))],sa($)),Ah=($,r)=>($.body=r.join(""),$.children=[],[13]),Da=$=>r=>(r.stack.push({id:13,children:[]}),ca(r,$)),Bh=($,r)=>($.body=r[1],$.stack.push({id:13,children:[]}),[1]),Ch=$=>($.container=[],ca($,12)),Dh=$=>($.stack.push({id:18,container:[]}),$.container=[],ca($,18)),Eh=$=>{const r=Object.assign(Object.assign({},rh),$);return qh(je($=>"\r"!==$),de({14:ba([lh(()=>[14]),ge(q("#"),1,1/0,zh),q(">",$=>ca($,0)),q("- ",Ch),ba([Hb([q("`"),fh(q("`"))],Bh),q("```",()=>[15])],void 0,($,r)=>r),Hb([ge(q("-"),3,1/0),q("\n")],()=>[14,[r.hr()]]),q("![",Da(10)),q("[",Da(11)),q("**",Da(17)),q("~~",Da(16)),q("_",Da(3)),q("|",Dh)],Ah),13:ab(13,6),6:ba([...Ca(13),q("\n",le(r.paragraph))],sa(13)),0:ab(0,4),4:ba([...Ca(0),q(">",th),q("\n",le(r.blockquote))],sa(0)),9:ab(9,7),7:ba([...Ca(9),q("\n",sh(r.heading))],sa(9)),15:ia("\n",($,r)=>($.lang=r,[2])),2:ia("\n```\n",uh(r.codeblock)),12:ab(12,5),5:ba([q("\n",vh("ul",r.list,r.li)),q("- ",$=>(me($,r.li),ca($,12)))],sa(12)),11:ne(r.link),10:ne(r.img),17:ia("**",_a(r.strong)),16:ia("~~",_a(r.strike)),3:ia("_",_a(r.em)),1:ia("`",_a(r.code)),18:ba([...Ca(18),q("|",wh(r.td)),q("\n",xh(r.tr))],sa(18)),8:ba([q("\n",yh(r.table)),q("|",()=>[18])])},{stack:[]},14))};const Fh={li:e=>["li.list-disc.ml-4",...e],blockquote:e=>["blockquote.text-purple-600.ml-6.pl-4.border-l-4.border-purple-900",...e],code:e=>["code.bg-gray-200",e],codeblock:(e,r)=>["pre.whitespace-pre-line.text-xs.bg-purple-100.p-2",{lang:e||"code"},["code",r]],link:(e,r)=>["a.font-bold.text-purple-900.hover:bg-purple-900.hover:text-white.transition.duration-300.ease-in-out",{href:e,target:"_blank"},r],strike:e=>["del.line-through.bg-red-200",e],table:e=>["table.table-auto",["tbody",...e]],tr:(e,r)=>[e%2==0?"tr":"tr.bg-gray-100",...r],td:(e,r)=>[e<1?"th.px-4.py-2":"td.border.px-4.py-2",...r]};function oe(e){return[...Sg(Eh(Fh),e+"\n\n")]}const pe=(e,t,r)=>e.filter(e=>e.opinion_github_handle===t.github_handle&&e.type===r).length,qe=(e,t)=>pe(e,t,ha.UPVOTE),re=(e,t)=>pe(e,t,ha.DOWNVOTE),se=(e,t,r,o)=>t.filter(t=>t.opinion_github_handle===r.github_handle&&t.type===o&&t.github_handle===e.login),te=(e,t,r)=>se(e,t,r,ha.UPVOTE),ue=(e,t,r)=>se(e,t,r,ha.DOWNVOTE);function ve(e,t,r,o,v,$,n){const s=e.views.voteLock.deref();return[w,[bd,{id:t,data:{entry_id:t,opinion_github_handle:o.github_handle,github_handle:r.login,type:v}}],{class:"block transition ease-in-out duration-700 focus:outline-none disabled:opacity-50",disabled:s},["div",Object.assign({},$),n]]}function we(e,t,r,o,v){const $=e.views.voteLock.deref();return[w,[dd,{id:t.entry_id,data:t,voteID:t.id}],{class:"block transition ease-in-out duration-700 focus:outline-none disabled:opacity-50",disabled:$},["div",Object.assign({},o),v]]}function Gh(e,t){const r=e.views,o=decodeURI(e.views.route.deref().params.id),v=r.user.deref(),$=e.views.votes.deref()[o];return["div",null!=$?["div",{class:"flex flex-row items-center mt-4 space-x-2"},te(v,$,t).length>0?[we,te(v,$,t)[0],t,{class:"hover:bg-transparent bg-purple-300 hover:text-purple-700 text-white font-semibold py-2 px-4 border hover:border-purple-500 border-transparent rounded"},"\uD83D\uDC4D "+qe($,t)]:[ve,o,v,t,ha.UPVOTE,{class:"bg-transparent hover:bg-purple-300 text-purple-700 font-semibold hover:text-white py-2 px-4 border border-purple-500 hover:border-transparent rounded"},"\uD83D\uDC4D "+qe($,t)],ue(v,$,t).length>0?[we,ue(v,$,t)[0],t,{class:"hover:bg-transparent bg-purple-300 hover:text-purple-700 text-white font-semibold py-2 px-4 border hover:border-purple-500 border-transparent rounded"},"\uD83D\uDC4E "+re($,t)]:[ve,o,v,t,ha.DOWNVOTE,{class:"bg-transparent hover:bg-purple-300 text-purple-700 font-semibold hover:text-white py-2 px-4 border border-purple-500 hover:border-transparent rounded focus:outline-none"},"\uD83D\uDC4E "+re($,t)]]:[]]}const Hh=([o,p,$],t)=>["option",{value:o,disabled:!!$,selected:o===t},p];const xe=(o,p,$,t)=>["select",p,...$.map(o=>Hh(o,t))];const Ih=[["","Select reason..."],["Unwanted commercial content or spam","Unwanted commercial content or spam"],["Pornography or sexually explicit material","Pornography or sexually explicit material"],["Child abuse","Child abuse"],["Hate speech or graphic violence","Hate speech or graphic violence"],["Harassment or bullying","Harassment or bullying"]];function Jh(e,t){const r=e.views,o=decodeURI(e.views.route.deref().params.id),l=r.user.deref(),a=e.views.deleteOpinionOpen.deref(),i=e.views.reportOpen.deref();return["div",{class:"flex flex-col px-4 md:px-12 py-10 w-full border-t-2 border-gray-200"},["div",{class:"flex flex-col ml-4 md:ml-6"},["div",{class:"my-3 flex flex-row justify-between items-center"},["div",{class:"flex flex-row justify-start items-center"},["img",{class:"h-8 w-8 md:h-10 md:w-10 rounded-full",src:t.user_avatar_url?t.user_avatar_url:"https://subjpop.com/images/sidebar-logo.png"}],["div",{class:"ml-3 flex flex-col"},["div",{class:"font-semibold"},t.user_name?t.user_name:t.github_handle],["div",{class:"text-gray-700 text-sm"},`@${t.github_handle.toLowerCase()}`]]],l.login==t.github_handle?["div",{class:"flex flex-row items-top text-gray-500"},[w,[Kc,{id:o,data:Object.assign(Object.assign({},t),{user_avatar_url:l.avatar_url,user_name:l.name})}],{class:"ml-2 focus:outline-none hover:text-gray-700 p-2"},["div",{class:"flex flex-row"},["div",{class:"inline-block w-full fill-current pr-2"},pa(wd,"20")],["div","edit"]]],[w,[sc],{class:"focus:outline-none hover:text-gray-700 fill-current p-2"},["div",{class:"flex flex-row"},["div",{class:"pr-2"},pa(pg,"20")],["div","delete"]]],a?[Qg,t]:[]]:["div",{class:"flex flex-row items-top text-gray-500"},[w,[uc,t,window.location.origin+window.location.pathname+`#/entry/${decodeURI(e.views.route.deref().params.id)}`],{class:"ml-2 focus:outline-none hover:text-gray-700 p-2"},["div",{class:"flex flex-row"},["div",{class:"inline-block w-full fill-current pr-2"},pa(Ag,"20")],["div","report"]]],i?[Rg]:[]]],["div",{class:"leading-relaxed flex flex-col"},["h2",{class:"font-bold text-gray-800 text-xl md:text-2xl"},t.translation],["div",{class:"text-gray-700 mt-1 text-sm md:text-base break-all sm:break-words"},oe(t.details)]],[Gh,t]]]}function ye(e,t,n,o,s){return["div",{class:"block font-medium text-gray-800 text-lg mb-2"},["div",{class:"flex flex-col"},t,n?["div",{class:"text-xs text-gray-500"},n]:[]],[s,Object.assign(Object.assign({},o),{class:"shadow-inner appearance-none border rounded w-full py-2 px-3 bg-gray-200 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:bg-white"})]]}function ze(e,t,n,o){return ye(e,t,n,o,"input")}function Kh(e,t,n,o){return ye(e,t,n,o,"textarea")}function Lh(e,t,n,o,s,a){const r=e.bus;return ze(e,t,n,Object.assign(Object.assign({},a),{oninput:e=>r.dispatch([pb,{id:s,key:o,value:e.target.value}])}))}function Mh(e,t,n,o,s,a){const r=e.bus;return Kh(e,t,n,Object.assign(Object.assign({},a),{oninput:e=>r.dispatch([pb,{id:s,key:o,value:e.target.value}])}))}function ja(e,t,n,o,s,a){const r=e.bus;return ze(e,t,n,Object.assign(Object.assign({},a),{oninput:e=>{r.dispatch([s,{key:o,value:e.target.value}]),"name"===o&&r.dispatch([s,{key:"id",value:e.target.value.toLowerCase()}])}}))}const Jb=e=>0===Object.keys(e).length;function Nh(e){const i=e.bus,s=e.views,t=s.user.deref(),a=decodeURI(s.route.deref().params.id),o=s.opinions.deref(),r=s.tempOpinion.deref();if(!o[a]){const e={github_handle:t.login,user_avatar_url:t.avatar_url,user_bio:t.bio,user_name:t.name,translation:"",details:""};i.dispatch([Pa,{id:a,data:e}])}return()=>{const i=s.opinions.deref()[a];return i?["div",{class:"flex flex-col px-4 md:px-12 py-10 w-full border-t-2 border-gray-200"},["div",{class:"flex flex-col ml-4 md:ml-6"},["div",{class:"my-3 flex flex-row justify-start items-center"},["img",{class:"h-8 w-8 md:h-10 md:w-10 rounded-full",src:t.avatar_url}],["div",{class:"ml-3 flex flex-col"},["div",{class:"font-semibold"},t.name?t.name:t.login],["div",{class:"text-gray-700 text-sm"},`@${t.login.toLowerCase()}`]]],["div",{class:"leading-relaxed flex flex-col"},Lh(e,"\u7FFB\u8BD1:","","translation",a,{value:i.translation,placeholder:a}),Mh(e,"\u8BBA\u636E:","","details",a,{value:i.details,placeholder:"* Markdown supported",rows:"5"}),["div",{class:"leading-relaxed"},["div","preview:"],["div",{class:"leading-relaxed text-gray-700 mt-1 text-sm md:text-base break-all sm:break-words"},oe(s.opinions.deref()[a].details)]],[w,Jb(r)?[Gc,{id:a,data:i}]:[Mc,{id:a,data:i}],i.translation?{class:"block mt-4 transition ease-in-out duration-700"}:{class:"block mt-4 transition ease-in-out duration-700 disabled:opacity-50",disabled:!0},["div",{class:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"},Jb(r)?"CREATE":"UPDATE"]],Jb(r)?[]:[w,[Lc,{id:a,data:r}],{class:"block mt-4"},["div",{class:"shadow bg-gray-500 hover:bg-gray-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"},"CANCEL"]]]]]:[]}}function Oh(e,t){return["div",{class:"cursor-pointer"},[Rh,[za,{id:t,page:1}],{},["span",{class:" py-2, bg-purple-200 text-sm sm:text-base text-gray-700 subpixel-antialiased px-1 rounded mr-2"},`# ${t}`]]]}function Ph(e,t){return["div",{class:"flex flex-col justify-center px-4 md:px-12 pb-10"},["div",{class:"ml-4 md:ml-6"},["h3",{class:"sm:font-light text-xl sm:text-2xl md:text-3xl text-gray-900 mt-2"},["span",t.name]],["div",{class:"flex flex-wrap"},[t.alias,t.author,t.category,t.date,t.group,t.language,t.romanization,t.album].map(e=>e?[Oh,e]:[])],t.wikipedia.pageid?Qh(t):[]]]}function Qh(e){return["div",{class:" sm:text-xl text-gray-600 mt-3 leading-relaxed"},["p",{class:"font-light text-base"},e.wikipedia.extract],["div",{class:"pt-2 mt-auto text-lg font-medium inline-flex items-center text-purple-600 hover:text-purple-800"},["a",{href:`https://${e.language}.wikipedia.org/?curid=${e.wikipedia.pageid}`,target:"_blank"},"Surf the Wikipedia \uD83C\uDF0A"]]]}function Rh(e,t,n,a){return["a",Object.assign(Object.assign({},n),{onclick:n=>{n.preventDefault(),e.bus.dispatch(t)}}),a]}function Sh(e,r){const l=decodeURI(e.views.route.deref().params.id),o=e.views.user.deref(),d=e.views.notifications.deref()[l],t=d?d.filter(e=>e.github_handle===o.login):null;return["div",{class:"ml-4 md:ml-6 px-4 md:px-12"},["div",{class:"flex flex-col md:flex-row md:justify-between space-y-2"},["div",{class:"item-center content-center md:self-center align-center space-x-1 font-semibold text-lg"},["span","entry"],["span","/"],["span",r.id]],["div",{class:"flex flex-row space-x-2"},["div",{class:"flex flex-row"},t&&t[0]&&t[0].entry_id?["div",{class:"flex flex-row"},[w,[md,{id:l,data:t[0]}],{class:"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded-l focus:outline-none"},["div",{class:"flex flex-row"},["div",{class:"inline-block w-full fill-current pr-2 self-center"},pa(yg,"20")],["div","unwatch"]]]]:["div",{class:"flex flex-row"},[w,[ub,{id:l,data:{github_handle:o.login}}],{class:"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded-l focus:outline-none"},["div",{class:"flex flex-row"},["div",{class:"inline-block w-full fill-current pr-2 self-center"},pa(zg,"20")],["div","watch"]]]],["div",{class:"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded-r focus:outline-none cursor-default"},d?d.length:null]],[w,[nc,l],{class:"p-2 mb-2 hover:text-gray-700 border border-purple-300 hover:border-purple-900 font-semibold rounded focus:outline-none"},["div",{class:"flex flex-row"},["div",{class:"inline-block w-full fill-current pr-2"},pa(wd,"20")],["div","edit"]]]]]]}const Ae=(e,a)=>$d(Zg(be(a=>a.opinion_github_handle===e),Eb(e=>e.type===ha.UPVOTE?1:-1)),ae(0),a);function Th(e){const a=e.views,r=e.bus,t=decodeURI(e.views.route.deref().params.id);return r.dispatch(a.entries.deref()[t]?[m,[k.SUCCESS,"loaded from cache",!0]]:[tb,t]),()=>{const e=decodeURI(a.route.deref().params.id),r=a.entries.deref()[e],t=a.votes.deref()[e],$=a.user.deref();return["div",qa,r&&r.id&&t?["div",{class:"flex flex-col"},[Sh,r],[Ph,r],r.opinions.sort((e,a)=>Ae(a.github_handle,t)-Ae(e.github_handle,t)).map(e=>[Jh,e]),$.login&&r.opinions.map(e=>e.github_handle.toLowerCase()).indexOf($.login.toLowerCase())<0?Nh:[]]:["div",["div",{class:"text-4xl m-auto p-6"},"no available data..."],["div",{class:"flex flex-row items-top text-gray-500"},[w,[mc,e],{class:"block m-4 w-full"},["div",{class:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"},"CREATE"]]]]]}}function Uh(e){const r=e.views,t=e.bus,s=decodeURI(r.route.deref().params.id),$=r.newEntry.deref(),n="null"===s||""===s?$:Object.assign(Object.assign({},$),{id:s,name:s});return t.dispatch([Pc,{data:n}]),()=>{const t=r.user.deref();return["div",qa,t.login?[Be,"newEntry",Oc,Qc,Uc]:["div",{class:"flex flex-col p-6 md:p-12"},["p",e.ui.newsletterForm.title,"Please sign in before adding new entry..."]]]}}const Vh=[["en","\u82F1\u8BED"],["jp","\u65E5\u8BED"],["ko","\u97E9\u8BED"],["fr","\u6CD5\u8BED"],["de","\u5FB7\u8BED"]];function Be(e,t,o,n,a){const r=e.views,i=e.bus;return()=>{const d=r[t].deref();return["div",{class:"flex flex-col p-6 md:p-12"},["h2",e.ui.newsletterForm.title,"newEntry"===t?"Add new entry":"Edit entry"],ja(e,"\u539F\u6587","","name",o,{value:d.name,placeholder:"Mencius",disabled:"newEntry"!==t}),["div",{class:"block font-medium text-gray-800 text-lg mb-2"},"\u8BED\u8A00",[xe,{class:"shadow-inner appearance-none border rounded w-full py-2 px-3 bg-gray-200 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:bg-white",onchange:e=>i.dispatch([o,{key:"language",value:e.target.value}])},Vh,d.language]],ja(e,"\u4EA6\u540D","","alias",o,{value:d.alias,placeholder:"Mengzi"}),ja(e,"\u7F57\u9A6C\u5316\u8F6C\u5199","","romanization",o,{value:d.romanization,placeholder:"Mengzi"}),ja(e,"\u4F5C\u54C1\u5E74\u4EFD","","date",o,{value:d.date,placeholder:"372-289 BC"}),ja(e,"\u5C5E\u6027","\u5982\uFF1A\u4E50\u4EBA\u3001\u5F71\u4EBA\u3001\u4E13\u8F91\u3001\u6B4C\u66F2\u3001\u8457\u4F5C\u3001\u5F71\u7247\u3001\u54F2\u5B66\u5BB6\u2026\u2026","category",o,{value:d.category,placeholder:"\u54F2\u5B66\u5BB6"}),ja(e,"\u56E2\u4F53","\u5F53\u201C\u539F\u6587\u201C\u4E3A\u4E2A\u4EBA\u4E14\u8BE5\u4EBA\u4ECE\u5C5E\u4E8E\u67D0\u56E2\u4F53\u65F6","group",o,{value:d.group}),ja(e,"\u4F5C\u8005","\u5F53\u201C\u539F\u6587\u201C\u4E3A\u67D0\u4EF6\u521B\u4F5C\u4F5C\u54C1\u65F6","author",o,{value:d.author}),ja(e,"\u4E13\u8F91","\u5F53\u201C\u539F\u6587\u201C\u4E3A\u6536\u5F55\u5728\u67D0\u5F20\u4E13\u8F91\u4E2D\u7684\u6B4C\u66F2\u65F6","album",o,{value:d.album}),d.wikipedia?["div",["div",{class:"block font-medium text-gray-800 text-lg mb-2"},"\u7EF4\u57FA"],["div",{class:"block font-light text-base text-gray-600"},d.wikipedia.extract]]:[],[w,[n,{titles:d.name,language:d.language}],d.name&&d.language?{class:"block mt-4 transition ease-in-out duration-700"}:{class:"block mt-4 transition ease-in-out duration-700 disabled:opacity-50",disabled:!0},["div",{class:"shadow bg-gray-500 hover:bg-gray-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"},"RETRIEVE FROM WIKIPEDIA"]],[w,[a,{id:d.id,data:d}],d.name?{class:"block mt-4 transition ease-in-out duration-700"}:{class:"block mt-4 transition ease-in-out duration-700 disabled:opacity-50",disabled:!0},["div",{class:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"},"SUBMIT"]]]}}function Wh(e){const r=e.views,t=e.bus,$=decodeURI(e.views.route.deref().params.id),i=r.entries.deref()[$];return i?(t.dispatch([Zc,{data:i}]),()=>{const t=r.user.deref();return["div",qa,t.login?[Be,"tempEntry",Yc,Sc,Wc]:["div",{class:"flex flex-col p-6 md:p-12"},["p",e.ui.newsletterForm.title,"Please sign in before editing entry..."]]]}):t.dispatch([na,$])}const Xh="2ed1b3b100d6c005d42b",Yh="https://nopro.studio/mencius/#/github_oauth_cb";function Zh(t){return["div",qa,["div",{class:"flex flex-col p-6 md:p-12"},["p",t.ui.newsletterForm.title,"Mencius"],["p",[[`https://github.com/login/oauth/authorize?client_id=${Xh}&scope=user%20public_repo&redirect_uri=${Yh}`,"Sign in with GitHub"]].map($=>[Ua,t.ui.contact.link,...$])]]]}function $h(t){const $=new URLSearchParams(window.location.search).get("code");return t.bus.dispatch([Cc,$]),["div",qa,["div",{class:"text-4xl m-auto p-6"},"Signing-in with GitHub..."]]}const _h={en:[{question:"Why I cannot login?",answer:"We are using third-party cookies to store your login state, which helps us to verity the communications between your browser and our servers."},{question:"Why I cannot search abbreviations?",answer:"Due to the complexity of searching entries, short keywords and abbreviations, especially with . (dot), sometimes can not be searchable, but you can try the full name or related keywords, such as Dr. Dre for N.W.A, to find the entry."}],zh:[{question:"\u4E3A\u4F55\u65E0\u6CD5\u767B\u9646\uFF1F",answer:"Mencius \u4F7F\u7528\u7B2C\u4E09\u65B9 cookie \u6765\u4FDD\u5B58\u5E76\u9A8C\u8BC1\u7528\u6237\u767B\u9646\u72B6\u6001\uFF0C\u8BF7\u5728\u5F53\u524D\u9875\u9762\u5141\u8BB8\u4F7F\u7528\u7B2C\u4E09\u65B9 cookie\u3002"},{question:"\u4E3A\u4F55\u65E0\u6CD5\u68C0\u7D22\u7F29\u7565\u8BED\uFF1F",answer:"\u7531\u4E8E\u68C0\u7D22\u8BCD\u6761\u7684\u590D\u6742\u6027\uFF0C\u6709\u4E9B\u65F6\u5019\u5E26\u6709 .\uFF08\u70B9\uFF09\u7684\u7F29\u7565\u8BED\u65E0\u6CD5\u88AB\u641C\u7D22\uFF0C\u4F46\u662F\u53EF\u4EE5\u901A\u8FC7\u641C\u7D22\u5168\u540D\u6216\u8005\u76F8\u5173\u4FE1\u606F\u6765\u627E\u5230\u76EE\u6807\u8BCD\u6761\uFF1A\u6BD4\u5982\u7528 Dr. Dre \u627E\u5230 N.W.A\u3002"}]};function ai(e){return["div",["div",{class:"flex flex-col pt-6 text-gray-800"},["header",["div",{class:"px-4 md:px-12 pb-6"},["h1",{class:"text-5xl font-bold text-center"},"FAQ"],["h2",{class:"text-2xl font-semibold text-center"},"Answers to common questions about Mencius."]]],["hr",{class:"pb-2"}],["section",["div",{class:"flex flex-col items-start px-4 md:px-12"},_h.zh.map(e=>["article",["h2",{class:"text-2xl md:text-3xl font-bold py-2"},e.question],["p",{class:"font-light pb-8"},e.answer]])]]]]}function bi(e){var $UtUI$$interop$default=Ce(ci);return["div",["div",{class:"flex flex-col pt-6 text-gray-800"},["header",["div",{class:"px-4 md:px-12 pb-6"},["h1",{class:"text-5xl font-bold text-center"},"Donate"]]],["hr",{class:"pb-2"}],["section",["div",{class:"flex flex-col items-start px-4 md:px-12"},["article",{class:"mb-4"},["h2",{class:"text-2xl md:text-3xl font-bold py-2"},"PayPal"],["div","\u8BF7\u70B9\u51FB[",[Ua,{class:"font-bold text-purple-900 hover:bg-purple-900 hover:text-white transition duration-300 ease-in-out border-dotted border-b-2"},"https://www.paypal.me/yifanwu0/5","\u4ED8\u6B3E\u94FE\u63A5"],"]"]]]],["section",["div",{class:"flex flex-col items-start px-4 md:px-12 w-full"},["article",{class:"mb-8 w-full"},["h2",{class:"text-2xl md:text-3xl font-bold py-2"},"\u652F\u4ED8\u5B9D"],["div",{class:"flex justify-center content-center w-full"},["img",{class:"rounded-lg shadow-2xl sm:shadow-none",src:$UtUI$$interop$default.d}]]]]]]]}var ci={};ci="alipay.a4f4bd74.png";const H="https://mencius.azurewebsites.net",di={router:{useFragment:!0,defaultRouteID:oa.id,routes:[oa,vb,wb,xb,Ra,yb,Sa,ud,zb,Ab]},events:{[lc]:()=>({[g]:[m,[k.DONE,"done"]]}),[D]:($,[o,t])=>({[g]:"Unauthorized"===t.message||"Bad Request"===t.message?[[m,[k.ERROR,t.message]],[aa,[Sa.id,{}]]]:[m,[k.ERROR,t.message]]}),[m]:($,[o,t])=>({[g]:[E,["status",t]],[B]:t[0]!==k.DONE&&t[2]?[hc,[1e3],lc,D]:void 0}),[pc]:V("isNavOpen",$=>!$),[qc]:V("accountOpen",$=>!$),[mb]:V("accountOpen",$=>!1),[rc]:V("notificationOpen",$=>!$),[nb]:V("notificationOpen",$=>!1),[sc]:V("deleteOpinionOpen",$=>!$),[Na]:V("deleteOpinionOpen",$=>!1),[tc]:V("reportOpen",$=>!$),[Oa]:V("reportOpen",$=>!1),[Aa]:V("voteLock",$=>!$),[ya]:($,[o,t])=>({[g]:[E,[["report",t.key],t.value]]}),[uc]:($,[o,t,e])=>({[g]:[[tc],[ya,{key:"type",value:Ad.OPINION}],[ya,{key:"context",value:t}],[ya,{key:"url",value:e}]]}),[vc]:($,[o,t])=>({[g]:[[m,[k.INFO,"reporting..."]]],[B]:[Md,t,wc,D]}),[wc]:()=>({[g]:[[m,[k.SUCCESS,"reported successfully",!0]],[Oa]]}),[xc]:V("debug",$=>!$),[yc]:($,[o,t])=>({[g]:[E,["input",t.toLowerCase()]]}),[zc]:($,[o,t])=>({[g]:[[m,[k.INFO,"getting entry data..."]]],[B]:[Id,t,Ac,D]}),[Ac]:($,[o,t])=>({[g]:[[E,[["entries",decodeURI(t.id)],t.data]],[m,[k.SUCCESS,"entry data successfully loaded",!0]]]}),[na]:($,[o,t])=>({[g]:[[aa,[xb.id,{id:t}]]]}),[mc]:($,[o,t])=>({[g]:[[aa,[Ra.id,{id:t}]]]}),[nc]:($,[o,t])=>({[g]:[[aa,[yb.id,{id:t}]]]}),[oc]:($,[o,t,e])=>({[g]:[[aa,[wb.id,{id:t,page:e}]]]}),[ob]:()=>({[g]:[[m,[k.INFO,"getting user data..."]]],[B]:[Cd,null,Bc,D]}),[Bc]:($,[o,t])=>({[g]:[[E,["user",t.data]],[m,[k.SUCCESS,"user data successfully loaded",!0]],[qd]]}),[Cc]:($,[o,t])=>({[g]:[[m,[k.INFO,"getting token..."]]],[B]:[Dd,t,Dc,D]}),[Dc]:($,[o,t])=>({[g]:[[m,[k.SUCCESS,"token successfully loaded",!0]],[aa,[oa.id,{}]],[ob]]}),[Ec]:()=>({[g]:[[m,[k.INFO,"signing out..."]]],[B]:[Ed,null,Fc,D]}),[Fc]:()=>({[g]:[[m,[k.SUCCESS,"signed out successfully",!0]],[aa,[oa.id,{}]],[E,["user",{}]]]}),[Pa]:($,[o,t])=>({[g]:[E,[["opinions",t.id],t.data]]}),[pb]:($,[o,t])=>({[g]:[E,[["opinions",t.id,t.key],t.value]]}),[Gc]:($,[o,t])=>({[g]:[[m,[k.INFO,"submitting opinion..."]],[Qa,t]],[B]:[Fd,t,Hc,D]}),[Hc]:($,[o,t])=>({[g]:[[m,[k.SUCCESS,"opinion submitted successfully",!0]],[ub,t]]}),[Qa]:($,[o,t])=>({[g]:[[ga,[["entries",t.id,"opinions"],$=>[...$,t.data]]]]}),[qb]:($,[o,t])=>({[g]:[[ga,[["entries",t.id,"opinions"],$=>$.filter($=>$.github_handle!==t.data.github_handle)]]]}),[Ic]:($,[o,t])=>({[g]:[[m,[k.INFO,"deleting opinion..."]],[qb,t]],[B]:[Gd,t,Jc,D]}),[Jc]:()=>({[g]:[[m,[k.SUCCESS,"opinion deleted successfully",!0]],[Na]]}),[rb]:($,[o,t])=>({[g]:[[E,["tempOpinion",t.data]]]}),[Kc]:($,[o,t])=>({[g]:[[rb,t],[Pa,t],[qb,t]]}),[Lc]:($,[o,t])=>({[g]:[[Qa,t],[Pa,Object.assign(Object.assign({},t),{data:{}})],[rb,{data:{}}]]}),[Mc]:($,[o,t])=>({[g]:[[m,[k.INFO,"updating opinion..."]],[Qa,t]],[B]:[Hd,t,Nc,D]}),[Nc]:()=>({[g]:[[m,[k.SUCCESS,"opinion updated successfully",!0]]]}),[Oc]:($,[o,t])=>({[g]:[E,[["newEntry",t.key],t.value]]}),[Pc]:($,[o,t])=>({[g]:[E,["newEntry",t.data]]}),[Qc]:($,[o,t])=>({[g]:[[m,[k.INFO,"getting wikipedia data..."]]],[B]:[Cb,t,Rc,D]}),[Rc]:($,[o,t])=>({[g]:[[E,["newEntry.wikipedia",t.data]],[m,[k.SUCCESS,"wikipedia data successfully loaded",!0]]]}),[Sc]:($,[o,t])=>({[g]:[[m,[k.INFO,"getting wikipedia data..."]]],[B]:[Cb,t,Tc,D]}),[Tc]:($,[o,t])=>({[g]:[[E,["tempEntry.wikipedia",t.data]],[m,[k.SUCCESS,"wikipedia data successfully loaded",!0]]]}),[Uc]:($,[o,t])=>({[g]:[[m,[k.INFO,"submitting entry..."]]],[B]:[Jd,t,Vc,D]}),[Vc]:($,[o,t])=>({[g]:[[na,t.id],[m,[k.SUCCESS,"entry submitted successfully",!0]]]}),[Wc]:($,[o,t])=>({[g]:[[m,[k.INFO,"updating entry..."]]],[B]:[Kd,t,Xc,D]}),[Xc]:($,[o,t])=>({[g]:[[E,[["entries",t.id],""]],[na,t.id],[m,[k.SUCCESS,"entry updated successfully",!0]]]}),[Yc]:($,[o,t])=>({[g]:[E,[["tempEntry",t.key],t.value]]}),[Zc]:($,[o,t])=>({[g]:[E,["tempEntry",t.data]]}),[sb]:($,[o,t])=>({[g]:[[m,[k.INFO,"searching entries..."]]],[B]:[Ld,t,$c,D]}),[$c]:($,[o,t])=>({[g]:[[E,["search",t.data]],[m,[k.SUCCESS,"searched successfully",!0]]]}),[za]:($,[o,t])=>({[g]:[[sb,t],[oc,t.id,t.page]]}),[_c]:($,[o,t])=>({[B]:[Nd,t,ad,D]}),[ad]:($,[o,t])=>({[g]:[[E,[["votes",decodeURI(t.id)],t.data?t.data:[]]],[m,[k.SUCCESS,"vote data successfully loaded",!0]]]}),[bd]:($,[o,t])=>({[g]:[[m,[k.INFO,"voting..."]],[Aa]],[B]:[Od,t,cd,D]}),[cd]:($,[o,t])=>({[g]:[[m,[k.SUCCESS,"voted successfully",!0]],[fd,t],[Aa]]}),[dd]:($,[o,t])=>({[g]:[[m,[k.INFO,"deleting vote..."]],[gd,t],[Aa]],[B]:[Pd,t,ed,D]}),[ed]:()=>({[g]:[[m,[k.SUCCESS,"vote deleted successfully",!0]],[Aa]]}),[fd]:($,[o,t])=>({[g]:[[ga,[["votes",t.id],$=>[...$,...t.data]]]]}),[gd]:($,[o,t])=>({[g]:[[ga,[["votes",t.id],$=>$.filter($=>$!==t.data)]]]}),[tb]:($,[o,t])=>({[g]:[[hd,t],[_c,t],[zc,t]]}),[hd]:($,[o,t])=>({[B]:[Ud,t,id,D]}),[id]:($,[o,t])=>({[g]:[[E,[["notifications",decodeURI(t.id)],t.data[0].entry_id?t.data:[]]],[m,[k.SUCCESS,"notification successfully loaded",!0]]]}),[ub]:($,[o,t])=>({[g]:[[m,[k.INFO,"watching the entry..."]]],[B]:[Qd,t,ld,D]}),[ld]:($,[o,t])=>({[g]:[[m,[k.SUCCESS,"watched successfully",!0]],[od,t]]}),[jd]:($,[o,t])=>({[g]:[[m,[k.INFO,"updating the notification..."]]],[B]:[Rd,t,kd,D]}),[kd]:($,[o,t])=>({[g]:[[m,[k.SUCCESS,"notification updated successfully",!0]]]}),[md]:($,[o,t])=>({[g]:[[m,[k.INFO,"deleting notification..."]],[pd,t]],[B]:[Sd,t,nd,D]}),[nd]:()=>({[g]:[[m,[k.SUCCESS,"notification deleted successfully",!0]]]}),[od]:($,[o,t])=>({[g]:[[ga,[["notifications",t.id],$=>[...$,...t.data]]]]}),[pd]:($,[o,t])=>({[g]:[[ga,[["notifications",t.id],$=>$.filter($=>$!==t.data)]]]}),[qd]:()=>({[B]:[Td,null,rd,D]}),[rd]:($,[o,t])=>({[g]:[[E,["newNotifications",t.data]],[m,[k.SUCCESS,"new notifications successfully loaded",!0]]]}),[sd]:($,[o,t])=>({[g]:[ga,[["newNotifications"],$=>[...$.filter($=>$.entry_id!=t.id),t.data]]]}),[td]:($,[o,t])=>({[g]:[[jd,t],[na,t.id],[tb,t.id],[sd,t]]})},effects:{[Cd]:()=>fetch(H+"/api/v1/user",{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Dd]:$=>fetch(H+"/token?code="+$,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Ed]:()=>fetch(H+"/token",{method:"DELETE",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Fd]:$=>fetch(H+"/api/v1/entries/"+$.id,{method:"POST",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Gd]:$=>fetch(H+`/api/v1/entries/${$.id}/${$.userName}`,{method:"DELETE",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Hd]:$=>fetch(H+`/api/v1/entries/${$.id}/${$.userName}`,{method:"PUT",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Cb]:$=>fetch(H+`/api/v1/wiki?language=${$.language}&titles=${$.titles}`,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Id]:$=>fetch(H+"/api/v1/entries/"+$,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Jd]:$=>fetch(H+"/api/v1/entries",{method:"POST",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Kd]:$=>fetch(H+`/api/v1/entries/${$.id}`,{method:"PUT",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Ld]:$=>fetch(H+`/api/v1/search/entry?id=${$.id}&page=${$.page}`,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Md]:$=>fetch(H+"/api/v1/report",{method:"POST",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Nd]:$=>fetch(H+`/api/v1/entries/${$}/placeholder/vote/placeholder`,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Od]:$=>fetch(H+`/api/v1/entries/${$.id}/${$.data.opinion_github_handle}/vote`,{method:"POST",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Pd]:$=>fetch(H+`/api/v1/entries/${$.id}/${$.data.opinion_github_handle}/vote/${$.voteID}`,{method:"DELETE",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Hg]:$=>fetch(H+`/api/v1/notification/${$}`,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Qd]:$=>fetch(H+`/api/v1/notification/${$.id}`,{method:"POST",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Rd]:$=>fetch(H+`/api/v1/notification/${$.id}`,{method:"PUT",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Sd]:$=>fetch(H+`/api/v1/notification/${$.id}`,{method:"DELETE",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include",body:JSON.stringify($.data)}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Td]:()=>fetch(H+"/api/v1/notifications/new",{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()}),[Ud]:$=>fetch(H+`/api/v1/notifications/all/${$}`,{method:"GET",headers:[["Content-Type","application/json"],["Content-Type","text/plain"]],credentials:"include"}).then($=>{if(!$.ok)throw new Error($.statusText);return $.json()})},components:{[oa.id]:Jg,[vb.id]:Ng,[wb.id]:Og,[xb.id]:Th,[Ra.id]:Uh,[yb.id]:Wh,[Sa.id]:Zh,[ud.id]:$h,[zb.id]:ai,[Ab.id]:bi},domRoot:"app",initialState:{status:[k.INFO,"running"],user:{},newNotifications:[],route:{},debug:!1,isNavOpen:!1,accountOpen:!1,notificationOpen:!1,deleteOpinionOpen:!1,reportOpen:!1,report:{},input:"",entries:{},votes:{},voteLock:!1,notifications:{},opinions:{},tempOpinion:{},newEntry:{album:"",alias:"",author:"",category:"",consensus_translation:"",date:"",group:"",id:"",name:"",language:"en",romanization:"",wikipedia:null,opinions:[]},tempEntry:{},search:{}},views:{json:["",$=>JSON.stringify($,null,2)],user:["user",$=>$||{}],newNotifications:"newNotifications",status:"status",debug:"debug",isNavOpen:"isNavOpen",accountOpen:"accountOpen",notificationOpen:"notificationOpen",deleteOpinionOpen:"deleteOpinionOpen",reportOpen:"reportOpen",report:"report",input:"input",entries:"entries",votes:"votes",voteLock:"voteLock",notifications:"notifications",opinions:"opinions",tempOpinion:"tempOpinion",newEntry:"newEntry",tempEntry:"tempEntry",search:"search"},ui:{status:{[k.DONE]:{class:"text-center p-2 bg-yellow-200 text-yellow-700 fadeout"},[k.INFO]:{class:"text-center p-2 bg-yellow-200 text-yellow-700"},[k.SUCCESS]:{class:"text-center p-2 bg-green-200 text-green-700"},[k.ERROR]:{class:"text-center p-2 bg-red-200 text-red-700"}},newsletterForm:{title:{class:"sm:font-light text-2xl sm:text-3xl md:text-4xl text-gray-900 mt-6"},form:{class:"w-full"},container:{class:"flex items-center border-b border-b-2 border-purple-500 py-2"},input:{class:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none md:text-xl"},button:{class:"flex-shrink-0 bg-purple-500 hover:bg-purple-700 border-purple-500 hover:border-purple-700 text-sm border-4 text-white py-1 px-2 rounded"}},characterCard:{container:{class:"flex flex-col px-4 md:px-12 py-10 w-full sm:w-1/2 border-gray-200"},icon:{class:"h-8 w-8 md:h-10 md:w-10 md:-my-1"},body:{class:"flex flex-col leading-relaxed ml-4 md:ml-6"},content:{keyword:{class:"font-medium text-gray-800 text-lg"},description:{class:"text-gray-600 mt-1 text-sm md:text-base"}}},root:{class:"about_bg"},debug:{container:{class:"max-w-xs mt-1 flex max-h-screen overflow-y-auto overflow-x-auto"},debugToggle:{class:"font-bold rotate-270 flex mt-5 focus:outline-none h-10"},open:{class:"text-xs p-2 text-gray-800 rounded-lg"},close:{class:"hidden"}},logo:{container:{class:"sm:px-4 sm:pt-2 sm:pb-6 flex items-center"},m:{class:"h-10 text-purple-900"},mxs:{class:"h-10 ml-4 text-gray-900 hidden md:block"}},nav:{outer:{},search:{},inner:{open:{class:"items-center justify-between pl-4 pb-2 block sm:block sm:flex"},close:{class:"items-center justify-between pl-4 pb-2 hidden sm:block sm:flex"}},title:{class:"black f1 lh-title tc db mb2 mb2-ns"},link:{class:"mt-1 block px-2 py-1 font-bold rounded hover:bg-gray-100 text-lg sm:mt-0 sm:ml-2"}},contact:{link:{class:"flex flex-col sm:text-xl text-gray-600 mt-2 leading-relaxed font-bold hover:bg-gray-200 hover:text-gray-900"}},footer:{icon:{class:"mt-1 ml-2 font-normal text-gray-600 hover:text-gray-800 text-xs md:text-sm sm:mt-0"},copyright:{class:"mt-1 px-2 py-1 font-normal text-gray-600 text-xs md:text-sm sm:mt-0 sm:ml-2"},link:{class:"mt-1 block px-2 py-1 font-normal text-gray-600 hover:text-gray-800 text-xs md:text-sm sm:mt-0 sm:ml-2"}}}};new Ig(di).start();})();